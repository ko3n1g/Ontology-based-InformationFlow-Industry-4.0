(function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||void 0===g)return 1;if(g<h||void 0===h)return-1}}return a.index-b.index}function c(a){return"\\"+vb[a]}function d(a,b,c){b||(b=0),void 0===c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(e<0?0:e);++d<e;)f[d]=a[b+d];return f}function e(a){return a instanceof e?a:new f(a)}function f(a,b){this.__chain__=!!b,this.__wrapped__=a}function g(a){function b(){if(e){var a=d(e);Jb.apply(a,arguments)}if(this instanceof b){var g=h(c.prototype),i=c.apply(g,a||arguments);return J(i)?i:g}return c.apply(f,a||arguments)}var c=a[0],e=a[2],f=a[4];return b}function h(a,b){return J(a)?Lb(a):{}}function i(a,b,c){if("function"!=typeof a)return Sa;if(void 0===b||!("prototype"in a))return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Fa(a,b)}function j(a){function b(){var a=l?i:this;if(f){var q=d(f);Jb.apply(q,arguments)}if((g||n)&&(q||(q=d(arguments)),g&&Jb.apply(q,g),n&&q.length<k))return e|=16,j([c,o?e:-4&e,q,null,i,k]);if(q||(q=arguments),m&&(c=a[p]),this instanceof b){a=h(c.prototype);var r=c.apply(a,q);return J(r)?r:a}return c.apply(a,q)}var c=a[0],e=a[1],f=a[2],g=a[3],i=a[4],k=a[5],l=1&e,m=2&e,n=4&e,o=8&e,p=c;return b}function k(a,b){for(var c=-1,d=s(),e=a?a.length:0,f=[];++c<e;){var g=a[c];d(b,g)<0&&f.push(g)}return f}function l(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Ub(h)||v(h))){b||(h=l(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function m(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;var f=typeof a,g=typeof b;if(!(a!==a||a&&ub[f]||b&&ub[g]))return!1;if(null==a||null==b)return a===b;var h=Eb.call(a);if(h!=Eb.call(b))return!1;switch(h){case nb:case ob:return+a==+b;case qb:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case sb:case tb:return a==String(b)}var i=h==mb;if(!i){var j=a instanceof e,k=b instanceof e;if(j||k)return m(j?a.__wrapped__:a,k?b.__wrapped__:b,c,d);if(h!=rb)return!1;var l=a.constructor,n=b.constructor;if(l!=n&&!(I(l)&&l instanceof l&&I(n)&&n instanceof n)&&"constructor"in a&&"constructor"in b)return!1}c||(c=[]),d||(d=[]);for(var o=c.length;o--;)if(c[o]==a)return d[o]==b;var p=!0,q=0;if(c.push(a),d.push(b),i){if(q=b.length,p=q==a.length)for(;q--&&(p=m(a[q],b[q],c,d)););}else _b(b,function(b,e,f){if(Ib.call(f,e))return q++,!(p=Ib.call(a,e)&&m(a[e],b,c,d))&&gb}),p&&_b(a,function(a,b,c){if(Ib.call(c,b))return!(p=--q>-1)&&gb});return c.pop(),d.pop(),p}function n(a,b){return a+Hb(Sb()*(b-a+1))}function o(a,b,c){for(var d=-1,e=s(),f=a?a.length:0,g=[],h=c?[]:g;++d<f;){var i=a[d],j=c?c(i,d,a):i;(b?!d||h[h.length-1]!==j:e(h,j)<0)&&(c&&h.push(j),g.push(i))}return g}function p(a){return function(b,c,d){var e={};c=Qa(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else ac(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function q(a,b,c,d,e,f){var h=2&b,i=16&b,k=32&b;if(!h&&!I(a))throw new TypeError;return i&&!c.length&&(b&=-17,i=c=!1),k&&!d.length&&(b&=-33,k=d=!1),(1==b||17===b?g:j)([a,b,c,d,e,f])}function r(a){return Xb[a]}function s(){var b=(b=e.indexOf)===ra?a:b;return b}function t(a){return"function"==typeof a&&Fb.test(a)}function u(a){return Yb[a]}function v(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Eb.call(a)==lb||!1}function w(a){if(!a)return a;for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];if(d)for(var e in d)a[e]=d[e]}return a}function x(a){return J(a)?Ub(a)?d(a):w({},a):a}function y(a){if(!a)return a;for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];if(d)for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a}function z(a){var b=[];return _b(a,function(a,c){I(a)&&b.push(c)}),b.sort()}function A(a,b){return!!a&&Ib.call(a,b)}function B(a){for(var b=-1,c=Wb(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function C(a){return!0===a||!1===a||a&&"object"==typeof a&&Eb.call(a)==nb||!1}function D(a){return a&&"object"==typeof a&&Eb.call(a)==ob||!1}function E(a){return a&&1===a.nodeType||!1}function F(a){if(!a)return!0;if(Ub(a)||O(a))return!a.length;for(var b in a)if(Ib.call(a,b))return!1;return!0}function G(a,b){return m(a,b)}function H(a){return Nb(a)&&!Ob(parseFloat(a))}function I(a){return"function"==typeof a}function J(a){return!(!a||!ub[typeof a])}function K(a){return M(a)&&a!=+a}function L(a){return null===a}function M(a){return"number"==typeof a||a&&"object"==typeof a&&Eb.call(a)==qb||!1}function N(a){return a&&ub[typeof a]&&Eb.call(a)==sb||!1}function O(a){return"string"==typeof a||a&&"object"==typeof a&&Eb.call(a)==tb||!1}function P(a){return void 0===a}function Q(a){var b=[];_b(a,function(a,c){b.push(c)}),b=k(b,l(arguments,!0,!1,1));for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];e[f]=a[f]}return e}function R(a){for(var b=-1,c=Wb(a),d=c.length,e=Array(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function S(a){for(var b=-1,c=l(arguments,!0,!1,1),d=c.length,e={};++b<d;){var f=c[b];f in a&&(e[f]=a[f])}return e}function T(a){for(var b=-1,c=Wb(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function U(a,b){var c=s(),d=a?a.length:0,e=!1;return d&&"number"==typeof d?e=c(a,b)>-1:ac(a,function(a){return(e=a===b)&&gb}),e}function V(a,b,c){var d=!0;b=Qa(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else ac(a,function(a,c,e){return!(d=!!b(a,c,e))&&gb});return d}function W(a,b,c){var d=[];b=Qa(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else ac(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function X(a,b,c){b=Qa(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return ac(a,function(a,c,d){if(b(a,c,d))return f=a,gb}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Y(a,b){return ma(a,b,!0)}function Z(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&void 0===c?b:i(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==gb;);else ac(a,b)}function $(a,b){var c=a?a.length:0;if("number"==typeof c)for(;c--&&!1!==b(a[c],c,a););else{var d=Wb(a);c=d.length,ac(a,function(a,e,f){return e=d?d[--c]:--c,!1===b(f[e],e,f)&&gb})}}function _(a,b){var c=d(arguments,2),e=-1,f="function"==typeof b,g=a?a.length:0,h=Array("number"==typeof g?g:0);return Z(a,function(a){h[++e]=(f?b:a[b]).apply(a,c)}),h}function aa(a,b,c){var d=-1,e=a?a.length:0;if(b=Qa(b,c,3),"number"==typeof e)for(var f=Array(e);++d<e;)f[d]=b(a[d],d,a);else f=[],ac(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function ba(a,b,c){var d=-1/0,e=d;"function"!=typeof b&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&"number"==typeof g)for(;++f<g;){var h=a[f];h>e&&(e=h)}else b=Qa(b,c,3),Z(a,function(a,c,f){var g=b(a,c,f);g>d&&(d=g,e=a)});return e}function ca(a,b,c){var d=1/0,e=d;"function"!=typeof b&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&"number"==typeof g)for(;++f<g;){var h=a[f];h<e&&(e=h)}else b=Qa(b,c,3),Z(a,function(a,c,f){var g=b(a,c,f);g<d&&(d=g,e=a)});return e}function da(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Qa(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else ac(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function ea(a,b,c,d){var e=arguments.length<3;return b=Qa(b,d,4),$(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function fa(a,b,c){return b=Qa(b,c,3),W(a,function(a,c,d){return!b(a,c,d)})}function ga(a,b,c){if(a&&"number"!=typeof a.length&&(a=T(a)),null==b||c)return a?a[n(0,a.length-1)]:eb;var d=ha(a);return d.length=Rb(Qb(0,b),d.length),d}function ha(a){var b=-1,c=a?a.length:0,d=Array("number"==typeof c?c:0);return Z(a,function(a){var c=n(0,++b);d[b]=d[c],d[c]=a}),d}function ia(a){var b=a?a.length:0;return"number"==typeof b?b:Wb(a).length}function ja(a,b,c){var d;b=Qa(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else ac(a,function(a,c,e){return(d=b(a,c,e))&&gb});return!!d}function ka(a,c,d){var e=-1,f=a?a.length:0,g=Array("number"==typeof f?f:0);for(c=Qa(c,d,3),Z(a,function(a,b,d){g[++e]={criteria:[c(a,b,d)],index:e,value:a}}),f=g.length,g.sort(b);f--;)g[f]=g[f].value;return g}function la(a){return Ub(a)?d(a):a&&"number"==typeof a.length?aa(a):T(a)}function ma(a,b,c){return c&&F(b)?eb:(c?X:W)(a,b)}function na(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function oa(a){return k(a,l(arguments,!0,!0,1))}function pa(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=-1;for(b=Qa(b,c,3);++g<f&&b(a[g],g,a);)e++}else if(null==(e=b)||c)return a?a[0]:eb;return d(a,0,Rb(Qb(0,e),f))}function qa(a,b){return l(a,b)}function ra(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=d<0?Qb(0,e+d):d||0}else if(d){var f=ya(b,c);return b[f]===c?f:-1}return a(b,c,d)}function sa(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=Qa(b,c,3);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return d(a,0,Rb(Qb(0,f-e),f))}function ta(){for(var a=[],b=-1,c=arguments.length;++b<c;){var d=arguments[b];(Ub(d)||v(d))&&a.push(d)}var e=a[0],f=-1,g=s(),h=e?e.length:0,i=[];a:for(;++f<h;)if(d=e[f],g(i,d)<0){for(var b=c;--b;)if(g(a[b],d)<0)continue a;i.push(d)}return i}function ua(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=Qa(b,c,3);g--&&b(a[g],g,a);)e++}else if(null==(e=b)||c)return a?a[f-1]:eb;return d(a,Qb(0,f-e))}function va(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(c<0?Qb(0,d+c):Rb(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wa(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Qb(0,Gb((b-a)/c)),f=Array(e);++d<e;)f[d]=a,a+=c;return f}function xa(a,b,c){if("number"!=typeof b&&null!=b){var e=0,f=-1,g=a?a.length:0;for(b=Qa(b,c,3);++f<g&&b(a[f],f,a);)e++}else e=null==b||c?1:Qb(0,b);return d(a,e)}function ya(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?Qa(c,d,1):Sa,b=c(b);e<f;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function za(){return o(l(arguments,!0,!0))}function Aa(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=Qa(c,d,3)),o(a,b,c)}function Ba(a){return k(a,d(arguments,1))}function Ca(){for(var a=-1,b=ba(ec(arguments,"length")),c=Array(b<0?0:b);++a<b;)c[a]=ec(arguments,a);return c}function Da(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Ub(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Ea(a,b){if(!I(b))throw new TypeError;return function(){if(--a<1)return b.apply(this,arguments)}}function Fa(a,b){return arguments.length>2?q(a,17,d(arguments,2),null,b):q(a,1,null,null,b)}function Ga(a){for(var b=arguments.length>1?l(arguments,!0,!1,1):z(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=q(a[e],1,null,null,a)}return a}function Ha(){for(var a=arguments,b=a.length;b--;)if(!I(a[b]))throw new TypeError;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Ia(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!I(a))throw new TypeError;if(b=Qb(0,b)||0,!0===c){var n=!0;m=!1}else J(c)&&(n=c.leading,l="maxWait"in c&&(Qb(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(fc()-g);if(c<=0){e&&clearTimeout(e);var l=j;e=i=j=eb,l&&(k=fc(),f=a.apply(h,d),i||e||(d=h=null))}else i=setTimeout(o,c)},p=function(){i&&clearTimeout(i),e=i=j=eb,(m||l!==b)&&(k=fc(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=fc(),h=this,j=m&&(i||!n),!1===l)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=q<=0;r?(e&&(e=clearTimeout(e)),k=g,f=a.apply(h,d)):e||(e=setTimeout(p,q))}return r&&i?i=clearTimeout(i):i||b===l||(i=setTimeout(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Ja(a){if(!I(a))throw new TypeError;var b=d(arguments,1);return setTimeout(function(){a.apply(eb,b)},1)}function Ka(a,b){if(!I(a))throw new TypeError;var c=d(arguments,2);return setTimeout(function(){a.apply(eb,c)},b)}function La(a,b){var c={};return function(){var d=b?b.apply(this,arguments):hb+arguments[0];return Ib.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}}function Ma(a){var b,c;if(!I(a))throw new TypeError;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Na(a){return q(a,16,d(arguments,1))}function Oa(a,b,c){var d=!0,e=!0;if(!I(a))throw new TypeError;return!1===c?d=!1:J(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c={},c.leading=d,c.maxWait=b,c.trailing=e,Ia(a,b,c)}function Pa(a,b){return q(b,16,[a])}function Qa(a,b,c){var d=typeof a;if(null==a||"function"==d)return i(a,b,c);if("object"!=d)return Va(a);var e=Wb(a);return function(b){for(var c=e.length,d=!1;c--&&(d=b[e[c]]===a[e[c]]););return d}}function Ra(a){return null==a?"":String(a).replace($b,r)}function Sa(a){return a}function Ta(a){Z(z(a),function(b){var c=e[b]=a[b];e.prototype[b]=function(){var a=[this.__wrapped__];Jb.apply(a,arguments);var b=c.apply(e,a);return this.__chain__?new f(b,!0):b}})}function Ua(){return wb._=Db,this}function Va(a){return function(b){return b[a]}}function Wa(a,b){return null==a&&null==b&&(b=1),a=+a||0,null==b?(b=a,a=0):b=+b||0,a+Hb(Sb()*(b-a+1))}function Xa(a,b){if(a){var c=a[b];return I(c)?a[b]():c}}function Ya(a,b,d){var f=e,g=f.templateSettings;a=String(a||""),d=y({},d,g);var h=0,i="__p += '",j=d.variable,k=RegExp((d.escape||jb).source+"|"+(d.interpolate||jb).source+"|"+(d.evaluate||jb).source+"|$","g");a.replace(k,function(b,d,e,f,g){return i+=a.slice(h,g).replace(kb,c),d&&(i+="' +\n_.escape("+d+") +\n'"),f&&(i+="';\n"+f+";\n__p += '"),e&&(i+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),h=g+b.length,b}),i+="';\n",j||(j="obj",i="with ("+j+" || {}) {\n"+i+"\n}\n"),i="function("+j+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+i+"return __p\n}";try{var l=Function("_","return "+i)(f)}catch(a){throw a.source=i,a}return b?l(b):(l.source=i,l)}function Za(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=Array(a);for(b=i(b,c,1);++d<a;)e[d]=b(d);return e}function $a(a){return null==a?"":String(a).replace(Zb,u)}function _a(a){var b=++fb+"";return a?a+b:b}function ab(a){return a=new f(a),a.__chain__=!0,a}function bb(a,b){return b(a),a}function cb(){return this.__chain__=!0,this}function db(){return this.__wrapped__}var eb,fb=0,gb={},hb=+new Date+"",ib=/<%=([\s\S]+?)%>/g,jb=/($^)/,kb=/['\n\r\t\u2028\u2029\\]/g,lb="[object Arguments]",mb="[object Array]",nb="[object Boolean]",ob="[object Date]",pb="[object Function]",qb="[object Number]",rb="[object Object]",sb="[object RegExp]",tb="[object String]",ub={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},vb={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},wb=ub[typeof window]&&window||this,xb=ub[typeof exports]&&exports&&!exports.nodeType&&exports,yb=ub[typeof module]&&module&&!module.nodeType&&module,zb=yb&&yb.exports===xb&&xb,Ab=ub[typeof global]&&global;!Ab||Ab.global!==Ab&&Ab.window!==Ab||(wb=Ab);var Bb=[],Cb=Object.prototype,Db=wb._,Eb=Cb.toString,Fb=RegExp("^"+String(Eb).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Gb=Math.ceil,Hb=Math.floor,Ib=Cb.hasOwnProperty,Jb=Bb.push,Kb=Cb.propertyIsEnumerable,Lb=t(Lb=Object.create)&&Lb,Mb=t(Mb=Array.isArray)&&Mb,Nb=wb.isFinite,Ob=wb.isNaN,Pb=t(Pb=Object.keys)&&Pb,Qb=Math.max,Rb=Math.min,Sb=Math.random;f.prototype=e.prototype;var Tb={};!function(){var a={0:1,length:1};Tb.spliceObjects=(Bb.splice.call(a,0,1),!a[0])}(),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ib,variable:""},Lb||(h=function(){function a(){}return function(b){if(J(b)){a.prototype=b;var c=new a;a.prototype=null}return c||wb.Object()}}()),v(arguments)||(v=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ib.call(a,"callee")&&!Kb.call(a,"callee")||!1});var Ub=Mb||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Eb.call(a)==mb||!1},Vb=function(a){var b,c=a,d=[];if(!c)return d;if(!ub[typeof a])return d;for(b in c)Ib.call(c,b)&&d.push(b);return d},Wb=Pb?function(a){return J(a)?Pb(a):[]}:Vb,Xb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Yb=B(Xb),Zb=RegExp("("+Wb(Yb).join("|")+")","g"),$b=RegExp("["+Wb(Xb).join("")+"]","g"),_b=function(a,b){var c,d=a,e=d;if(!d)return e;if(!ub[typeof d])return e;for(c in d)if(b(d[c],c,a)===gb)return e;return e},ac=function(a,b){var c,d=a,e=d;if(!d)return e;if(!ub[typeof d])return e;for(c in d)if(Ib.call(d,c)&&b(d[c],c,a)===gb)return e;return e};I(/x/)&&(I=function(a){return"function"==typeof a&&Eb.call(a)==pb});var bc=p(function(a,b,c){Ib.call(a,c)?a[c]++:a[c]=1}),cc=p(function(a,b,c){(Ib.call(a,c)?a[c]:a[c]=[]).push(b)}),dc=p(function(a,b,c){a[c]=b}),ec=aa,fc=t(fc=Date.now)&&fc||function(){return(new Date).getTime()};e.after=Ea,e.bind=Fa,e.bindAll=Ga,e.chain=ab,e.compact=na,e.compose=Ha,e.countBy=bc,e.debounce=Ia,e.defaults=y,e.defer=Ja,e.delay=Ka,e.difference=oa,e.filter=W,e.flatten=qa,e.forEach=Z,e.functions=z,e.groupBy=cc,e.indexBy=dc,e.initial=sa,e.intersection=ta,e.invert=B,e.invoke=_,e.keys=Wb,e.map=aa,e.max=ba,e.memoize=La,e.min=ca,e.omit=Q,e.once=Ma,e.pairs=R,e.partial=Na,e.pick=S,e.pluck=ec,e.range=wa,e.reject=fa,e.rest=xa,e.shuffle=ha,e.sortBy=ka,e.tap=bb,e.throttle=Oa,e.times=Za,e.toArray=la,e.union=za,e.uniq=Aa,e.values=T,e.where=ma,e.without=Ba,e.wrap=Pa,e.zip=Ca,e.collect=aa,e.drop=xa,e.each=Z,e.extend=w,e.methods=z,e.object=Da,e.select=W,e.tail=xa,e.unique=Aa,e.clone=x,e.contains=U,e.escape=Ra,e.every=V,e.find=X,e.has=A,e.identity=Sa,e.indexOf=ra,e.isArguments=v,e.isArray=Ub,e.isBoolean=C,e.isDate=D,e.isElement=E,e.isEmpty=F,e.isEqual=G,e.isFinite=H,e.isFunction=I,e.isNaN=K,e.isNull=L,e.isNumber=M,e.isObject=J,e.isRegExp=N,e.isString=O,e.isUndefined=P,e.lastIndexOf=va,e.mixin=Ta,e.noConflict=Ua,e.random=Wa,e.reduce=da,e.reduceRight=ea,e.result=Xa,e.size=ia,e.some=ja,e.sortedIndex=ya,e.template=Ya,e.unescape=$a,e.uniqueId=_a,e.all=V,e.any=ja,e.detect=X,e.findWhere=Y,e.foldl=da,e.foldr=ea,e.include=U,e.inject=da,e.first=pa,e.last=ua,e.sample=ga,e.take=pa,e.head=pa,Ta(e),e.VERSION="2.4.1",e.prototype.chain=cb,e.prototype.value=db,Z(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=Bb[a];e.prototype[a]=function(){var a=this.__wrapped__;return b.apply(a,arguments),Tb.spliceObjects||0!==a.length||delete a[0],this}}),Z(["concat","join","slice"],function(a){var b=Bb[a];e.prototype[a]=function(){var a=this.__wrapped__,c=b.apply(a,arguments);return this.__chain__&&(c=new f(c),c.__chain__=!0),c}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(wb._=e,define("underscore",[],function(){return e})):xb&&yb?zb?(yb.exports=e)._=e:xb._=e:wb._=e}).call(this),function(){"use strict";function a(a){this.s=null!==a&&void 0!==a?"string"==typeof a?a:a.toString():a,this.orig=a,null!==a&&void 0!==a?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=a.length:this.length=-1}function b(){for(var a in k)!function(a){var b=k[a];j.hasOwnProperty(a)||(l.push(a),j[a]=function(){return String.prototype.s=this,b.apply(this,arguments)})}(a)}function c(){for(var a=0;a<l.length;++a)delete String.prototype[l[a]];l.length=0}function d(){for(var a=e(),b={},c=0;c<a.length;++c){var d=a[c],f=j[d];try{var g=typeof f.apply("teststring",[]);b[d]=g}catch(a){}}return b}function e(){var a=[];if(Object.getOwnPropertyNames)return a=Object.getOwnPropertyNames(j),a.splice(a.indexOf("valueOf"),1),a.splice(a.indexOf("toString"),1),a;var b={};for(var c in String.prototype)b[c]=c;for(var c in Object.prototype)delete b[c];for(var c in b)a.push(c);return a}function f(b){return new a(b)}function g(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push(a[c]),b&&b.call(a,a[c],c);return d}var h="1.5.1",i={},j=String.prototype,k=a.prototype={between:function(b,c){var d=this.s,e=d.indexOf(b),f=d.indexOf(c),g=e+b.length;return new a(f>e?d.slice(g,f):"")},camelize:function(){return new a(this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""}))},capitalize:function(){return new a(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(a){return this.s.charAt(a)},chompLeft:function(b){var c=this.s;return 0===c.indexOf(b)?(c=c.slice(b.length),new a(c)):this},chompRight:function(b){if(this.endsWith(b)){var c=this.s;return c=c.slice(0,c.length-b.length),new a(c)}return this},collapseWhitespace:function(){return new a(this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""))},contains:function(a){return this.s.indexOf(a)>=0},count:function(a){for(var b=0,c=this.s.indexOf(a);c>=0;)b+=1,c=this.s.indexOf(a,c+1);return b},dasherize:function(){return new a(this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase())},decodeHtmlEntities:function(){var b=this.s;return b=b.replace(/&#(\d+);?/g,function(a,b){return String.fromCharCode(b)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(a,b){return String.fromCharCode(parseInt(b,16))}).replace(/&([^;\W]+;?)/g,function(a,b){var c=b.replace(/;$/,""),d=i[b]||b.match(/;$/)&&i[c];return"number"==typeof d?String.fromCharCode(d):"string"==typeof d?d:a}),new a(b)},endsWith:function(a){var b=this.s.length-a.length;return b>=0&&this.s.indexOf(a,b)===b},escapeHTML:function(){return new a(this.s.replace(/[&<>"']/g,function(a){return"&"+p[a]+";"}))},ensureLeft:function(b){var c=this.s;return 0===c.indexOf(b)?this:new a(b+c)},ensureRight:function(b){var c=this.s;return this.endsWith(b)?this:new a(c+b)},humanize:function(){return new a(null===this.s||void 0===this.s?"":this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize())},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s||/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(b){if(b>=0){return new a(this.s.substr(0,b))}return this.right(-b)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(b,c){if(c=c||" ",this.s.length>=b)return new a(this.s);b-=this.s.length;var d=Array(Math.ceil(b/2)+1).join(c),e=Array(Math.floor(b/2)+1).join(c);return new a(d+this.s+e)},padLeft:function(b,c){return c=c||" ",new a(this.s.length>=b?this.s:Array(b-this.s.length+1).join(c)+this.s)},padRight:function(b,c){return c=c||" ",new a(this.s.length>=b?this.s:this.s+Array(b-this.s.length+1).join(c))},parseCSV:function(a,b,c,d){a=a||",",c=c||"\\",void 0===b&&(b='"');var e=0,f=[],g=[],h=this.s.length,i=!1,j=this,k=function(a){return j.s.charAt(a)};if(void 0!==d)var l=[];for(b||(i=!0);e<h;){var m=k(e);switch(m){case c:if(i&&(c!==b||k(e+1)===b)){e+=1,f.push(k(e));break}if(c!==b)break;case b:i=!i;break;case a:i&&b?f.push(m):(g.push(f.join("")),f.length=0);break;case d:i?f.push(m):l&&(g.push(f.join("")),l.push(g),g=[],f.length=0);break;default:i&&f.push(m)}e+=1}return g.push(f.join("")),l?(l.push(g),l):g},replaceAll:function(b,c){return new a(this.s.split(b).join(c))},right:function(b){if(b>=0){return new a(this.s.substr(this.s.length-b,b))}return this.left(-b)},slugify:function(){var b=new a(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===b.charAt(0)&&(b=b.substr(1)),new a(b)},startsWith:function(a){return 0===this.s.lastIndexOf(a,0)},stripPunctuation:function(){return new a(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var b=this.s;return g(arguments.length>0?arguments:[""],function(a){b=b.replace(RegExp("</?"+a+"[^<>]*>","gi"),"")}),new a(b)},template:function(b,c,d){var e=this.s,c=c||f.TMPL_OPEN,d=d||f.TMPL_CLOSE,g=new RegExp(c+"(.+?)"+d,"g");return(e.match(g)||[]).forEach(function(a){var f=a.substring(c.length,a.length-d.length);void 0!==b[f]&&(e=e.replace(a,b[f]))}),new a(e)},times:function(b){return new a(new Array(b+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var a=this.s.toLowerCase();return"true"===a||"yes"===a||"on"===a}return!0===this.orig||1===this.orig},toFloat:function(a){var b=parseFloat(this.s);return a?parseFloat(b.toFixed(a)):b},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var b;return b=void 0===j.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new a(b)},trimLeft:function(){var b;return b=j.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new a(b)},trimRight:function(){var b;return b=j.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new a(b)},truncate:function(b,c){var d=this.s;if(b=~~b,c=c||"...",d.length<=b)return new a(d);var e=function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "},f=d.slice(0,b+1).replace(/.(?=\W*\w*$)/g,e);return f=f.slice(f.length-2).match(/\w\w/)?f.replace(/\s*\S+$/,""):new a(f.slice(0,f.length-1)).trimRight().s,new a((f+c).length>d.length?d:d.slice(0,f.length)+c)},toCSV:function(){function b(a){return null!==a&&""!==a}var c=",",d='"',e="\\",f=!0,g=!1,h=[];if("object"==typeof arguments[0]?(c=arguments[0].delimiter||c,c=arguments[0].separator||c,d=arguments[0].qualifier||d,f=!!arguments[0].encloseNumbers,e=arguments[0].escape||e,g=!!arguments[0].keys):"string"==typeof arguments[0]&&(c=arguments[0]),"string"==typeof arguments[1]&&(d=arguments[1]),null===arguments[1]&&(d=null),this.orig instanceof Array)h=this.orig;else for(var i in this.orig)this.orig.hasOwnProperty(i)&&(g?h.push(i):h.push(this.orig[i]));for(var j=e+d,k=[],l=0;l<h.length;++l){var m=b(d);if("number"==typeof h[l]&&(m&=f),m&&k.push(d),null!==h[l]&&void 0!==h[l]){var n=new a(h[l]).replaceAll(d,j).s;k.push(n)}else k.push("");m&&k.push(d),c&&k.push(c)}return k.length=k.length-1,new a(k.join(""))},toString:function(){return this.s},underscore:function(){var b=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new a(this.s.charAt(0)).isUpper()&&(b="_"+b),new a(b)},unescapeHTML:function(){return new a(this.s.replace(/\&([^;]+);/g,function(a,b){var c;return b in o?o[b]:(c=b.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(c[1],16)):(c=b.match(/^#(\d+)$/))?String.fromCharCode(~~c[1]):a}))},valueOf:function(){return this.s.valueOf()}},l=[],m=d();for(var n in m)!function(b){var c=j[b];"function"==typeof c&&(k[b]||("string"===m[b]?k[b]=function(){return new a(c.apply(this,arguments))}:k[b]=c))}(n);k.repeat=k.times,k.include=k.contains,k.toInteger=k.toInt,k.toBool=k.toBoolean,k.decodeHTMLEntities=k.decodeHtmlEntities,f.extendPrototype=b,f.restorePrototype=c,f.VERSION=h,f.TMPL_OPEN="{{",f.TMPL_CLOSE="}}",f.ENTITIES=i,"undefined"!=typeof module&&void 0!==module.exports?module.exports=f:"function"==typeof define&&define.amd?define("string",[],function(){return f}):window.S=f;var o={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},p={};for(var q in o)p[o[q]]=q;i={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this),function(a,b){function c(a){var b=oa[a]={};return $.each(a.split(ba),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qa,"-$1").toLowerCase();if("string"==typeof(d=a.getAttribute(e))){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:pa.test(d)?$.parseJSON(d):d)}catch(a){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return $.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Ka.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a,d){return $.inArray(a,b)>=0===c})}function k(a){var b=Na.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xa.test(a.type)?(b.defaultChecked=b.checked=a.checked,
b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return void 0!==a.getElementsByTagName?a.getElementsByTagName("*"):void 0!==a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xa.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=qb.length;e--;)if((b=qb[e]+c)in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cb(c,"display"),e[f]||"none"===d||$._data(c,"olddisplay",d)));for(f=0;f<g;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;e<4;e+=2)"margin"===c&&(f+=$.css(a,c+pb[e],!0)),d?("content"===c&&(f-=parseFloat(cb(a,"padding"+pb[e]))||0),"margin"!==c&&(f-=parseFloat(cb(a,"border"+pb[e]+"Width"))||0)):(f+=parseFloat(cb(a,"padding"+pb[e]))||0,"padding"!==c&&(f+=parseFloat(cb(a,"border"+pb[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(d<=0){if(d=cb(a,b),(d<0||null==d)&&(d=a.style[b]),kb.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(mb[a])return mb[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),"none"!==c&&""!==c||(db=P.body.appendChild(db||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),eb&&db.createElement||(eb=(db.contentWindow||db.contentDocument).document,eb.write("<!doctype html><html><body>"),eb.close()),b=eb.body.appendChild(eb.createElement(a)),c=cb(b,"display"),P.body.removeChild(db)),mb[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||tb.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(ba),h=0,i=g.length;if($.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Jb;j<k&&(l||!h);j++)"string"==typeof(h=i[j](c,d,e))&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(!(c=i[h+" "+e]||i["* "+e]))for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){!0===c?c=i[d]:!0!==i[d]&&(e=f[0],g.splice(j--,0,e));break}if(!0!==c)if(c&&a.throws)b=c(b);else try{b=c(b)}catch(a){return{state:"parsererror",error:c?a:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(a){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function F(){return setTimeout(function(){Tb=b},0),Tb=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(Zb[b]||[]).concat(Zb["*"]),e=0,f=d.length;e<f;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=Yb.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Tb||F(),c=Math.max(0,i.startTime+i.duration-b),d=1-(c/i.duration||0),e=0,f=i.tweens.length;e<f;e++)i.tweens[e].run(d);return g.notifyWith(a,[i,d,c]),d<1&&f?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Tb||F(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(e),e},stop:function(b){for(var c=0,d=b?i.tweens.length:0;c<d;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);e<f;e++)if(d=Yb[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=$.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],p=a.nodeType&&r(a);c.queue||(j=$._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,$.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",$.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Vb.exec(f)){if(delete b[d],f===(p?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),p?$(a).show():l.done(function(){$(a).hide()}),l.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in n)$.style(a,b,n[b])}),d=0;d<g;d++)e=o[d],i=l.createTween(e,p?h[e]:0),n[e]=h[e]||$.style(a,e),e in h||(h[e]=i.start,p&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){for(var c,d={height:a},e=0;e<4;e+=2-b)c=pb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aa=/\S/,ba=/\s+/,ca=aa.test("\xa0")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,da=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fa=/^[\],:{}\s]*$/,ga=/(?:^|:|,)(?:\s*\[)+/g,ha=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ia=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ja=/^-ms-/,ka=/-([\da-z])/gi,la=function(a,b){return(b+"").toUpperCase()},ma=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",ma,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",ma),$.ready())},na={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(!(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:da.exec(a))||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),ea.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if((f=P.getElementById(e[2]))&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||$.isFunction(h)||(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(!0===a?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,!0!==a&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):na[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}var c;for(c in a);return c===b||Y.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=ea.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fa.test(b.replace(ha,"@").replace(ia,"]").replace(ga,""))?new Function("return "+b)():void $.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(a){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&aa.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ja,"ms-").replace(ka,la)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(!1===c.apply(a[e],d))break}else for(;f<g&&!1!==c.apply(a[f++],d););else if(h){for(e in a)if(!1===c.call(a[e],e,a[e]))break}else for(;f<g&&!1!==c.call(a[f],f,a[f++]););return a},trim:Z?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":a.toString().replace(ca,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length;if(a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a)))for(;h<i;h++)null!=(e=c(a[h],h,d))&&(g[g.length]=e);else for(f in a)null!=(e=c(a[f],f,d))&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||f.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState||"loading"!==P.readyState&&P.addEventListener)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",ma,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",ma),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(a){}c&&c.doScroll&&function a(){if(!$.isReady){try{c.doScroll("left")}catch(b){return setTimeout(a,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){na["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var oa={};$.Callbacks=function(a){a="string"==typeof a?oa[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&i<h;i++)if(!1===j[i].apply(b[0],b[1])&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function b(c){$.each(c,function(c,d){!$.isFunction(d)||a.unique&&m.has(d)?d&&d.length&&b(d):j.push(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(c<=h&&h--,c<=i&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return"object"==typeof a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length||!d)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(a){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),void 0!==d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pa=/^(?:\{.*\}|\[.*\])$/,qa=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return!!(a=a.nodeType?$.cache[a[$.expando]]:a[$.expando])&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||++$.uuid:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),"object"!=typeof c&&"function"!=typeof c||(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?null==(g=f[c])&&(g=f[$.camelCase(c)]):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;f<g;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;k<i;k++)h=g[k].name,0===h.indexOf("data-")&&(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){if(c===b)return l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l;e[1]=c,this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.shift(),e=$._queueHooks(a,b),f=function(){$.dequeue(a,b)};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),delete e.stop,d.call(a,f,e)),!c.length&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)(d=$._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ra,sa,ta,ua=/[\t\r\n]/g,va=/\r/g,wa=/^(?:button|input)$/i,xa=/^(?:button|input|object|select|textarea)$/i,ya=/^a(?:rea|)$/i,za=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Aa=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(a){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(ba),c=0,d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(ba),h=0,i=this.length;h<i;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ua," "),f=0,g=c.length;f<g;f++)for(;d.indexOf(" "+c[f]+" ")>-1;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return $.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(ba);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else"undefined"!==c&&"boolean"!==c||(this.className&&$._data(this,"__className__",this.className),this.className=this.className||!1===a?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ua," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),(c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()])&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return(c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(va,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(f<0)return null;for(c=i?f:0,d=i?f+1:h.length;c<d;c++)if(e=h[c],e.selected&&($.support.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!$.nodeName(e.parentNode,"optgroup"))){if(b=$(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?$(h[f]).val():g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):void 0===a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(za.test(c)?sa:ra)),d!==b?null===d?void $.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(ba);g<d.length;g++)(e=d[g])&&(c=$.propFix[e]||e,f=za.test(e),f||$.attr(a,e,""),a.removeAttribute(Aa?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wa.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return ra&&$.nodeName(a,"button")?ra.get(a,b):b in a?a.value:null},set:function(a,b,c){if(ra&&$.nodeName(a,"button"))return ra.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xa.test(a.nodeName)||ya.test(a.nodeName)&&a.href?0:b}}}}),sa={get:function(a,c){var d,e=$.prop(a,c);return!0===e||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():b},set:function(a,b,c){var d;return!1===b?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Aa||(ta={name:!0,id:!0,coords:!0},ra=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(ta[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),$.attrHooks.contenteditable={get:ra.get,set:function(a,b,c){""===b&&(b="false"),ra.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){if($.isArray(b))return a.checked=$.inArray($(a).val(),b)>=0}})});var Ba=/^(?:textarea|input|select)$/i,Ca=/^([^\.]*|)(?:\.(.+)|)$/,Da=/(?:^|\s)hover(\.\S+|)\b/,Ea=/^key/,Fa=/^(?:mouse|contextmenu)|click/,Ga=/^(?:focusinfocus|focusoutblur)$/,Ha=function(a){return $.event.special.hover?a:a.replace(Da,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return void 0===$||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Ha(c)).split(" "),j=0;j<c.length;j++)k=Ca.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,
selector:f,namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&!1!==q.setup.call(a,e,m,h)||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Ha(b||"")).split(" "),f=0;f<b.length;f++)if(g=Ca.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&!1!==n.teardown.call(a,j,q.handle)||$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Ga.test(q+$.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!$.event.customEvent[q]||$.event.global[q]))if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},!m.trigger||!1!==m.trigger.apply(e,d)){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Ga.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),(n=l&&j[l])&&$.acceptData(j)&&!1===n.apply(j,d)&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&!1!==m._default.apply(e.ownerDocument,d)||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n=($._data(this,"events")||{})[c.type]||[],o=n.delegateCount,p=[].slice.call(arguments),q=!c.exclusive&&!c.namespace,r=$.event.special[c.type]||{},s=[];if(p[0]=c,c.delegateTarget=this,!r.preDispatch||!1!==r.preDispatch.call(this,c)){if(o&&(!c.button||"click"!==c.type))for(g=$(this),g.context=this,f=c.target;f!=this;f=f.parentNode||this)if(!0!==f.disabled||"click"!==c.type){for(i={},k=[],g[0]=f,d=0;d<o;d++)l=n[d],m=l.selector,i[m]===b&&(i[m]=g.is(m)),i[m]&&k.push(l);k.length&&s.push({elem:f,matches:k})}for(n.length>o&&s.push({elem:this,matches:n.slice(o)}),d=0;d<s.length&&!c.isPropagationStopped();d++)for(j=s[d],c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(q||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,(h=(($.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,p))!==b&&(c.result=h,!1===h&&(c.preventDefault(),c.stopPropagation())));return r.postDispatch&&r.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{ready:{setup:$.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(void 0===a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){if(!(this instanceof $.Event))return new $.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector;return e&&(e===d||$.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){if($.nodeName(this,"form"))return!1;$.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if($.nodeName(this,"form"))return!1;$.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){if(Ba.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1;$.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ba.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return $.event.remove(this,"._change"),Ba.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0==c++&&P.addEventListener(a,d,!0)},teardown:function(){0==--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return!1!==c&&"function"!=typeof c||(d=c,c=b),!1===d&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return $.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Ea.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fa.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){for(var e=0,f=b.length;e<f;e++)fa(a,b[e],c,d)}function d(a,b,d,e,f,g){var h,i=ga.setFilters[b.toLowerCase()];return i||fa.error(b),!a&&(h=f)||c(a||"*",e,h=[],f),h.length>0?i(h,d,g):[]}function e(a,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=0,r=h.length,s=S.POS,t=new RegExp("^"+s.source+"(?!"+y+")","i"),u=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===b&&(i[a]=b)};q<r;q++){for(s.exec(""),a=h[q],l=[],k=0,m=g;i=s.exec(a);)(p=s.lastIndex=i.index+i[0].length)>k&&(o=a.slice(k,i.index),k=p,n=[e],I.test(o)&&(m&&(n=m),m=g),(j=O.test(o))&&(o=o.slice(0,-5).replace(I,"$&*")),i.length>1&&i[0].replace(t,u),m=d(o,i[1],i[2],n,m,j));m?(l=l.concat(m),(o=a.slice(k))&&")"!==o?I.test(o)?c(o,l,f,g):fa(o,e,f,g?g.concat(m):m):w.apply(f,l)):fa(a,e,f,g)}return 1===r?f:fa.uniqueSort(f)}function f(a,b,c){for(var d,e,f,g=[],h=0,i=K.exec(a),j=!i.pop()&&!i.pop(),k=j&&a.match(J)||[""],l=ga.preFilter,m=ga.filter,n=!c&&b!==p;null!=(e=k[h])&&j;h++)for(g.push(d=[]),n&&(e=" "+e);e;){j=!1,(i=I.exec(e))&&(e=e.slice(i[0].length),j=d.push({part:i.pop().replace(H," "),captures:i}));for(f in m)!(i=S[f].exec(e))||l[f]&&!(i=l[f](i,b,c))||(e=e.slice(i.shift().length),j=d.push({part:f,captures:i}));if(!j)break}return j||fa.error(a),g}function g(a,b,c){var d=b.dir,e=u++;return a||(a=function(a){return a===c}),b.first?function(b,c){for(;b=b[d];)if(1===b.nodeType)return a(b,c)&&b}:function(b,c){for(var f,g=e+"."+l,h=g+"."+k;b=b[d];)if(1===b.nodeType){if((f=b[x])===h)return b.sizset;if("string"==typeof f&&0===f.indexOf(g)){if(b.sizset)return b}else{if(b[x]=h,a(b,c))return b.sizset=!0,b;b.sizset=!1}}}}function h(a,b){return a?function(c,d){var e=b(c,d);return e&&a(!0===e?c:e,d)}:b}function i(a,b,c){for(var d,e,f=0;d=a[f];f++)ga.relative[d.part]?e=g(e,ga.relative[d.part],b):(d.captures.push(b,c),e=h(e,ga.filter[d.part].apply(null,d.captures)));return e}function j(a){return function(b,c){for(var d,e=0;d=a[e];e++)if(d(b,c))return!0;return!1}}var k,l,m,n,o,p=a.document,q=p.documentElement,r="undefined",s=!1,t=!0,u=0,v=[].slice,w=[].push,x=("sizcache"+Math.random()).replace(".",""),y="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",A=z.replace("w","w#"),B="([*^$|!~]?=)",C="\\["+y+"*("+z+")"+y+"*(?:"+B+y+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+A+")|)|)"+y+"*\\]",D=":("+z+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",E=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",F=y+"*([\\x20\\t\\r\\n\\f>+~])"+y+"*",G="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+C+"|"+D.replace(2,7)+"|[^\\\\(),])+",H=new RegExp("^"+y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+y+"+$","g"),I=new RegExp("^"+F),J=new RegExp(G+"?(?="+y+"*,|$)","g"),K=new RegExp("^(?:(?!,)(?:(?:^|,)"+y+"*"+G+")*?|"+y+"*(.*?))(\\)|$)"),L=new RegExp(G.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+F,"g"),M=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,N=/[\x20\t\r\n\f]*[+~]/,O=/:not\($/,P=/h\d/i,Q=/input|select|textarea|button/i,R=/\\(?!\\)/g,S={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),NAME:new RegExp("^\\[name=['\"]?("+z+")['\"]?\\]"),TAG:new RegExp("^("+z.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+C),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+y+"*(even|odd|(([+-]|)(\\d*)n|)"+y+"*(?:([+-]|)"+y+"*(\\d+)|))"+y+"*\\)|)","i"),POS:new RegExp(E,"ig"),needsContext:new RegExp("^"+y+"*[>+~]|"+E,"i")},T={},U=[],V={},W=[],X=function(a){return a.sizzleFilter=!0,a},Y=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Z=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},_=function(a){var b=!1,c=p.createElement("div");try{b=a(c)}catch(a){}return c=null,b},aa=_(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),ba=_(function(a){a.id=x+0,a.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",q.insertBefore(a,q.firstChild);var b=p.getElementsByName&&p.getElementsByName(x).length===2+p.getElementsByName(x+0).length;return o=!p.getElementById(x),q.removeChild(a),b}),ca=_(function(a){return a.appendChild(p.createComment("")),0===a.getElementsByTagName("*").length}),da=_(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==r&&"#"===a.firstChild.getAttribute("href")}),ea=_(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length)}),fa=function(a,b,c,d){c=c||[],b=b||p;var e,f,g,h,i=b.nodeType;if(1!==i&&9!==i)return[];if(!a||"string"!=typeof a)return c;if(!(g=ha(b))&&!d&&(e=M.exec(a)))if(h=e[1]){if(9===i){if(!(f=b.getElementById(h))||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&ia(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return w.apply(c,v.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&ea&&b.getElementsByClassName)return w.apply(c,v.call(b.getElementsByClassName(h),0)),c}return la(a,b,c,d,g)},ga=fa.selectors={cacheLength:50,match:S,order:["ID","TAG"],attrHandle:{},createPseudo:X,find:{ID:o?function(a,b,c){if(typeof b.getElementById!==r&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==r&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==r&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:ca?function(a,b){if(typeof b.getElementsByTagName!==r)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(R,""),a[3]=(a[4]||a[5]||"").replace(R,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||fa.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=a[4];return S.CHILD.test(a[0])?null:(c&&(b=K.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:o?function(a){return a=a.replace(R,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(R,""),function(b){var c=typeof b.getAttributeNode!==r&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(R,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=T[a];return b||(b=T[a]=new RegExp("(^|"+y+")"+a+"("+y+"|$)"),U.push(a),U.length>ga.cacheLength&&delete T[U.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==r&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(d){var e=fa.attr(d,a),f=e+"";if(null==e)return"!="===b;switch(b){case"=":return f===c;case"!=":return f!==c;case"^=":return c&&0===f.indexOf(c);case"*=":return c&&f.indexOf(c)>-1;case"$=":return c&&f.substr(f.length-c.length)===c;case"~=":return(" "+f+" ").indexOf(c)>-1;case"|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){return null!=fa.attr(b,a)}},CHILD:function(a,b,c,d){if("nth"===a){var e=u++;return function(a){var b,f,g=0,h=a;if(1===c&&0===d)return!0;if((b=a.parentNode)&&(b[x]!==e||!a.sizset)){for(h=b.firstChild;h&&(1!==h.nodeType||(h.sizset=++g,h!==a));h=h.nextSibling);b[x]=e}return f=a.sizset-d,0===c?0===f:f%c==0&&f/c>=0}}return function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,d){var e=ga.pseudos[a]||ga.pseudos[a.toLowerCase()];return e||fa.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e}},pseudos:{not:X(function(a,b,c){var d=ka(a.replace(H,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},parent:function(a){return!ga.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:X(function(a){return function(b){return(b.textContent||b.innerText||ja(b)).indexOf(a)>-1}}),has:X(function(a){return function(b){return fa(a,b).length>0}}),header:function(a){return P.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:Y("radio"),checkbox:Y("checkbox"),file:Y("file"),password:Y("password"),image:Y("image"),submit:Z("submit"),reset:Z("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return Q.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){var d=a.pop();return c?a:[d]},even:function(a,b,c){for(var d=[],e=c?1:0,f=a.length;e<f;e+=2)d.push(a[e]);return d},odd:function(a,b,c){for(var d=[],e=c?0:1,f=a.length;e<f;e+=2)d.push(a[e]);return d},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){var d=a.splice(+b,1);return c?a:d}}};ga.setFilters.nth=ga.setFilters.eq,ga.filters=ga.pseudos,da||(ga.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}}),ba&&(ga.order.push("NAME"),ga.find.NAME=function(a,b){if(typeof b.getElementsByName!==r)return b.getElementsByName(a)}),ea&&(ga.order.splice(1,0,"CLASS"),ga.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==r&&!c)return b.getElementsByClassName(a)});try{v.call(q.childNodes,0)[0].nodeType}catch(a){v=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}var ha=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},ia=fa.contains=q.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:q.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},ja=fa.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ja(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=ja(b);return c};fa.attr=function(a,b){var c,d=ha(a);return d||(b=b.toLowerCase()),ga.attrHandle[b]?ga.attrHandle[b](a):aa||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},[0,0].sort(function(){return t=0}),q.compareDocumentPosition?m=function(a,b){return a===b?(s=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:(m=function(a,b){if(a===b)return s=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return n(a,b);if(!g)return-1;if(!h)return 1;for(;i;)e.unshift(i),i=i.parentNode;for(i=h;i;)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return n(e[j],f[j]);return j===c?n(a,f[j],-1):n(e[j],b,1)},n=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),fa.uniqueSort=function(a){var b,c=1;if(m&&(s=t,a.sort(m),s))for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};var ka=fa.compile=function(a,b,c){var d,e,g,h=V[a];if(h&&h.context===b)return h;for(e=f(a,b,c),g=0;d=e[g];g++)e[g]=i(d,b,c);return h=V[a]=j(e),h.context=b,h.runs=h.dirruns=0,W.push(a),W.length>ga.cacheLength&&delete V[W.shift()],h};fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){return fa(b,null,null,[a]).length>0};var la=function(a,b,c,d,f){a=a.replace(H,"$1");var g,h,i,j,m,n,o,p,q,r=a.match(J),s=a.match(L),t=b.nodeType;if(S.POS.test(a))return e(a,b,c,d,r);if(d)g=v.call(d,0);else if(r&&1===r.length){if(s.length>1&&9===t&&!f&&(r=S.ID.exec(s[0]))){if(!(b=ga.find.ID(r[1],b,f)[0]))return c;a=a.slice(s.shift().length)}for(p=(r=N.exec(s[0]))&&!r.index&&b.parentNode||b,q=s.pop(),n=q.split(":not")[0],i=0,j=ga.order.length;i<j;i++)if(o=ga.order[i],r=S[o].exec(n)){if(null==(g=ga.find[o]((r[1]||"").replace(R,""),p,f)))continue;n===q&&((a=a.slice(0,a.length-q.length)+n.replace(S[o],""))||w.apply(c,v.call(g,0)));break}}if(a)for(h=ka(a,b,f),l=h.dirruns++,null==g&&(g=ga.find.TAG("*",N.test(a)&&b.parentNode||b)),i=0;m=g[i];i++)k=h.runs++,h(m,b)&&c.push(m);return c};p.querySelectorAll&&function(){var a,b=la,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],f=[":active"],g=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector;_(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+y+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),_(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+y+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),la=function(a,d,f,g,h){if(!(g||h||e&&e.test(a)))if(9===d.nodeType)try{return w.apply(f,v.call(d.querySelectorAll(a),0)),f}catch(a){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var i=d.getAttribute("id"),j=i||x,k=N.test(a)&&d.parentNode||d;i?j=j.replace(c,"\\$&"):d.setAttribute("id",j);try{return w.apply(f,v.call(k.querySelectorAll(a.replace(J,"[id='"+j+"'] $&")),0)),f}catch(a){}finally{i||d.removeAttribute("id")}}return b(a,d,f,g,h)},g&&(_(function(b){a=g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),f.push(ga.match.PSEUDO)}catch(a){}}),f=new RegExp(f.join("|")),fa.matchesSelector=function(b,c){if(c=c.replace(d,"='$1']"),!(ha(b)||f.test(c)||e&&e.test(c)))try{var h=g.call(b,c);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(a){}return fa(c,null,null,[b]).length>0})}(),fa.attr=$.attr,$.find=fa,$.expr=fa.selectors,$.expr[":"]=$.expr.pseudos,$.unique=fa.uniqueSort,$.text=fa.getText,$.isXMLDoc=fa.isXML,$.contains=fa.contains}(a);var Ia=/Until$/,Ja=/^(?:parents|prev(?:Until|All))/,Ka=/^.[^:#\[\.,]*$/,La=$.expr.match.needsContext,Ma={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;b<c;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;b<c;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?La.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=La.test(a)||"string"!=typeof a?$(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ia.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Ma[a]?$.unique(e):e,this.length>1&&Ja.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Na="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oa=/ jQuery\d+="(?:null|\d+)"/g,Pa=/^\s+/,Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ra=/<([\w:]+)/,Sa=/<tbody/i,Ta=/<|&#?\w+;/,Ua=/<(?:script|style|link)/i,Va=/<(?:script|object|embed|option|style)/i,Wa=new RegExp("<(?:"+Na+")[\\s/>]","i"),Xa=/^(?:checkbox|radio)$/,Ya=/checked\s*(?:[^=]|=\s*.checked.)/i,Za=/\/(java|ecma)script/i,$a=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ab=k(P),bb=ab.appendChild(P.createElement("div"));_a.optgroup=_a.option,_a.tbody=_a.tfoot=_a.colgroup=_a.caption=_a.thead,_a.th=_a.td,$.support.htmlSerialize||(_a._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){
for(var c,d=0;null!=(c=this[d]);d++)a&&!$.filter(a,[c]).length||(b||1!==c.nodeType||($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Oa,""):b;if("string"==typeof a&&!Ua.test(a)&&($.support.htmlSerialize||!Wa.test(a))&&($.support.leadingWhitespace||!Pa.test(a))&&!_a[(Ra.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(a){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Ya.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;i<m;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($a,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=(c[0]||c).ownerDocument||c[0]||c,void 0===c.createDocumentFragment&&(c=P),!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Va.test(h)||!$.support.checkClone&&Ya.test(h)||!$.support.html5Clone&&Wa.test(h)||(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bb.innerHTML=a.outerHTML,bb.removeChild(g=bb.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=0,s=[];for(b&&void 0!==b.createDocumentFragment||(b=P),f=b===P&&ab;null!=(g=a[r]);r++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Ta.test(g)){for(f=f||k(b),l=l||f.appendChild(b.createElement("div")),g=g.replace(Qa,"<$1></$2>"),h=(Ra.exec(g)||["",""])[1].toLowerCase(),i=_a[h]||_a._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sa.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,e=n.length-1;e>=0;--e)$.nodeName(n[e],"tbody")&&!n[e].childNodes.length&&n[e].parentNode.removeChild(n[e]);!$.support.leadingWhitespace&&Pa.test(g)&&l.insertBefore(b.createTextNode(Pa.exec(g)[0]),l.firstChild),g=l.childNodes,l=f.lastChild}else g=b.createTextNode(g);g.nodeType?s.push(g):s=$.merge(s,g)}if(l&&(f.removeChild(l),g=l=f=null),!$.support.appendChecked)for(r=0;null!=(g=s[r]);r++)$.nodeName(g,"input")?p(g):void 0!==g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){if(!a.type||Za.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},r=0;null!=(g=s[r]);r++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),void 0!==g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[r+1,0].concat(q)),r+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cb,db,eb,fb=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/^(top|right|bottom|left)$/,ib=/^margin/,jb=new RegExp("^("+_+")(.*)$","i"),kb=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),lb=new RegExp("^([-+])=("+_+")","i"),mb={},nb={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:0,fontWeight:400,lineHeight:1},pb=["Top","Right","Bottom","Left"],qb=["Webkit","O","Moz","ms"],rb=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?rb.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(!(g=typeof d,"string"===g&&(f=lb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||$.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(a){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cb(a,c)),"normal"===f&&c in ob&&(f=ob[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cb=function(a,b){var c,d,e,f,g=getComputedStyle(a,null),h=a.style;return g&&(c=g[b],""!==c||$.contains(a.ownerDocument.documentElement,a)||(c=$.style(a,b)),kb.test(c)&&ib.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f)),c}:P.documentElement.currentStyle&&(cb=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),kb.test(e)&&!hb.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){if(c)return 0!==a.offsetWidth||"none"!==cb(a,"display")?v(a,b,d):$.swap(a,nb,function(){return v(a,b,d)})},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){if(b)return cb(a,"marginRight")})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cb(a,b);return kb.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cb(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+pb[d]+b]=e[d]||e[d-2]||e[0];return f}},ib.test(a)||($.cssHooks[a+b].set=t)});var sb=/%20/g,tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,wb=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||wb.test(this.nodeName)||vb.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a,c){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(sb,"+")};var xb,yb,zb=/#.*$/,Ab=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Cb=/^(?:GET|HEAD)$/,Db=/^\/\//,Eb=/\?/,Fb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Gb=/([?&])_=[^&]*/,Hb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ib=$.fn.load,Jb={},Kb={},Lb=["*/"]+["*"];try{xb=Q.href}catch(a){xb=P.createElement("a"),xb.href="",xb=xb.href}yb=Hb.exec(xb.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Fb,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:xb,isLocal:Bb.test(yb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Lb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Jb),ajaxTransport:y(Kb),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&a<300||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),(v=w.getResponseHeader("Etag"))&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,x&&!a||(x="error",a<0&&(a=0))),w.status=a,w.statusText=""+(c||x),j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Ab.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(u<2)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(zb,"").replace(Db,yb[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(ba),null==m.crossDomain&&(j=Hb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]==yb[1]&&j[2]==yb[2]&&(j[3]||("http:"===j[1]?80:443))==(yb[3]||("http:"===yb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Jb,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Cb.test(m.type),k&&0==$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Eb.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,!1===m.cache)){var x=$.now(),y=m.url.replace(Gb,"$1_="+x);m.url=y+(y===m.url?(Eb.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Lb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(!1===m.beforeSend.call(n,w,m)||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Kb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Mb=[],Nb=/\?/,Ob=/(=)\?(?=&|$)|\?\?/,Pb=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Mb.pop()||$.expando+"_"+Pb++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=!1!==c.jsonp,l=k&&Ob.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ob.test(i);if("jsonp"===c.dataTypes[0]||l||m)return f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Ob,"$1"+f):m?c.data=i.replace(Ob,"$1"+f):k&&(c.url+=(Nb.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Mb.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Qb,Rb=!!a.ActiveXObject&&function(){for(var a in Qb)Qb[a](0,1)},Sb=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(a){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Rb&&delete Qb[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(a){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(a){e||f(-1,a)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Sb,Rb&&(Qb||(Qb={},$(a).unload(Rb)),Qb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Tb,Ub,Vb=/^(?:toggle|show|hide)$/,Wb=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Xb=/queueHooks$/,Yb=[J],Zb={"*":[function(a,b){var c,d,e,f=this.createTween(a,b),g=Wb.exec(b),h=f.cur(),i=+h||0,j=1;if(g){if(c=+g[2],"px"!==(d=g[3]||($.cssNumber[a]?"":"px"))&&i){i=$.css(f.elem,a,!0)||c||1;do{e=j=j||".5",i/=j,$.style(f.elem,a,i+d),j=f.cur()/h}while(1!==j&&j!==e)}f.unit=d,f.start=i,f.end=g[1]?i+(g[1]+1)*c:c}return f}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],Zb[c]=Zb[c]||[],Zb[c].unshift(b)},prefilter:function(a,b){b?Yb.unshift(a):Yb.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration),this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Xb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){for(var a,b=$.timers,c=0;c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||$.fx.stop()},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Ub&&(Ub=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Ub),Ub=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var $b=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j,k,l,m=this[0],n=m&&m.ownerDocument;if(n)return(e=n.body)===m?$.offset.bodyOffset(m):(d=n.documentElement,$.contains(d,m)?(c=m.getBoundingClientRect(),f=M(n),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||d.scrollTop,j=f.pageXOffset||d.scrollLeft,k=c.top+i-g,l=c.left+j-h,{top:k,left:l}):{top:0,left:0})},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=$b.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!$b.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(!0===e||!0===f?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g)}})}),a.jQuery=a.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){return j(this,"on",a,[b,c])&&b?(this._events||(this._events={}),(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this}),this):this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;i<k;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;l<m;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;g<h;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){return(this._listeningTo||(this._listeningTo={}))[b._listenId||(b._listenId=c.uniqueId("l"))]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;m<n;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return!!this.hasChanged()&&c.clone(this.changed);var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a),b.trigger("sync",b,c,a)},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);if(d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d))return!1;j&&j(i,a,d),i.trigger("sync",i,a,d)},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},
parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return!d||(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1)}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;e<f;e++)(h=a[e]=this.get(a[e]))&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&!1!==b.sort,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!(o||!u||!w)&&[];for(e=0,f=a.length;e<f;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(!(h=a[e]=this._prepareModel(i,b)))continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;e<f;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;e<f;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;e<f;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;e<f;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;d<e;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],!1!==c&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a.class=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){if(a.setRequestHeader("X-HTTP-Method-Override",f),h)return h.apply(this,arguments)}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();if(b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment)return!1;this.iframe&&this.navigate(b),this.loadUrl()},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!D.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),define("underscore.mixins",["underscore","string"],function(a,b){a.mixin({compactURI:function(b,c){function d(b){if(!b||!a.isString(b))return b;var d=b.lastIndexOf("#"),e={};if(c&&!a.isEmpty(c)){e=a.pairs(c)[0][0].indexOf(":")<0?a.invert(c)||{}:c}if(d<0&&(d=b.lastIndexOf("/")<0?b.lastIndexOf(":"):b.lastIndexOf("/"))<0)return b;var f=b.substring(0,d+1),g=b.substring(d+1);return e[f]||""===e[f]?e[f]+":"+g:b}return b?a.isArray(b)?a.map(a.compact(b),d):a.isString(b)?d(b):b:b},expandURI:function(b,c){function d(b){if(!b||!a.isString(b))return b;var d=b.indexOf(":"),e={};if(c&&!a.isEmpty(c)){e=a.pairs(c)[0][0].indexOf(":")<0?c:a.invert(c)||{}}if(d<0)return b;var f=b.substring(0,d),g=b.substring(d+1),h=e[f];return h?h+g:b}return a.isArray(b)?a.map(a.compact(b),d):a.isString(b)?d(b):b},localName:function(b){if(!b||!a.isString(b))return b;var c=b.lastIndexOf("#");if(c<0&&(c=b.lastIndexOf("/")<0?b.lastIndexOf(":"):b.lastIndexOf("/"))<0)return b;var d=b.substring(c+1);return d.trim()?d:b},isImage:function(c){if(!c||!a.isString(c)||!a.isUri(c))return!1;var d=c.toLowerCase();return b(d).endsWith(".jpg")||b(d).endsWith(".jpeg")||b(d).endsWith(".png")||b(d).endsWith(".gif")||b(d).endsWith(".svg")},isUri:function(b){return!(!b||!a.isString(b))&&(!(!b||b.indexOf(":")<0||b.indexOf(" ")>=0)&&/^(?:([^:\/?\#]+):)?(?:\/\/([^\/?\#]*))?([^?\#]*)(?:\?([^\#]*))?(?:\#(.*))?/.test(b))},stringLiteral:function(b){if(!b||a.isArray(b)&&0===b.length||a.isObject(b)&&0===a.keys(b).length)return b;var c=b;if(b instanceof Array){if(b=a.compact(b),0===b.length)return;if(1===b.length)c=b[0];else if(c=a.find(b,function(b){return!a.isObject(b)}),c||(c=a.find(b,function(a){return"en"==a["@language"]})),!c){var d=a.sortBy(b,function(a){return a["@value"].length});c=d[0]}}else c=b;return a.isObject(c)?c["@value"]:c},isDiff:function(b,c){var d=function(b,c){if(c.length!=b.length)return!0;var d=function(b){if(a.isObject(b)){if(a.has(b,"@id"))return b["@id"];var c=a.has(b,"@language")?b["@language"]:"";return b["@value"]+"@"+c}return a.isString(b)?b.trim():b},e=a.map(b,d),f=a.map(c,d);return!a.isEmpty(a.difference(e,f))||!a.isEmpty(a.difference(f,e))};if(typeof b!=typeof c){if(a.isString(b)||a.isString(c)){var e=JSON.stringify(b)||"";return(JSON.stringify(c)||"").trim()!=e.trim()}return!0}if(a.isString(b)||a.isString(c))return a.isString(b)&&a.isString(c)?b.trim()!=c.trim():b!=c;var f=[];f.push(c),f=a.flatten(f);var g=[];return g.push(b),g=a.flatten(g),d(g,f)},determineRdfFormat:function(a){return a.match(/.*\.xml|.*\.rdf/i)?"application/rdf+xml":a.match(/.*\.n3/i)?"text/n3":a.match(/.*\.ttl/i)?"text/turtle":a.match(/.*\.nq/i)?"text/x-nquads":a.match(/.*\.trig/i)?"application/x-trig":a.match(/.*\.trix/i)?"application/trix":a.match(/.*\.rq/i)||a.match(/.*\.sparql/i)?"application/sparql-query":"text/plain"},filtersString:function(b){var c=function(a){return"filter=("+a.facet+"|$eq|"+a.value+")"};if(a.isArray(b)){return a.map(b,c).join("&")}if(a.isObject(b)&&a.has(b,"facet")&&a.has(b,"value"))return c(b);throw new Error('Invalid argument: must be an Array of Objects or an Object with the format: { "facet": <property>, "value": <value> }')},asArray:function(b){if(!b)return b;var c=[];return c.push(b),a.compact(a.flatten(c))},urlFor:function(b){if(!b)throw new Error("baseUrl argument is required to generate a service URL!");var c=Array.prototype.slice.call(arguments,1),d=function(a){var c;return c="string"==typeof a?new Array(a):a||[],c.unshift(b),c.join("/")};return function(){var b=a.compact(a.toArray(arguments));return b.unshift.apply(b,c),d(b)}}})}),define("egad.config.model",["underscore","string","backbone","underscore.mixins"],function(a,b,c){"use strict";var d={},e={LABEL:"usingLabel",LIMIT:"limit",ORDER:"order",FIELDS:"fields",TEMPLATE:"template"},f="http://www.w3.org/2002/07/owl#Thing",g={};g[e.LABEL]="rdfs:label",g[e.LIMIT]=20,g[e.ORDER]=void 0,g[e.FIELDS]=[],g[e.TEMPLATE]=[];var h=d.TemplateField=c.Model.extend({idAttribute:"property",getProperty:function(){return this.get("property")},getType:function(){return this.get("type")},getRange:function(){return this.get("range")},getValue:function(){return this.get("value")}}),i=d.Template=c.Collection.extend({model:h}),j=d.Collection=c.Model.extend({idAttribute:"rdfId",defaults:{fields:[],template:[]},getLabel:function(){return this.get(e.LABEL)},getLimit:function(){return this.get(e.LIMIT)},getOrderProperty:function(){return this.get(e.ORDER)},getFields:function(){return this.get(e.FIELDS)},getTemplate:function(){return this.template||(this.template=new i(this.get(e.TEMPLATE))),this.template}}),k=d.Collections=c.Collection.extend({model:j}),l=d.DefaultCollection=j.extend({defaults:g});return d.Model=c.Model.extend({stores:{EGAD_WIDGETS:"egad:widgets",EGAD_MODELS:"egad:models",EGAD_COLLECTIONS:"egad:collections",EGAD_LABELS:"egad:labels",EGAD_SCHEMA_CLASSES:"egad:schema:classes",EGAD_SCHEMA_PROPERTIES:"egad:schema:properties",EGAD_NAMESPACES:"egad:namespaces",EGAD_METADATA:"egad:metadata"},name:function(){return this.has("name")?this.get("name"):""},label:function(){return this.has("label")?this.get("label"):""},isStardogEmbedded:function(){return this.get("embeddedInStardog")},sparqlEndpoint:function(){var a=this,b=function(){return a.isStardogEmbedded()?window.location.protocol+"//"+window.location.host+window.location.pathname+"/query":a.get("sparqlEndpoint")}();return b||""},apiEndpoint:function(){var a=this,b=function(){var b=a.get("apiEndpoint");return a.isStardogEmbedded()?window.location.protocol+"//"+window.location.host+b+window.location.pathname:b}();return b||""},namespaces:function(b){function d(a){var b=new j;if(a)return b.fetch();b.fetch({async:!1});var c=b.toJSON();return sessionStorage.setItem(g.stores.EGAD_NAMESPACES,JSON.stringify(c)),c}var e,f,g=this,h=a.urlFor(g.apiEndpoint(),"graph"),i=g.get("namespaces")||{},j=c.Model.extend({id:"namespaces",url:function(){return h("namespaces")},sync:c.cachingSync(c.sync,"ns:namespaces",120)});return f=sessionStorage.getItem(g.stores.EGAD_NAMESPACES),b?d(b):f?(e=JSON.parse(f),a.extend(i,e)):(e=d(!1),e?a.extend(i,e):i)},getCollections:function(){var c=this;return c.collections||(c.collections=new k,c.get("collections")&&a.each(c.get("collections"),function(d){var e=a.clone(d);if(a.has(e,"rdfId")){e.rdfId=a.expandURI(b(d.rdfId).trim().s,c.namespaces());var g;g=e.rdfId===f?new l(e):new j(e),c.collections.add(g)}}),c.collections.get(f)||c.collections.add(new l({rdfId:f}))),c.collections},getCollection:function(b){var c=a.expandURI(b,this.namespaces());return this.getCollections().get(c)},getDefaultCollection:function(){return this.getCollection(f)},hasCollection:function(a){return 0!==this.getCollections().size()&&!!this.getCollection(a)},_getCollectionSettingDefaultAware:function(a,b){var c=this.getCollection(a);return c&&c.get(b)?c.get(b):this.getDefaultCollection().get(b)},getLabelFor:function(a){return this._getCollectionSettingDefaultAware(a,e.LABEL)},getLimitFor:function(a){return this._getCollectionSettingDefaultAware(a,e.LIMIT)},getOrderFor:function(a){return this._getCollectionSettingDefaultAware(a,e.ORDER)},getFieldsFor:function(a){return this._getCollectionSettingDefaultAware(a,e.FIELDS)},getTemplateFor:function(b){var c=this,d=a.asArray(b),e=c.getDefaultCollection().getTemplate().toJSON();return a.each(d,function(b){var d=a.pluck(e,"property"),f=c.getCollection(b);if(f){var g=f.getTemplate().toJSON();a.each(g,function(b){a.contains(d,b.property)||e.push(b)})}}),new i(e)}}),d}),define("egad.config",["underscore","egad.config.model"],function(a,b){"use strict";var c=new b.Model;return c.set("name","Stardog Web Console"),c.set("label","img/sd.png"),c.set("sparqlEndpoint","unused"),c.set("apiEndpoint","/annex"),c.set("editData",!0),c.set("embeddedInStardog",!0),c.set("namespaces",{"http://www.w3.org/2004/02/skos/core#":"skos","http://www.w3.org/ns/org#":"org","http://purl.org/dc/elements/1.1/":"dc","http://dbpedia.org/resource/":"dbpedia","http://rdfs.org/ns/void#":"void","http://www.w3.org/ns/sparql-service-description#":"sd","http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/ns/formats/":"formats","http://xmlns.com/foaf/0.1/":"foaf","http://www.w3.org/2002/07/owl#":"owl","http://www.w3.org/2001/XMLSchema#":"xsd","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://clarkparsia.com/annex#":"annex","http://www.w3.org/2003/11/swrl#":"swrl"}),c.set("collections",{default:{limit:20}}),c.set("modules",{home:{module:"webconsole"},footer:{content:"ext/footerContent.html"},navbar:{items:[{htmlId:"adminConsole",label:"Admin Console",type:"link",using:"/",icon:"icon-gears"},{htmlId:"queryPanel",label:"Query",type:"link",using:"#!/query",icon:"icon-terminal"},{htmlId:"schemaBrowser",label:"Browse",type:"link",using:"#!/schema",icon:"icon-sitemap"}],dropdowns:[{name:"Data",icon:"icon-hdd",items:[{htmlId:"dataItemAdd",label:"Add",type:"link",using:"#",icon:"icon-plus"},{htmlId:"dataItemRemove",label:"Remove",type:"link",using:"#",icon:"icon-trash"},{htmlId:"dataItemExport",label:"Export",type:"link",using:"#",icon:"icon-download-alt"}]}]},browse:!0,query:{mainUrl:"#!/query",label:"Query",reasoning:!0},schema:{label:"Browse",mainUrl:"#!/schema"},search:{label:"Search",mainUrl:"#!/search",htmlId:"searchItem"},metadata:!0,treebrowser:!0,data:{code:"mods/data/module",templates:"mods/data/templates",styles:{location:"mods/data/styles"}},webconsole:{code:"mods/webconsole/module",templates:"mods/webconsole/templates",styles:{location:"mods/webconsole/styles"}},help:!0,skos:!1,pelorus:!1}),{config:c}}),define("egad.vocabulary",[],function(){"use strict";var a=function(){this.NS="http://www.w3.org/2001/XMLSchema#",this.DATETIME=this.NS+"dateTime",this.DATE=this.NS+"date",this.INTEGER=this.NS+"integer",this.INT=this.NS+"int",this.DOUBLE=this.NS+"double",this.FLOAT=this.NS+"float",this.DECIMAL=this.NS+"decimal",this.LONG=this.NS+"long",this.STRING=this.NS+"string",this.BOOLEAN=this.NS+"boolean",this.SHORT=this.NS+"short",this.BYTE=this.NS+"byte"};a.prototype.isNumeric=function(a){return a===this.INTEGER||a===this.INT||a===this.LONG||a===this.SHORT||a===this.BYTE||a===this.DOUBLE||a===this.FLOAT||a===this.DECIMAL},a.prototype.isDateTime=function(a){return a==this.DATETIME},a.prototype.isString=function(a){return a===this.STRING},a.prototype.isBoolean=function(a){return a==this.BOOLEAN};var b=function(){this.NS="http://www.w3.org/2000/01/rdf-schema#",this.LABEL=this.NS+"label",this.COMMENT=this.NS+"comment"},c=function(){this.NS="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.TYPE=this.NS+"type",this.LANG_STRING=this.NS+"langString"};c.prototype.isLangLiteral=function(a){return a==this.LANG_STRING};var d=function(){this.NS="http://www.w3.org/2002/07/owl#",this.THING=this.NS+"Thing",this.DATATYPE_PROPERTY=this.NS+"DatatypeProperty",this.OBJECT_PROPERTY=this.NS+"ObjectProperty"},e=function(){this.NS="http://xmlns.com/foaf/0.1/",this.NAME=this.NS+"name",this.HOMEPAGE=this.NS+"homepage"};return{xsd:new a,rdfs:new b,rdf:new c,owl:new d,foaf:new e}}()),define("uri",["require","exports","module"],function(a,b,c){function d(a){return a=decodeURIComponent(a),a=a.replace("+"," ")}function e(a){var b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],d=b.exec(a||""),e={};return c.forEach(function(a,b){e[a]=d[b]||""}),e}function f(a){var b,c,d,e,f,g,h=[];if(void 0===a||null===a||""===a)return h;for(0===a.indexOf("?")&&(a=a.substring(1)),c=a.toString().split(/[&;]/),b=0;b<c.length;b++)d=c[b],e=d.split("="),f=e[0],g=-1===d.indexOf("=")?null:null===e[1]?"":e[1],h.push([f,g]);return h}function g(a){this.uriParts=e(a),this.queryPairs=f(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;c<d;++c)a.call(b||this,this[c],c,this)}),["protocol","userInfo","host","port","path","anchor"].forEach(function(a){g.prototype[a]=function(b){return void 0!==b&&(this.uriParts[a]=b),this.uriParts[a]}}),g.prototype.hasAuthorityPrefix=function(a){return void 0!==a&&(this.hasAuthorityPrefixUserPref=a),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},g.prototype.query=function(a){var b,c,d="";for(void 0!==a&&(this.queryPairs=f(a)),b=0;b<this.queryPairs.length;b++)c=this.queryPairs[b],d.length>0&&(d+="&"),null===c[1]?d+=c[0]:(d+=c[0],d+="=",(c[1]||0===c[1])&&(d+=encodeURIComponent(c[1])));return d.length>0?"?"+d:d},g.prototype.getQueryParamValue=function(a){var b,c;for(c=0;c<this.queryPairs.length;c++)if(b=this.queryPairs[c],d(a)===d(b[0]))return b[1]},g.prototype.getQueryParamValues=function(a){var b,c,e=[];for(b=0;b<this.queryPairs.length;b++)c=this.queryPairs[b],d(a)===d(c[0])&&e.push(c[1]);return e},g.prototype.deleteQueryParam=function(a,b){var c,e,f,g,h=[];for(c=0;c<this.queryPairs.length;c++)e=this.queryPairs[c],f=d(e[0])===d(a),g=d(e[1])===d(b),(1===arguments.length&&!f||2===arguments.length&&!f&&!g)&&h.push(e);return this.queryPairs=h,this},g.prototype.addQueryParam=function(a,b,c){return 3===arguments.length&&-1!==c?(c=Math.min(c,this.queryPairs.length),this.queryPairs.splice(c,0,[a,b])):arguments.length>0&&this.queryPairs.push([a,b]),this},g.prototype.replaceQueryParam=function(a,b,c){var e,f,g=-1;if(3===arguments.length){for(e=0;e<this.queryPairs.length;e++)if(f=this.queryPairs[e],d(f[0])===d(a)&&decodeURIComponent(f[1])===d(c)){g=e;break}this.deleteQueryParam(a,c).addQueryParam(a,b,g)}else{for(e=0;e<this.queryPairs.length;e++)if(f=this.queryPairs[e],d(f[0])===d(a)){g=e;break}this.deleteQueryParam(a),this.addQueryParam(a,b,g)}return this},["protocol","hasAuthorityPrefix","userInfo","host","port","path","query","anchor"].forEach(function(a){var b="set"+a.charAt(0).toUpperCase()+a.slice(1);g.prototype[b]=function(b){return this[a](b),this}}),g.prototype.scheme=function(){var a="";return this.protocol()?(a+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(a+=":"),a+="//"):this.hasAuthorityPrefix()&&this.host()&&(a+="//"),a},g.prototype.origin=function(){var a=this.scheme();return this.userInfo()&&this.host()&&(a+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(a+="@")),this.host()&&(a+=this.host(),this.port()&&(a+=":"+this.port())),a},g.prototype.toString=function(){var a=this.origin();return this.path()?a+=this.path():this.host()&&(this.query().toString()||this.anchor())&&(a+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(a+="?"),a+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(a+="#"),a+=this.anchor()),a},g.prototype.clone=function(){return new g(this.toString())},void 0===c?window.Uri=g:c.exports=g}),function(a,b){"function"==typeof define&&define.amd?define("burry",[],function(){return b()}):a.Burry=b()}(this,function(){var a={Store:function(b,c){var d=a.stores();b&&(this._CACHE_SUFFIX=this._CACHE_SUFFIX+b,this._EXPIRY_KEY=this._EXPIRY_KEY+b,-1===d.indexOf(b)&&d.push(b)),localStorage.setItem("_burry_stores_",JSON.stringify(d)),this.default_ttl=c},_EXPIRY_UNITS:6e4,_mEpoch:function(){return Math.floor((new Date).getTime()/a._EXPIRY_UNITS)},stores:function(){var a=localStorage.getItem("_burry_stores_");return a=a?JSON.parse(a):[""]},isSupported:function(){if(a._isSupported)return a._isSupported;try{localStorage.setItem("_burry_","_burry_"),localStorage.removeItem("_burry_")}catch(b){return a._isSupported=!1}return JSON?a._isSupported=!0:a._isSupported=!1},flushExpired:function(){var b,c,d,e,f=[],g=a._mEpoch(),h=new RegExp("(.+)"+a.Store.prototype._EXPIRY_KEY+"(.*)");for(b=0;b<localStorage.length;b++)d=localStorage.key(b),(c=d.match(h))&&localStorage.getItem(d)<g&&(d=c[1],e=c[2],f.push(d+a.Store.prototype._CACHE_SUFFIX+e),f.push(d+a.Store.prototype._EXPIRY_KEY+e));for(b=0;b<f.length;b++)localStorage.removeItem(f[b])}};return a.Store.prototype={_CACHE_SUFFIX:"-_burry_",_EXPIRY_KEY:"-_burry_exp_",_internalKey:function(a){return(a=decodeURIComponent(a))+this._CACHE_SUFFIX},_expirationKey:function(a){return(a=decodeURIComponent(a))+this._EXPIRY_KEY},_isInternalKey:function(a){return a=decodeURIComponent(a),a.slice(-this._CACHE_SUFFIX.length)===this._CACHE_SUFFIX&&a.slice(0,-this._CACHE_SUFFIX.length)},_isExpirationKey:function(a){return a=decodeURIComponent(a),a.slice(-this._EXPIRY_KEY.length)===this._EXPIRY_KEY&&a.slice(0,-this._EXPIRY_KEY.length)},_expiresOn:function(a){a=decodeURIComponent(a);var b=localStorage.getItem(this._expirationKey(a));if(b)return parseInt(b,10)},_getCounter:function(a){var b=localStorage.getItem(a);return null===b?0:parseInt(b,10)},get:function(a){var b=localStorage.getItem(this._internalKey(a));if(null!==b){if(this.hasExpired(a))return void this.remove(a);try{b=JSON.parse(b)}catch(a){return}return b}},set:function(b,c,d){if(d=d||this.default_ttl,d&&(d=parseInt(d,10)),void 0!==typeof b&&void 0!==typeof c){c=JSON.stringify(c);try{localStorage.setItem(this._internalKey(b),c),d?localStorage.setItem(this._expirationKey(b),a._mEpoch()+d):localStorage.removeItem(this._expirationKey(b))}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name){a.flushExpired();try{localStorage.setItem(this._internalKey(b),c),d?localStorage.setItem(this._expirationKey(b),a._mEpoch()+d):localStorage.removeItem(this._expirationKey(b))}catch(a){}}}}},add:function(a,b,c){(null===localStorage.getItem(this._internalKey(a))||this.hasExpired(a))&&this.set(a,b,c)},replace:function(a,b,c){null===localStorage.getItem(this._internalKey(a))||this.hasExpired(a)||this.set(a,b,c)},remove:function(a){localStorage.removeItem(this._internalKey(a)),localStorage.removeItem(this._expirationKey(a))},incr:function(a){var b=this._internalKey(a),c=this._getCounter(b);c++,localStorage.setItem(b,c)},decr:function(a){var b=this._internalKey(a),c=this._getCounter(b);c--,localStorage.setItem(b,c)},hasExpired:function(b){var c=this._expiresOn(b);return!!(c&&c<a._mEpoch())},keys:function(){var a,b,c,d=[];for(a=0;a<localStorage.length;a++)b=localStorage.key(a),(c=this._isInternalKey(b))&&d.push(c);return d},expirableKeys:function(){var a,b,c,d={};for(a=0;a<localStorage.length;a++)b=localStorage.key(a),(c=this._isExpirationKey(b))&&(d[c]=parseInt(localStorage.getItem(b),10));return d},flush:function(){var a,b,c=[];for(a=0;a<localStorage.length;a++)b=localStorage.key(a),(this._isInternalKey(b)||this._isExpirationKey(b))&&c.push(b);for(a=0;a<c.length;a++)localStorage.removeItem(c[a])},flushExpired:function(){
var b,c=this.expirableKeys(),d=a._mEpoch();for(b in c)c[b]<d&&this.remove(b)}},a}),function(a,b){"function"==typeof define&&define.amd?define("backbone.cachingsync",["jquery","underscore","backbone","burry"],function(c,d,e,f){return a.Backbone.cachingSync=b(c,d,e,f)}):a.Backbone.cachingSync=b(a.$,a._,a.Backbone,a.Burry)}(this,function(a,b,c,d){return function(c,e,f){function g(d,e){var f,g=l.get(d.id),h=a.Deferred(),i={};return f=c("read",d,e),f&&f.done(function(a){d.set(a),l.set(d.id,d.toJSON())}),void 0!==g?(b.each(g,function(a,b){d.get(b)!==a&&(i[b]=a)}),h.resolve(i)):f.done(h.resolve).fail(h.reject),h.promise()}function h(d,e){var f,g=l.get("__ids__"),h=a.Deferred();return f=c("read",d,e).done(function(a){b.each(a,function(a){l.set(a.id,a)}),e?d.set(a,e):d.reset(a),l.set("__ids__",b.pluck(d.models,"id"))}),void 0!==g?h.resolve(b.map(g,function(a){return json=l.get(a),json.id=a,json})):f.done(h.resolve).fail(h.reject),h.promise()}function i(a,d){return c("create",a,d).done(function(c){l.set(c[a.idAttribute],c),a.collection&&l.set("__ids__",b(a.collection.models).chain().pluck("id").union([c[a.idAttribute]]).without(void 0).value())}).promise()}function j(a,b){var d=l.get(a.id);return l.set(a.id,a.attributes),c("update",a,b).fail(function(){d?l.set(a.id,d):l.remove(a.id)}).promise()}function k(a,b){var d=l.get(a.id);return l.remove(a.id),c("delete",a,b).fail(function(){d&&l.set(a.id,d)}).promise()}var l=new d.Store(e,f);return function(a,b,c){var d;switch(c=c||{},a){case"read":d=void 0!==b.id?g(b,c):h(b,c);break;case"create":d=i(b,c);break;case"update":d=j(b,c);break;case"delete":d=k(b,c)}return c.success&&d.done(c.success),c.error&&d.fail(c.error),d}}}),define("egad.ajax",["underscore","egad.config","egad.vocabulary","backbone","uri","backbone.cachingsync","underscore.mixins"],function(a,b,c,d,e){"use strict";var f,g=b.config.isStardogEmbedded(),h=g?window.location.pathname.substring(1):"",i=b.config.apiEndpoint(),j=b.config.sparqlEndpoint(),k=b.config.getDefaultCollection().limit,l=a.urlFor(i,"graph"),m=a.urlFor(i,"graph","reasoning"),n=a.urlFor(i,"search"),o=a.urlFor(i,"schema"),p=a.urlFor(i,"sparql","query"),q=function(){return h},r=function(){return i},s=function(){return new e(p()).toString()},t=function(b,c){return a.urlFor(i,"sparql")()+"/"+b+"?url="+encodeURIComponent(c)},u=d.Model.extend({url:function(){return o(this.id)}}),v=d.Model.extend({url:function(){return o("superclasses",this.id)}}),w=function(a,c,d){var e=new u({id:a}),f=d||15e3;if(c)return e.fetch({timeout:f});e.fetch({async:!1,timeout:f});var g=e.toJSON();return"classes"===a?sessionStorage.setItem(b.config.stores.EGAD_SCHEMA_CLASSES,JSON.stringify(g)):sessionStorage.setItem(b.config.stores.EGAD_SCHEMA_PROPERTIES,JSON.stringify(g)),g},x=function(a,c){var d=sessionStorage.getItem(b.config.stores.EGAD_SCHEMA_CLASSES);return!a&&d?JSON.parse(d):w("classes",a,c)},y=function(a,c){var d=sessionStorage.getItem(b.config.stores.EGAD_SCHEMA_PROPERTIES);return!a&&d?JSON.parse(d):w("properties",a,c)},z=function(a){var b=new v({id:encodeURIComponent(a)});return b.fetch({async:!1}),b.get("superclasses")},A=function(b){var c="literal",d=b;return a.isObject(b)&&(b["@id"]?(d=b["@id"],c="uri"):b["@value"]?d=b["@value"]:""===b["@value"]&&(d='<span class="label label-important">Empty</span>')),{type:c,val:d}},B=function(b,d,e,f){var g=A(e);return d="@type"===d?c.rdf.TYPE:d,"uri"===g.type&&(g.val=a.expandURI(g.val,f)),{s:{type:"uri",value:a.expandURI(b,f)},p:{type:"uri",value:a.expandURI(d,f)},o:{type:g.type,value:g.val}}},C=function(c){var d={head:{vars:["s","p","o"]},results:{bindings:[]}};if(a.isArray(c)){for(var e=0;e<c.length;e++){var g=d.results.bindings.concat(C(c[e],d).results.bindings);d.results.bindings=g}return d}if(a.isObject(c)&&!a.isString(c)&&a.has(c,"@id")){f=a.has(c,"@context")?c["@context"]:b.config.namespaces();var h=c["@id"];return a.each(c,function(b,c){if("@"!==c.charAt(0)||"@type"===c)if(a.isArray(b))for(var e=0;e<b.length;e++)d.results.bindings.push(B(h,c,b[e],f));else d.results.bindings.push(B(h,c,b,f))}),d}return c};return{stardogDB:q,rootUrl:r,graphUrl:l,graphReasoningUrl:m,searchUrl:n,schemaUrl:o,queryUrl:p,sparqlEndpoint:j,sparqlEndpointUrl:s,sparqlPathFor:t,listingLimit:k,getClassSchemaInfo:x,getPropertySchemaInfo:y,getSuperClasses:z,convertResultsToTable:C}}),define("egad.model",["underscore","backbone","egad.ajax","egad.config","egad.vocabulary","burry","uri","underscore.mixins","backbone.cachingsync"],function(a,b,c,d,e,f,g){"use strict";var h={};return h.Resource=b.Model.extend({idAttribute:"@id",labelProperty:"rdfs:label",sync:b.cachingSync(b.sync,d.config.stores.EGAD_MODELS,120),initialize:function(a){a=a||{},a&&a.labelProperty&&(this.labelProperty=a.labelProperty),this.setUrl(a),this.afterInitialize&&this.afterInitialize(a)},validate:function(b,c){function f(a){g=!1,h.push(a)}var g=!0,h=[],i=[];if(c&&c.fieldsTemplate&&c.fieldsTemplate.forEach(function(c){if(a.expandURI(c.id,d.config.namespaces())!==e.rdf.TYPE){i.push(c.id);var g,h=a.expandURI(c.id,d.config.namespaces()),j=a.compactURI(c.id,d.config.namespaces());if(a.has(b,h))g=h;else{if(!a.has(b,j))return void f(c.id);g=j}var k=b[g];(!k||k instanceof Array&&0===k.length||k instanceof Object&&a.isEmpty(k))&&f(c.id)}}),!g){var j=a.asArray(b["@type"]);return"<p>New instance "+(j?"with type(s): "+a.map(j,function(b){return"<code>"+a.compactURI(b)+"</code>"}).join(", "):"resource")+" must have values for properties: "+i.join(", ")+"</p><p>Missing: <strong>"+h.join(", ")+"</strong></p>"}},setUrl:function(a){var b,e=a.fromCollection||"resource";b=d.config.get("modules").browse&&d.config.get("modules").browse.reasoning?c.graphReasoningUrl:c.graphUrl,this.url=function(){var c=b(e,this.id),d=new g(c);return a.fields&&d.addQueryParam("fields","("+a.fields.join(",")+")"),d.toString()},this.urlRoot=b(e)},getConfigLabelField:function(){var b=[],c=a.asArray(this.get("@type"));return d.config.has("collections")&&(b=a.map(c,function(a){return d.config.getLabelFor(a)})),b.length>0?b:this.labelProperty},getLabel:function(b){var c="";if(b||(b=this.getConfigLabelField()),a.isArray(b)){for(var d=0;d<b.length;d+=1)if(this.has(b[d])){this.labelProperty=b[d];break}}else a.isString(b)&&(this.labelProperty=b);return c=a.stringLiteral(this.get(this.labelProperty)),c||"rdfs:label"==this.labelProperty||(c=a.stringLiteral(this.get("rdfs:label"))),c||this.labelProperty==e.rdfs.LABEL||(c=a.stringLiteral(this.get(e.rdfs.LABEL))),!c&&this.id&&(c=decodeURIComponent(a.localName(decodeURIComponent(this.id)))),c},getComment:function(){return this.hasProperty(e.rdfs.COMMENT)?a.stringLiteral(this.getProperty(e.rdfs.COMMENT)):void 0},getId:function(){return this.id?decodeURIComponent(this.id):void 0},getType:function(){return this.get("@type")?a.asArray(this.get("@type")):[]},setType:function(b){b&&this.set("@type",a.asArray(b))},hasLabel:function(){return this.has(this.labelProperty)},getProperties:function(){var b=this,c=new h.Properties;if(0!==a.keys(b.attributes).length){for(var d in b.attributes){var e;"@"!=d.charAt(0)&&(e=new h.Property({"@id":encodeURIComponent(d)}),e.fetch({async:!1}),e.set("@value",b.getProperty(d)),c.add(e))}return c}},getProperty:function(b){var c=this.get("@context")||d.config.namespaces();return this.get(a.expandURI(b,c))||this.get(a.compactURI(b,c))},hasProperty:function(a){return!!this.getProperty(a)},setProperty:function(b,c){var e=this.get("@context")||d.config.namespaces(),f=a.compactURI(b,e),g=a.expandURI(b,e);this.get(f)||this.get("@context")?this.set(f,c):this.set(g,c)},unsetProperty:function(b){var c=this.get("@context")||d.config.namespaces(),e=a.compactURI(b,c),f=a.expandURI(b,c);this.get(e)?this.unset(e):this.has(f)&&this.unset(f)}}),h.ResourceLabel=h.Resource.extend({labelProperty:"rdfs:label",sync:b.cachingSync(b.sync,d.config.stores.EGAD_LABELS,120),afterInitialize:function(){var b=this;this.url=function(){return c.graphUrl("resource",this.id)+"?fields=("+this.labelProperty+")"};var d;this.fetch({async:!1}).done(function(){d=b.get(b.labelProperty)}),this.set("@egadLabel",a.stringLiteral(d)||decodeURIComponent(this.id))}}),h.ResourceCollection=b.Collection.extend({model:h.Resource,page:0,limit:void 0,rdfType:"owl:Thing",rdfTypeLabel:"Thing",usingProperty:"",initialize:function(a,b){var e=this;this.url=function(){var a,f;f=d.config.get("modules").browse&&d.config.get("modules").browse.reasoning?c.graphReasoningUrl:c.graphUrl,e.rdfType=b.rdfType||e.rdfType,e.usingProperty=b.usingProperty,a=e.usingProperty?f("using",encodeURIComponent(e.usingProperty)):f(encodeURIComponent(e.rdfType));var h=new g(a);if(b.filter&&h.query(b.filter),b.fields&&h.addQueryParam("fields","("+b.fields.join(",")+")"),b.order&&h.addQueryParam("order","("+b.order+",1)"),!b.all){e.limit=b.limit||d.config.getLimitFor(e.rdfType)||c.listingLimit,e.page=b.page||0;var i=0;e.limit||(e.limit=15),i=e.limit*e.page,h.addQueryParam("limit",e.limit).addQueryParam("offset",i)}return h}},isFull:function(){return this.length==this.limit}}),h.Property=h.Resource.extend({defaults:{"@value":""}}),h.Properties=h.ResourceCollection.extend({model:h.Property,url:c.graphUrl("resource")}),h}),function(a){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function c(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function d(a){for(t in v)v[t]=a[B[t]]}function e(a,c){var e,f,g,i,j;if(e=a.keyCode,-1==b(A,e)&&A.push(e),93!=e&&224!=e||(e=91),e in v){v[e]=!0;for(g in x)x[g]==e&&(h[g]=!0)}else if(d(a),h.filter.call(this,a)&&e in u)for(i=0;i<u[e].length;i++)if(f=u[e][i],f.scope==c||"all"==f.scope){j=f.mods.length>0;for(g in v)(!v[g]&&b(f.mods,+g)>-1||v[g]&&-1==b(f.mods,+g))&&(j=!1);(0!=f.mods.length||v[16]||v[18]||v[17]||v[91])&&!j||!1===f.method(a,f)&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}function f(a){var c,d=a.keyCode,e=b(A,d);if(e>=0&&A.splice(e,1),93!=d&&224!=d||(d=91),d in v){v[d]=!1;for(c in x)x[c]==d&&(h[c]=!1)}}function g(){for(t in v)v[t]=!1;for(t in x)h[t]=!1}function h(a,b,c){var d,e;d=p(a),void 0===c&&(c=b,b="all");for(var f=0;f<d.length;f++)e=[],a=d[f].split("+"),a.length>1&&(e=q(a),a=[a[a.length-1]]),a=a[0],a=z(a),a in u||(u[a]=[]),u[a].push({shortcut:d[f],scope:b,method:c,key:d[f],mods:e})}function i(a,b){var d,e,f=a.split("+"),g=[];if(f.length>1&&(g=q(f),a=f[f.length-1]),a=z(a),void 0===b&&(b=n()),u[a])for(d in u[a])e=u[a][d],e.scope===b&&c(e.mods,g)&&(u[a][d]={})}function j(a){return"string"==typeof a&&(a=z(a)),-1!=b(A,a)}function k(){return A.slice(0)}function l(a){var b=(a.target||a.srcElement).tagName;return!("INPUT"==b||"SELECT"==b||"TEXTAREA"==b)}function m(a){w=a||"all"}function n(){return w||"all"}function o(a){var b,c,d;for(b in u)for(c=u[b],d=0;d<c.length;)c[d].scope===a?c.splice(d,1):d++}function p(a){var b;return a=a.replace(/\s/g,""),b=a.split(","),""==b[b.length-1]&&(b[b.length-2]+=","),b}function q(a){for(var b=a.slice(0,a.length-1),c=0;c<b.length;c++)b[c]=x[b[c]];return b}function r(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}function s(){var b=a.key;return a.key=C,b}var t,u={},v={16:!1,18:!1,17:!1,91:!1},w="all",x={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},y={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},z=function(a){return y[a]||a.toUpperCase().charCodeAt(0)},A=[];for(t=1;t<20;t++)y["f"+t]=111+t;var B={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(t in x)h[t]=!1;r(document,"keydown",function(a){e(a,w)}),r(document,"keyup",f),r(window,"focus",g);var C=a.key;a.key=h,a.key.setScope=m,a.key.getScope=n,a.key.deleteScope=o,a.key.filter=l,a.key.isPressed=j,a.key.getPressedKeyCodes=k,a.key.noConflict=s,a.key.unbind=i,"undefined"!=typeof module&&(module.exports=key)}(this),define("keymaster",function(a){return function(){var b;return b||a.key}}(this)),function(a,b){"use strict";"undefined"!=typeof exports?exports.Mediator=b():"function"==typeof define&&define.amd?define("mediator-js",[],function(){return a.Mediator=b(),a.Mediator()}):a.Mediator=b()}(this,function(){"use strict";function a(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function b(c,d,e){if(!(this instanceof b))return new b(c,d,e);this.id=a(),this.fn=c,this.options=d,this.context=e,this.channel=null}function c(a,b){if(!(this instanceof c))return new c(a);this.namespace=a||"",this._subscribers=[],this._channels=[],this._parent=b,this.stopped=!1}function d(){if(!(this instanceof d))return new d;this._channels=new c("")}return b.prototype={update:function(a){a&&(this.fn=a.fn||this.fn,this.context=a.context||this.context,this.options=a.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))}},c.prototype={addSubscriber:function(a,c,d){var e=new b(a,c,d);return c&&void 0!==c.priority?(c.priority=c.priority>>0,c.priority<0&&(c.priority=0),c.priority>=this._subscribers.length&&(c.priority=this._subscribers.length-1),this._subscribers.splice(c.priority,0,e)):this._subscribers.push(e),e.channel=this,e},stopPropagation:function(){this.stopped=!0},getSubscriber:function(a){var b=0,c=this._subscribers.length;for(c;b<c;b++)if(this._subscribers[b].id===a||this._subscribers[b].fn===a)return this._subscribers[b]},setPriority:function(a,b){var c,d,e,f,g=0,h=0;for(h=0,f=this._subscribers.length;h<f&&(this._subscribers[h].id!==a&&this._subscribers[h].fn!==a);h++)g++;c=this._subscribers[g],d=this._subscribers.slice(0,g),e=this._subscribers.slice(g+1),this._subscribers=d.concat(e),this._subscribers.splice(b,0,c)},addChannel:function(a){this._channels[a]=new c((this.namespace?this.namespace+":":"")+a,this)},hasChannel:function(a){return this._channels.hasOwnProperty(a)},returnChannel:function(a){return this._channels[a]},removeSubscriber:function(a){var b=this._subscribers.length-1;if(!a)return void(this._subscribers=[]);for(b;b>=0;b--)this._subscribers[b].fn!==a&&this._subscribers[b].id!==a||(this._subscribers[b].channel=null,this._subscribers.splice(b,1))},publish:function(a){var b,c,d,e=0,f=this._subscribers.length,g=!1;for(f;e<f;e++)this.stopped||(b=this._subscribers[e],void 0!==b.options&&"function"==typeof b.options.predicate?b.options.predicate.apply(b.context,a)&&(b.fn.apply(b.context,a),g=!0):(c=this._subscribers.length,b.fn.apply(b.context,a),d=this._subscribers.length,f=d,d===c-1&&e--,g=!0)),g&&b.options&&void 0!==b.options&&--b.options.calls<1&&(this.removeSubscriber(b.id),f--,e--);this._parent&&this._parent.publish(a),this.stopped=!1}},d.prototype={getChannel:function(a){var b=this._channels,c=a.split(":"),d=0,e=c.length;if(""===a)return b;if(c.length>0)for(e;d<e;d++)b.hasChannel(c[d])||b.addChannel(c[d]),b=b.returnChannel(c[d]);return b},subscribe:function(a,b,c,d){var e=this.getChannel(a);return c=c||{},d=d||{},e.addSubscriber(b,c,d)},once:function(a,b,c,d){return c=c||{},c.calls=1,this.subscribe(a,b,c,d)},getSubscriber:function(a,b){return this.getChannel(b||"").getSubscriber(a)},remove:function(a,b){this.getChannel(a).removeSubscriber(b)},publish:function(a){var b=Array.prototype.slice.call(arguments,1),c=this.getChannel(a);b.push(c),this.getChannel(a).publish(b)}},d.prototype.on=d.prototype.subscribe,d.prototype.bind=d.prototype.subscribe,d.prototype.emit=d.prototype.publish,d.prototype.trigger=d.prototype.publish,d.prototype.off=d.prototype.remove,d.Channel=c,d.Subscriber=b,d.version="0.9.4",d}),define("egad.event",["underscore","mediator-js","keymaster"],function(a,b){"use strict";var c={},d={},e=null,f=c.defaultModule="main";a.extend(c,{eventType:"eventGlobal",defaultModule:f,currentModule:function(a){e=a||f},getCurrentModule:function(){return e},on:function(a){var c=function(){},e=a.actionName||"default",f=a.callback||c,g=a.module||this.defaultModule,h=this.eventType+":"+g+":"+e;return b.subscribe(h,f),d[g]||(d[g]={}),d[g][e]=a.description,h},off:function(){if(!arguments[0])throw new Error("NO NAMESPACE WAS GIVEN FOR TRIGGER");b.remove.apply(b,arguments)},trigger:function(){if(!arguments[0])throw new Error("NO NAMESPACE WAS GIVEN FOR TRIGGER!");b.publish.apply(b,arguments)},getDescriptions:function(){return d}});var g={};a.extend(g,c,{eventType:"comm",actions:{},_actionKey:function(a,b){return a+"#"+b},_addAction:function(a,b,c){this.actions[this._actionKey(a,b)]=c},_getAction:function(a,b){return this.actions[this._actionKey(a,b)]},addListener:function(a,b,c,d){var e=this.on({module:a,actionName:b,description:c,callback:d});this._addAction(a,b,e)},sendMessage:function(a,b,c){this.trigger(this._getAction(a,b),c)}});var h={};return a.extend(h,c,{eventType:"shortcuts",registerShortcut:function(a,b,d,e){var f=this,g=f.on({module:a,actionName:b,callback:e,description:d});key(b,function(b){a!==c.defaultModule&&a!==c.getCurrentModule()||f.trigger(g,b)})},getModuleEvents:function(a){var d,e,f,g=b.getChannel(h.eventType),i={},j=h.getDescriptions(),k=c.defaultModule;if(e=g._channels[k])for(d in e._channels)i[d]=j[k][d];if(a&&g._channels[a]&&(f=g._channels[a]._channels))for(d in f)i[d]=j[a][d];return i},showHelp:function(){var a=h.getModuleEvents(c.getCurrentModule());g.sendMessage("help","showHelp",{moduleEvents:a})}}),{EventManager:c,CommManager:g,ShortcutsManager:h}}),function(a,b){"use strict";if("function"==typeof define&&define.amd)define("backbone.layoutmanager",["backbone","underscore","jquery"],function(){return b.apply(a,arguments)});else if("object"==typeof exports){var c=require("backbone"),d=require("underscore");c.$=c.$||require("jquery"),module.exports=b.call(a,c,d,c.$)}else b.call(a,a.Backbone,a._,a.Backbone.$)}("object"==typeof global?global:this,function(a,b,c){"use strict";var d=this,e=a.View,f=Array.prototype.push,g=Array.prototype.concat,h=Array.prototype.splice,i=String.prototype.trim?b.bind(String.prototype.trim.call,String.prototype.trim):c.trim,j=a.View.extend({_render:function(){var a=this,b=a.__manager__,c=a.beforeRender,d=a.deferred();if(a.hasRendered&&a._removeViews(),b.callback=function(){delete b.isAsync,delete b.callback,a.trigger("beforeRender",a),a._viewRender(b).render().then(function(){d.resolve()})},c){var e=c.call(a,a);if(e&&e.then&&(b.isAsync=!0,e.then(function(){b.callback(),d.resolve()},d.resolve)),!1===e)return d.resolve()}return b.isAsync||b.callback(),d.promise()},_applyTemplate:function(a,d,e){b.isString(a)&&(d.noel?(a=c.parseHTML(a,!0),this.$el.slice(1).remove(),this.$el.replaceWith(a),this.setElement(a,!1)):this.html(this.$el,a)),e.resolveWith(this,[this])},_viewRender:function(a){function c(b,c){var e;a.callback=function(b){delete a.isAsync,delete a.callback,g._applyTemplate(b,a,f)},j.cache(d,c),c&&(e=g.renderTemplate.call(g,c,b)),a.isAsync||g._applyTemplate(e,a,f)}var d,e,f,g=this;return{render:function(){var h=g.serialize,i=g.template;return f=g.deferred(),b.isFunction(h)&&(h=h.call(g)),a.callback=function(b){delete a.isAsync,delete a.callback,c(h,b)},"string"==typeof i&&(d=g.prefix+i),(e=j.cache(d))?(c(h,e,d),f):("string"==typeof i?e=g.fetchTemplate.call(g,g.prefix+i):"function"==typeof i?e=i:null!=i&&(e=g.fetchTemplate.call(g,i)),a.isAsync||c(h,e),f)}}},constructor:function(c){this.manage=!0,b.extend(this,c),a.View.apply(this,arguments)},async:function(){var a=this.__manager__;return a.isAsync=!0,a.callback},promise:function(){return this.__manager__.renderDeferred.promise()},then:function(){return this.promise().then.apply(this,arguments)},renderViews:function(a){var c=this,d=c.__manager__,e=c.deferred();a=a&&b.isArray(a)?b.chain(a):c.getViews(a);var f=a.map(function(a){return a.render().__manager__.renderDeferred}).value();return d.renderDeferred=e.promise(),c.when(f).then(function(){e.resolveWith(c,[c])}),c},insertView:function(a,b){return b?this.setView(a,b,!0):this.setView(a,!0)},insertViews:function(a){return b.isArray(a)?this.setViews({"":a}):(b.each(a,function(c,d){a[d]=b.isArray(c)?c:[c]}),this.setViews(a))},getView:function(a){return null==a&&(a=arguments[1]),this.getViews(a).first().value()},getViews:function(a){var c;return"string"==typeof a?(a=this.sections[a]||a,c=this.views[a]||[],b.chain([].concat(c))):(c=b.chain(this.views).map(function(a){return b.isArray(a)?a:[a]},this).flatten(),"object"==typeof a?c.where(a):"function"==typeof a?c.filter(a):c)},removeView:function(a){var b;return b=this.getViews(a).each(function(a){a.remove()}),b.value(),b},setView:function(a,b,c){var d,e,f=this;if("string"!=typeof a&&(c=b,b=a,a=""),!(d=b.__manager__))throw new Error("The argument associated with selector '"+a+"' is defined and a View.  Set `manage` property to true for Backbone.View instances.");return d.parent=f,e=d.selector=f.sections[a]||a,c?(f.views[e]=g.call([],f.views[a]||[],b),f.__manager__.insert=!0,b):(f.getView(a)!==b&&f.removeView(a),f.views[e]=b)},setViews:function(a){return b.each(a,function(a,c){if(b.isArray(a))return b.each(a,function(a){this.insertView(c,a)},this);this.setView(c,a)},this),this},render:function(){function a(){function a(){var a=d.console,c=e.afterRender;c&&c.call(e,e),e.trigger("afterRender",e),f.noel&&e.$el.length>1&&b.isFunction(a.warn)&&!e.suppressWarnings&&(a.warn("`el: false` with multiple top level elements is not supported."),b.isFunction(a.trace)&&a.trace())}return b.each(e.views,function(a,c){b.isArray(a)&&e.htmlBatch(e,a,c)}),g&&!f.insertedViaFragment&&(e.contains(g.el,e.el)||g.partial(g.$el,e.$el,h,f)),e.delegateEvents(),e.hasRendered=!0,f.renderInProgress=!1,delete f.triggeredByRAF,f.queue&&f.queue.length?f.queue.shift()():delete f.queue,h&&(h.renderInProgress||h.queue)?g.once("afterRender",a):a(),i.resolveWith(e,[e])}function c(){e._render().done(function(){if(!b.keys(e.views).length)return a();var c=b.map(e.views,function(a){var c=b.isArray(a);return c&&a.length?e.when(b.map(a,function(a){return a.__manager__.insertedViaFragment=!0,a.render().__manager__.renderDeferred})):c?a:a.render().__manager__.renderDeferred});e.when(c).done(a)})}var e=this,f=e.__manager__,g=f.parent,h=g&&g.__manager__,i=e.deferred();return f.renderInProgress=!0,e._registerWithRAF(c,i),f.renderDeferred=i,e},remove:function(){return j._removeView(this,!0),this._remove.apply(this,arguments)},_registerWithRAF:function(a,b){function c(){g.rafID=null,g.triggeredByRAF=!0,a()}function d(){for(var a=0;a<g.deferreds.length;a++)g.deferreds[a].resolveWith(e,[e]);g.deferreds=[]}var e=this,g=e.__manager__,h=g.parent&&g.parent.__manager__;return!1===this.useRAF?void(g.queue?f.call(g.queue,a):(g.queue=[],a())):(g.deferreds=g.deferreds||[],g.deferreds.push(b),b.done(d),this._cancelQueuedRAFRender(),h&&h.triggeredByRAF?c():void(g.rafID=e.requestAnimationFrame(c)))},_cancelQueuedRAFRender:function(){var a=this,b=a.__manager__;null!=b.rafID&&a.cancelAnimationFrame(b.rafID)}},{_cache:{},_removeViews:function(a,b){"boolean"==typeof a&&(b=a,a=this),a=a||this,a.getViews().each(function(a){(a.hasRendered||b)&&j._removeView(a,b)}).value()},_removeView:function(a,c){var d,e=a.__manager__,f=e.parent&&e.parent.__manager__;if(!("boolean"==typeof a.keep?a.keep:a.options.keep)&&f&&!0===f.insert||c){if(j.cleanViews(a),a._removeViews(!0),a.$el.remove(),a._cancelQueuedRAFRender(),!e.parent)return;if(d=e.parent.views[e.selector],b.isArray(d))return b.each(b.clone(d),function(a,b){a&&a.__manager__===e&&h.call(d,b,1)}),void(b.isEmpty(d)&&e.parent.trigger("empty",e.selector));delete e.parent.views[e.selector],e.parent.trigger("empty",e.selector)}},cache:function(a,b){return a in this._cache&&null==b?this._cache[a]:null!=a&&null!=b?this._cache[a]=b:void 0},cleanViews:function(c){b.each(g.call([],c),function(c){c.trigger("cleanup",c),c.unbind(),c.model instanceof a.Model&&c.model.off(null,null,c),c.collection instanceof a.Collection&&c.collection.off(null,null,c),c.stopListening(),b.isFunction(c.cleanup)&&c.cleanup()})},configure:function(c){b.extend(j.prototype,c),c.manage&&(a.View.prototype.manage=!0),!1===c.el&&(a.View.prototype.el=!1),!0===c.suppressWarnings&&(a.View.prototype.suppressWarnings=!0),!1===c.useRAF&&(a.View.prototype.useRAF=!1),c._&&(b=c._)},setupView:function(c,d){d=b.extend({},d),b.each(g.call([],c),function(c){if(!c.__manager__){var e,f,g=j.prototype;b.defaults(c,{views:{},sections:{},__manager__:{},_removeViews:j._removeViews,_removeView:j._removeView},j.prototype),c.options=d,b.extend(c,d),c._remove=a.View.prototype.remove,c.render=j.prototype.render,c.remove!==g.remove&&(c._remove=c.remove,c.remove=g.remove),e=d.views||c.views,b.keys(e).length&&(f=e,c.views={},b.each(f,function(a,b){"function"==typeof a&&(f[b]=a.call(c,c))}),c.setViews(f))}})}});j.VERSION="0.9.7",a.Layout=j,a.View.prototype.constructor=function(a){var b;a=a||{},("el"in a?!1===a.el:!1===this.el)&&(b=!0),(a.manage||this.manage)&&j.setupView(this,a),this.__manager__&&(this.__manager__.noel=b,this.__manager__.suppressWarnings=a.suppressWarnings),e.apply(this,arguments)},a.View=a.View.prototype.constructor,a.View.extend=e.extend,a.View.prototype=e.prototype;var k={prefix:"",useRAF:!0,deferred:function(){return c.Deferred()},fetchTemplate:function(a){return b.template(c(a).html())},renderTemplate:function(a,b){return i(a.call(this,b))},serialize:function(){return this.model?b.clone(this.model.attributes):{}},partial:function(a,b,c,d){var e;d.selector&&(c.noel?(e=a.filter(d.selector),a=e.length?e:a.find(d.selector)):a=a.find(d.selector)),c.insert?this.insert(a,b):this.html(a,b)},html:function(a,b){a.empty().append(b)},htmlBatch:function(a,d,e){var f=a.__manager__,g={selector:e},h=b.reduce(d,function(b,d){var e="boolean"==typeof d.keep?d.keep:d.options.keep,f=e&&c.contains(a.el,d.el);return d.el&&!f&&b.push(d.el),b},[]);return this.partial(a.$el,c(h),f,g)},insert:function(a,b){a.append(b)},when:function(a){return c.when.apply(null,a)},contains:function(a,b){return c.contains(a,b)},requestAnimationFrame:function(){for(var a=0,c=["ms","moz","webkit","o"],e=d.requestAnimationFrame,f=0;f<c.length&&!d.requestAnimationFrame;++f)e=d[c[f]+"RequestAnimationFrame"];return e||(e=function(b){var c=(new Date).getTime(),e=Math.max(0,16-(c-a)),f=d.setTimeout(function(){b(c+e)},e);return a=c+e,f}),b.bind(e,d)}(),cancelAnimationFrame:function(){for(var a=["ms","moz","webkit","o"],c=d.cancelAnimationFrame,e=0;e<a.length&&!d.requestAnimationFrame;++e)c=d[a[e]+"CancelAnimationFrame"]||d[a[e]+"CancelRequestAnimationFrame"];return c||(c=function(a){clearTimeout(a)}),b.bind(c,d)}()};return b.extend(j.prototype,k),j});var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}return a.prototype.toString=function(){return""+this.string},a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return!a&&0!==a||!(!m(a)||0!==a.length)}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===k.call(a)};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,c){var d;c&&c.firstLine&&(d=c.firstLine,a+=" - "+d+":"+c.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<b.length;f++)this[b[f]]=e[b[f]];d&&(this.lineNumber=d,this.column=c.firstColumn)}var b=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return k(b)&&(b=b.call(this)),!0===b?e(this):!1===b||null==b?d(this):j(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(k(a)&&(a=a.call(this)),b.data&&(c=o(b.data)),a&&"object"==typeof a)if(j(a))for(var h=a.length;f<h;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return k(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){if(k(a)&&(a=a.call(this)),!g.isEmpty(a))return b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){n.log(a,b)}var f={},g=a,h=b;f.VERSION="1.3.0",f.COMPILER_REVISION=4;var i={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=i;var j=g.isArray,k=g.isFunction,l=g.toString,m="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:n,log:e,registerHelper:function(a,b,c){if(l.call(a)===m){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){l.call(a)===m?g.extend(this.partials,a):this.partials[a]=b}};var n={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(n.level<=a){var c=n.methodMap[a];"undefined"!=typeof console&&console[c]}}};f.logger=n,f.log=e;var o=function(a){var b={};return g.extend(b,a),b};return f.createFrame=o,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(b<c){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");if(a instanceof Function)return a(c,g)}function i(){return""}
var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f=a,g=b,h=c,i=d,j=e,k=function(){var a=new f.HandlebarsEnvironment;return i.extend(a,f),a.SafeString=g,a.Exception=h,a.Utils=i,a.VM=j,a.template=function(b){return j.template(b,a)},a},l=k();return l.create=k,l}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c=a,d={ProgramNode:function(a,c,e,f){var g,h;3===arguments.length?(f=e,e=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},e?(h=e[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new d.ProgramNode(e,c,g)):this.inverse=new d.ProgramNode(e,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,e,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=e&&e.charAt){var h=e.charAt(3)||e.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!e;a instanceof d.SexprNode?this.sexpr=a:this.sexpr=new d.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,d,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new c(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=d,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(d||e).strip.left=a.strip.right,(e||d).strip.right=f.strip.left,e&&!d&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,d){b.call(this,d),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;h<i;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new c("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return d}(c),h=function(){"use strict";return function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g,h){var i=g.length-1;switch(f){case 1:return new e.ProgramNode(g[i-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[i-1],g[i],this._$);break;case 4:this.$=new e.ProgramNode(g[i-2],g[i-1],g[i],this._$);break;case 5:this.$=new e.ProgramNode(g[i-1],g[i],[],this._$);break;case 6:this.$=new e.ProgramNode(g[i],this._$);break;case 7:case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[i]];break;case 10:g[i-1].push(g[i]),this.$=g[i-1];break;case 11:this.$=new e.BlockNode(g[i-2],g[i-1].inverse,g[i-1],g[i],this._$);break;case 12:this.$=new e.BlockNode(g[i-2],g[i-1],g[i-1].inverse,g[i],this._$);break;case 13:case 14:this.$=g[i];break;case 15:this.$=new e.ContentNode(g[i],this._$);break;case 16:this.$=new e.CommentNode(g[i],this._$);break;case 17:case 18:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 19:this.$={path:g[i-1],strip:a(g[i-2],g[i])};break;case 20:case 21:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 22:this.$=new e.PartialNode(g[i-2],g[i-1],a(g[i-3],g[i]),this._$);break;case 23:this.$=a(g[i-1],g[i]);break;case 24:this.$=new e.SexprNode([g[i-2]].concat(g[i-1]),g[i],this._$);break;case 25:this.$=new e.SexprNode([g[i]],null,this._$);break;case 26:this.$=g[i];break;case 27:this.$=new e.StringNode(g[i],this._$);break;case 28:this.$=new e.IntegerNode(g[i],this._$);break;case 29:this.$=new e.BooleanNode(g[i],this._$);break;case 30:this.$=g[i];break;case 31:g[i-1].isHelper=!0,this.$=g[i-1];break;case 32:this.$=new e.HashNode(g[i],this._$);break;case 33:this.$=[g[i-2],g[i]];break;case 34:this.$=new e.PartialNameNode(g[i],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[i],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[i],this._$));break;case 37:this.$=new e.DataNode(g[i],this._$);break;case 38:this.$=new e.IdNode(g[i],this._$);break;case 39:g[i-2].push({part:g[i],separator:g[i-1]}),this.$=g[i-2];break;case 40:this.$=[{part:g[i]}];break;case 43:this.$=[];break;case 44:g[i-1].push(g[i]);break;case 47:this.$=[g[i]];break;case 48:g[i-1].push(g[i])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&void 0!==n||(n=b()),q=g[p]&&g[p][n]),void 0===q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),void 0!==(r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f)))return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return void 0!==a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}()}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);"data"in(b=b||{})||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in(b=b||{})||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;f<g;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;c<d;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;e<f;e++)(b=c.depths.list[e])<2||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;e<f;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth),a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;c<d;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e=a.COMPILER_REVISION,f=a.REVISION_CHANGES,g=a.log,h=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=e;return"this.compilerInfo = ["+a+",'"+f[a]+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},g("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var i=f.length;this.i<i;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new h("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;e<f;e++)d.push("depth"+this.environment.depths.list[e]);var h=this.mergeSource();if(this.isChild||(h=this.compilerInfo()+h),a)return d.push(h),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+h+"}";return g("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;c<d;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),
this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;f<g;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;f<g;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;b<d;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new h("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];return{params:d,paramsInit:this.setupParams(a,d,c),name:this.nameLookup("helpers",b,"helper"),callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),((e=this.popStack())||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;i<a;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),j=d.RESERVED_WORDS={},k=0,l=i.length;k<l;k++)j[i[k]]=!0;return d.isValidJavaScriptVariableName=function(a){return!(d.RESERVED_WORDS[a]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a))},d}(d,c);return function(a,b,c,d,e){"use strict";var f=a,g=b,h=c.parser,i=c.parse,j=d.Compiler,k=d.compile,l=d.precompile,m=e,n=f.create,o=function(){var a=n();return a.compile=function(b,c){return k(b,c,a)},a.precompile=function(b,c){return l(b,c,a)},a.AST=g,a.Compiler=j,a.JavaScriptCompiler=m,a.Parser=h,a.parse=i,a};return f=o(),f.create=o,f}(f,g,i,j,k)}();if(define("handlebars",["jquery"],function(a){return function(){var b;return b||a.Handlebars}}(this)),define("handlebars.helpers",["jquery","underscore","string","handlebars","underscore.mixins"],function(a,b,c){Handlebars.registerHelper("eachO",function(a,b){var c="";for(var d in a)c+=b.fn(a[d]);return c}),Handlebars.registerHelper("isURL",function(a,d){if(b.isString(a)){var e=decodeURIComponent(a);if(b.isUri(e)&&(c(e).startsWith("http")||c(e).startsWith("https")))return d.fn(this)}if(d.inverse)return d.inverse(this)}),Handlebars.registerHelper("isObject",function(a,c){return b.isObject(a)?c.fn(this):c.inverse?c.inverse(this):void 0}),Handlebars.registerHelper("islongtext",function(a,c){if(b.isString(a)){var d=new String(a),e=c.hash.size;if(d.length>=e)return c.fn(this)}if(c.inverse)return c.inverse(this)}),Handlebars.registerHelper("truncateStr",function(a,d){var e=a;if(b.isString(a)){e=new String(a);var f=d.hash.size;new Boolean(d.hash.decode)&&(e=decodeURIComponent(e)),e=c(e).truncate(f).s}return e}),Handlebars.registerHelper("rdfid",function(a,c){return b.compactUri(a)}),Handlebars.registerHelper("encodeURIComp",function(a,b){return encodeURIComponent(a)}),Handlebars.registerHelper("localname",function(a,c){return b.localName(decodeURIComponent(a))}),Handlebars.registerHelper("decodeURIComp",function(a,b){return decodeURIComponent(a)}),Handlebars.registerHelper("linkFormat",function(a,b){return encodeURIComponent(decodeURIComponent(a))}),Handlebars.registerHelper("values",function(a,b){var c='<div class="valuesbox" style="display: block">',d="";if(a instanceof Array){var e=b.hash.pagesize,f=b.hash.name,g=b.hash.align?b.hash.align:"",h=b.hash.pagertype?b.hash.pagertype:"",i=Math.ceil(a.length/e),j=0;if(i>1){d+='<div id="pagination-'+f+'" class="pagination '+g+' btn-group">',d+='<button class="btn btn-pager" target="#prev"><i class="icon-arrow-left"></i></button>';for(var k=1;k<=i;k++){if(1===k){d+="numeric"==h?'<button id="li_'+f+"_"+k+'" class="btn btn-pager page'+k+' active" target="'+k+'"></button>':'<button id="li_'+f+"_"+k+'" class="btn btn-pager page'+k+' active" style="display: none;" target="'+k+'"></button>',c=c+'<div id="'+f+"-"+k+'" class="page-container" style="display: block;">';for(var l=0;l<e&&j<a.length;l++,j++)c=c+'<div class="v-page-elem">'+b.fn(a[j])+"</div>"}else{d+="numeric"==h?'<button id="li_'+f+"_"+k+'" class="btn btn-pager page'+k+'" target="'+k+'"></button>':'<button id="li_'+f+"_"+k+'" class="btn btn-pager page'+k+'" style="display: none;" target="'+k+'"></button>',c=c+'<div id="'+f+"-"+k+'" class="page-container" style="display: none;">';for(var l=0;l<e&&j<a.length;l++,j++)c=c+'<div class="h-page-elem">'+b.fn(a[j])+"</div>"}c+="</div>"}d+='<button class="btn btn-pager" target="#next"><i class="icon-arrow-right"></i></button>',d+="</div>",c+=d}else for(var l=0;l<e&&j<a.length;l++,j++)c=c+'<div class="v-page-elem">'+b.fn(a[j])+"</div>"}else c+='<div class="v-page-elem">',c+=b.fn(a),c+="</div>";return c+="</div>"}),Handlebars.registerHelper("ieach",function(a,b){if(a instanceof Array){var c="";if(a.length>0)for(var d=0;d<a.length;d++)c+=b.fn(a[d]);return c}return b.fn(a)}),Handlebars.registerHelper("generateRows",function(a,b,c){for(var d="",e=0;e<a.length;e++){d+="<tr>\n";for(var f=0;f<b.length;f++)if(a[e][b[f]]){var g=a[e][b[f]].value;d+="<td>","uri"==a[e][b[f]].type?d+="<a href='"+g+"' class='uriDesc'>"+g+"</a>":d+=g,d+="</td>"}else d+="<td></td>";d+="</tr>\n"}return new Handlebars.SafeString(d)}),Handlebars.registerHelper("ifequal",function(a,b,c){return a===b?c.fn(this):c.inverse?c.inverse(this):void 0}),Handlebars.registerHelper("ifnotequal",function(a,b,c){return a!==b?c.fn(this):c.inverse?c.inverse(this):void 0}),Handlebars.registerHelper("isArray",function(b,c){return a.isArray(b)?c.fn(this):c.inverse?c.inverse(this):void 0}),Handlebars.registerHelper("prtable",function(a,b){var c="";if(a instanceof Array){var d=b.hash.name,e=b.hash.class,f=0;if(a.length>0&&d){c=c+'<table id="'+d+'" class="page-container table table-striped '+(e||"")+'" style="display: table;">',c+="<thead><tr><th>Result</th><th>Type(s)</th><th>Matches</th></tr></thead>",c+="<tbody>";for(var g=0;f<a.length;g++,f++)c=c+'<tr class="page-elem">'+b.fn(a[f])+"</tr>";c+="</tbody>",c+="</table>"}else c+="<h2>No search results.</h2>"}return c})}),define("handlebars.partials",["jquery","handlebars"],function(a){Handlebars.getPartialTemplate=function(b){return void 0!==Handlebars.partials&&void 0!==Handlebars.partials[b]||a.ajax({url:"partials/"+b+".html",success:function(a){void 0===Handlebars.partials&&(Handlebars.partials={}),Handlebars.partials[b]=Handlebars.compile(a)},async:!1}),Handlebars.partials[b]},Handlebars.registerPartial("homeContent",Handlebars.getPartialTemplate("homeContentDefault")),Handlebars.registerPartial("footer",Handlebars.getPartialTemplate("footerContent"))}),this.EGAD_TEMPLATES=this.EGAD_TEMPLATES||{},this.EGAD_TEMPLATES["alerts/alert"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="<h4>",(e=c.title)?d=e.call(a,{hash:{},data:b}):(e=a&&a.title,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</h4>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<button type="button" class="close" data-dismiss="alert">\xd7</button>\n',g=c.if.call(b,b&&b.title,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+="\n<p>",(h=c.message)?g=h.call(b,{hash:{},data:e}):(h=b&&b.message,g=typeof h===j?h.call(b,{hash:{},data:e}):h),(g||0===g)&&(i+=g),i+="</p>\n"}),this.EGAD_TEMPLATES["alerts/alertFixed"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="<h4>",(e=c.title)?d=e.call(a,{hash:{},data:b}):(e=a&&a.title,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</h4>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<button type="button" class="close" data-dismiss="alert">\xd7</button>\n',g=c.if.call(b,b&&b.title,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+="\n<pre><code>",(h=c.message)?g=h.call(b,{hash:{},data:e}):(h=b&&b.message,g=typeof h===j?h.call(b,{hash:{},data:e}):h),(g||0===g)&&(i+=g),i+="</code></pre>\n"}),this.EGAD_TEMPLATES["browse/addAttributeModal"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal fade" id="addAttributeModal" tabindex="-1" role="dialog" aria-labelledby="Add attribute" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3>Add attribute</h3>\n      </div>\n      <div class="modal-body">\n        <p>Select an attribute to add: </p>\n\n        <input class="propField" type="hidden" value="" style="width:100%">\n      </div>\n      <div class="modal-footer">\n        <button id="btnSelect" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Select</button>\n        <button id="btnCancelAdd" class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["browse/breadcrumbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var c="";return c+="\n  <li>"+k(typeof a===j?a.apply(a):a)+"</li>\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<ul class="breadcrumb">\n  ',g=c.each.call(b,b&&b.items,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='\n  <li class="active">',(h=c.active)?g=h.call(b,{hash:{},data:e}):(h=b&&b.active,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+"</li>\n</ul>\n"}),this.EGAD_TEMPLATES["browse/classesList"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n",d=c.if.call(a,a&&a["rdfs:label"],{hash:{},inverse:n.program(5,i,b),fn:n.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f,g="";return g+='\n  <a href="#!/browse/',e=c.linkFormat||a&&a.linkFormat,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"linkFormat",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='"><span class="label label-primary">',(e=c["rdfs:label"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["rdfs:label"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),g+=m(d)+"</span></a>\n"}function h(a,b){return m(typeof a===l?a.apply(a):a)}function i(a,b){var d,e,f,g="";return g+='\n  <a href="#!/browse/',e=c.linkFormat||a&&a.linkFormat,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"linkFormat",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='"><span class="label label-primary">',e=c.localname||a&&a.localname,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"localname",a&&a["@id"],f),(d||0===d)&&(g+=d),g+="</span></a>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+="<p>\n",j=c.each.call(b,b,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+="\n</p>\n"}),this.EGAD_TEMPLATES["browse/classesListEdit"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return h+='<form>\n  <input class="select2" type="hidden" value="',(g=c.types)?f=g.call(b,{hash:{},data:e}):(g=b&&b.types,f="function"==typeof g?g.call(b,{hash:{},data:e}):g),h+=i(f)+'" style="width:98%;"/>\n</form>'}),this.EGAD_TEMPLATES["browse/datatypeBooleanProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===m?e.call(a,{hash:{},data:b}):e),f+=n(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:o.program(4,h,b),fn:o.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:o.noop,fn:o.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+=" disabled>\n      </label>\n    </div>\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===m?e.call(a,{hash:{},data:b}):e),n(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:o.noop,fn:o.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):p.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return n(typeof a===m?a.apply(a):a)}function j(a,b){return"checked"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m="function",n=this.escapeExpression,o=this,p=c.helperMissing;return k=c.if.call(b,b&&b["@id"],{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+="\n"}),this.EGAD_TEMPLATES["browse/datatypeBooleanPropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:r.program(11,m,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return q(typeof a===p?a.apply(a):a)}function j(a,b){var d,e,f,g="";return g+="\n      ",e=c.ieach||a&&a.ieach,f={hash:{},inverse:r.noop,fn:r.program(8,k,b),data:b},d=e?e.call(a,a&&a["@value"],f):s.call(a,"ieach",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n    "}function k(a,b){var d,e="";return e+='\n      <li>\n        <div class="checkbox">\n          <label>\n            <input class="dataTypeIn" type="checkbox" ',d=c.if.call(a,a,{hash:{},inverse:r.noop,fn:r.program(9,l,b),data:b}),(d||0===d)&&(e+=d),e+=">\n          </label>\n        </div>\n      </li>\n      "}function l(a,b){return"checked"}function m(a,b){return'\n    <li>\n      <div class="checkbox">\n        <label>\n          <input class="dataTypeIn" type="checkbox">\n        </label>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return o+='<button type="button" class="close pull-right">&times;</button>\n',n=c.if.call(b,b&&b["@id"],{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.EGAD_TEMPLATES["browse/datatypeLangProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:s.program(4,h,b),fn:s.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:s.program(13,n,b),fn:s.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),r(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:s.noop,fn:s.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):t.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return r(typeof a===q?a.apply(a):a)}function j(a,b){var d,e,f,g="";return g+="\n    ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:s.program(10,l,b),fn:s.program(8,k,b),data:b},d=e?e.call(a,a&&a["@value"],f):t.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n    "}function k(a,b){var d,e,f="";return f+='\n      <textarea disabled class="form-control" rows="4" style="width: 98%">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</textarea>\n    "}function l(a,b){var d,e,f="";return f+='\n      <span class="wrapit">\n        ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"\n        ",d=c.if.call(a,a&&a["@language"],{hash:{},inverse:s.noop,fn:s.program(11,m,b),data:b}),(d||0===d)&&(f+=d),f+="\n      </span>\n    "}function m(a,b){var d,e,f="";return f+='\n            <span class="label label-default">',(e=c["@language"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@language"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</span>\n        "}function n(a,b){return'\n      <span class="label label-warning">Empty</span>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return o=c.if.call(b,b&&b["@id"],{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+="\n"}),this.EGAD_TEMPLATES["browse/datatypeLangPropertyArray"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:v.program(4,h,b),fn:v.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <ul class="list-no-bullets obj-prop-container">\n      ',d=c.if.call(a,a&&a["@values"],{hash:{},inverse:v.program(15,p,b),fn:v.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n    </ul>\n    ",d=c.if.call(a,a&&a["@showMore"],{hash:{},inverse:v.noop,fn:v.program(17,q,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),u(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:v.noop,fn:v.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):w.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return u(typeof a===t?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@values"],{hash:{},inverse:v.noop,fn:v.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:v.program(12,n,b),fn:v.program(9,l,b),data:b},d=e?e.call(a,a&&a["@value"],f):w.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var d,e,f="";return f+='\n          <textarea class="form-control" disabled rows="5" style="width: 98%">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"</textarea>\n          ",d=c.if.call(a,a&&a["@language"],{hash:{},inverse:v.noop,fn:v.program(10,m,b),data:b}),(d||0===d)&&(f+=d),f+="\n        "}function m(a,b){var d,e,f="";return f+='\n            <span class="label label-default">',(e=c["@language"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@language"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"</span>\n          "}function n(a,b){var d,e,f="";return f+='\n          <span class="wrapit">\n            ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"\n            ",d=c.if.call(a,a&&a["@language"],{hash:{},inverse:v.noop,fn:v.program(13,o,b),data:b}),(d||0===d)&&(f+=d),f+="\n          </span>\n        "}function o(a,b){var d,e,f="";return f+='\n              <span class="label label-default">',(e=c["@language"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@language"],d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"</span>\n            "}function p(a,b){return'\n      <li>\n        <span class="label label-warning">Empty</span>\n      </li>\n      '}function q(a,b){return'\n    <div>\n      <button class="btn btn-default btn-xs btn-more" type="button" style="width: 135px;">More</button>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s="",t="function",u=this.escapeExpression,v=this,w=c.helperMissing;return r=c.if.call(b,b&&b["@values"],{hash:{},inverse:v.noop,fn:v.program(1,f,e),data:e}),(r||0===r)&&(s+=r),s+="\n"}),this.EGAD_TEMPLATES["browse/datatypeLangPropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<button class="btn btn-link addDataType"><i class="icon-plus"/></button>\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:w.program(4,h,b),fn:w.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:w.program(19,r,b),fn:w.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),v(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:w.noop,fn:w.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):x.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return v(typeof a===u?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@value"],{hash:{},inverse:w.noop,fn:w.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.isObject||a&&a.isObject,f={hash:{},inverse:w.program(14,o,b),fn:w.program(9,l,b),data:b},d=e?e.call(a,a,f):x.call(a,"isObject",a,f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(12,n,b),fn:w.program(10,m,b),data:b},d=e?e.call(a,a&&a["@value"],f):x.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n        "}function m(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; height: 100px;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" rows="6" style="width: 80%; resize:none; height:inherit;">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'</textarea>\n              <input class="form-control custom-control dataLanguage" type="text" maxlength="2" value="',(e=c["@language"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@language"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'" style="width: 20%; height:inherit;" placeholder="@lang">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function n(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; ">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'" style="width: 80%;">\n              <input class="form-control custom-control dataLanguage" type="text" maxlength="2" value="',(e=c["@language"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@language"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'" style="width: 20%;" placeholder="@lang">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n            </div>\n          </div>\n          '}function o(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(17,q,b),fn:w.program(15,p,b),data:b},d=e?e.call(a,a,f):x.call(a,"islongtext",a,f),(d||0===d)&&(g+=d),g+="\n        "}function p(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; height: 100px;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" style="width: 80%; resize:none; height:inherit;">'+v(typeof a===u?a.apply(a):a)+'</textarea>\n              <input class="form-control custom-control dataLanguage" type="text" maxlength="2" style="width: 20%; height:inherit;" placeholder="@lang">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function q(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="'+v(typeof a===u?a.apply(a):a)+'" style="width: 80%;">\n              <input class="form-control custom-control dataLanguage" type="text" maxlength="2" style="width: 20%;" placeholder="@lang">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n            </div>\n          </div>\n          '}function r(a,b){return'\n    <li>\n      <div class="row">\n        <div class="input-group" style="width: 95%;">\n          <input class="form-control custom-control dataTypeIn propertyInput" type="text" style="width: 80%;">\n          <input class="form-control custom-control dataLanguage" type="text" maxlength="2" style="width: 20%;" placeholder="@lang">\n          <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n        </div>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t="",u="function",v=this.escapeExpression,w=this,x=c.helperMissing;return t+='<button type="button" class="close pull-right">&times;</button>\n',s=c.if.call(b,b&&b["@id"],{hash:{},inverse:w.noop,fn:w.program(1,f,e),data:e}),(s||0===s)&&(t+=s),t+="\n"}),this.EGAD_TEMPLATES["browse/datatypeNumericProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:p.program(4,h,b),fn:p.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:p.program(9,k,b),fn:p.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===n?e.call(a,{hash:{},data:b}):e),o(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:p.noop,fn:p.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):q.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return o(typeof a===n?a.apply(a):a)}function j(a,b){var d,e,f="";return f+='\n    <strong class="wrapit">\n      ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+"\n    </strong>\n    "}function k(a,b){return'\n      <span class="label label-warning">Empty</span>\n    '}this.compilerInfo=[4,">= 1.0.0"],
c=this.merge(c,a.helpers),e=e||{};var l,m="",n="function",o=this.escapeExpression,p=this,q=c.helperMissing;return l=c.if.call(b,b&&b["@id"],{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+="\n"}),this.EGAD_TEMPLATES["browse/datatypeNumericPropertyArray"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <ul class="list-no-bullets obj-prop-container">\n      ',d=c.if.call(a,a&&a["@values"],{hash:{},inverse:r.program(10,l,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n    </ul>\n    ",d=c.if.call(a,a&&a["@showMore"],{hash:{},inverse:r.noop,fn:r.program(12,m,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return q(typeof a===p?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@values"],{hash:{},inverse:r.noop,fn:r.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function k(a,b){var c="";return c+="\n      <li>\n        <strong>"+q(typeof a===p?a.apply(a):a)+"</strong>\n      </li>\n      "}function l(a,b){return'\n      <li>\n        <span class="label label-warning">Empty</span>\n      </li>\n      '}function m(a,b){return'\n    <div>\n      <button class="btn btn-default btn-xs btn-more" type="button" style="width: 135px;">More</button>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return n=c.if.call(b,b&&b["@values"],{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.EGAD_TEMPLATES["browse/datatypeNumericPropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<button class="btn btn-link addDataType"><i class="icon-plus"/></button>\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===o?e.call(a,{hash:{},data:b}):e),f+=p(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:q.program(4,h,b),fn:q.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:q.program(10,l,b),fn:q.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===o?e.call(a,{hash:{},data:b}):e),p(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:q.noop,fn:q.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):r.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return p(typeof a===o?a.apply(a):a)}function j(a,b){var d,e,f,g="";return g+="\n      ",e=c.ieach||a&&a.ieach,f={hash:{},inverse:q.noop,fn:q.program(8,k,b),data:b},d=e?e.call(a,a&&a["@value"],f):r.call(a,"ieach",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n    "}function k(a,b){var d,e,f="";return f+='\n      <li>\n        <div class="row">\n          <div class="input-group" style="width: 95%;">\n            <input type="text" class="form-control custom-control dataTypeIn propertyInput" value="',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===o?e.call(a,{hash:{},data:b}):e),f+=p(d)+'">\n            <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n          </div>\n        </div>\n      </li>\n      '}function l(a,b){return'\n    <li>\n      <div class="row">\n        <div class="input-group" style="width: 95%;">\n          <input type="text" class="form-control custom-control dataTypeIn propertyInput" value="">\n          <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n        </div>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n="",o="function",p=this.escapeExpression,q=this,r=c.helperMissing;return n+='<button type="button" class="close pull-right">&times;</button>\n',m=c.if.call(b,b&&b["@id"],{hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e}),(m||0===m)&&(n+=m),n+="\n"}),this.EGAD_TEMPLATES["browse/datatypeProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:r.program(12,m,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return q(typeof a===p?a.apply(a):a)}function j(a,b){var d,e,f,g="";return g+="\n    ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:r.program(10,l,b),fn:r.program(8,k,b),data:b},d=e?e.call(a,a&&a["@value"],f):s.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n    "}function k(a,b){var d,e,f="";return f+='\n      <textarea disabled class="form-control" rows="4" style="width: 98%">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</textarea>\n    "}function l(a,b){var d,e,f="";return f+='\n      <span class="wrapit">\n        ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"\n      </span>\n    "}function m(a,b){return'\n      <span class="label label-warning">Empty</span>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return n=c.if.call(b,b&&b["@id"],{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.EGAD_TEMPLATES["browse/datatypePropertyArray"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),f+=s(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:t.program(4,h,b),fn:t.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <ul class="list-no-bullets obj-prop-container">\n      ',d=c.if.call(a,a&&a["@values"],{hash:{},inverse:t.program(13,n,b),fn:t.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n    </ul>\n    ",d=c.if.call(a,a&&a["@showMore"],{hash:{},inverse:t.noop,fn:t.program(15,o,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),s(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:t.noop,fn:t.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):u.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return s(typeof a===r?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@values"],{hash:{},inverse:t.noop,fn:t.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:t.program(11,m,b),fn:t.program(9,l,b),data:b},d=e?e.call(a,a&&a["@value"],f):u.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var d,e,f="";return f+='\n          <textarea class="form-control" disabled rows="5" style="width: 98%">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),f+=s(d)+"</textarea>\n        "}function m(a,b){var d,e,f="";return f+='\n          <span class="wrapit">\n            ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),f+=s(d)+"\n          </span>\n        "}function n(a,b){return'\n      <li>\n        <span class="label label-warning">Empty</span>\n      </li>\n      '}function o(a,b){return'\n    <div>\n      <button class="btn btn-default btn-xs btn-more" type="button" style="width: 135px;">More</button>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return p=c.if.call(b,b&&b["@values"],{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(p||0===p)&&(q+=p),q+="\n"}),this.EGAD_TEMPLATES["browse/datatypePropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<button class="btn btn-link addDataType"><i class="icon-plus"/></button>\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:w.program(4,h,b),fn:w.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:w.program(19,r,b),fn:w.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),v(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:w.noop,fn:w.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):x.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return v(typeof a===u?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@value"],{hash:{},inverse:w.noop,fn:w.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.isObject||a&&a.isObject,f={hash:{},inverse:w.program(14,o,b),fn:w.program(9,l,b),data:b},d=e?e.call(a,a,f):x.call(a,"isObject",a,f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(12,n,b),fn:w.program(10,m,b),data:b},d=e?e.call(a,a&&a["@value"],f):x.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n        "}function m(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; height: 100px;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" rows="5" style="resize:none; height:inherit;">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'</textarea>\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function n(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; ">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'" >\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n            </div>\n          </div>\n          '}function o(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(17,q,b),fn:w.program(15,p,b),data:b},d=e?e.call(a,a,f):x.call(a,"islongtext",a,f),(d||0===d)&&(g+=d),g+="\n        "}function p(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%; height: 100px;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" style="resize:none; height:inherit;">'+v(typeof a===u?a.apply(a):a)+'</textarea>\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function q(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="'+v(typeof a===u?a.apply(a):a)+'">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n            </div>\n          </div>\n          '}function r(a,b){return'\n    <li>\n      <div class="row">\n        <div class="input-group" style="width: 95%;">\n          <input class="form-control custom-control dataTypeIn propertyInput" type="text">\n          <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>\n        </div>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t="",u="function",v=this.escapeExpression,w=this,x=c.helperMissing;return t+='<button type="button" class="close pull-right">&times;</button>\n',s=c.if.call(b,b&&b["@id"],{hash:{},inverse:w.noop,fn:w.program(1,f,e),data:e}),(s||0===s)&&(t+=s),t+="\n"}),this.EGAD_TEMPLATES["browse/datatypeStringProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:r.program(12,m,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return q(typeof a===p?a.apply(a):a)}function j(a,b){var d,e,f,g="";return g+="\n    ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:r.program(10,l,b),fn:r.program(8,k,b),data:b},d=e?e.call(a,a&&a["@value"],f):s.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n    "}function k(a,b){var d,e,f="";return f+='\n      <textarea disabled class="form-control" rows="10" style="width: 98%; resize:none">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"</textarea>\n    "}function l(a,b){var d,e,f="";return f+='\n      <span class="wrapit">\n        ',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"\n      </span>\n    "}function m(a,b){return'\n      <span class="label label-warning">Empty</span>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return n=c.if.call(b,b&&b["@id"],{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.EGAD_TEMPLATES["browse/datatypeStringPropertyArray"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),f+=s(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:t.program(4,h,b),fn:t.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <ul class="list-no-bullets obj-prop-container">\n      ',d=c.if.call(a,a&&a["@values"],{hash:{},inverse:t.program(13,n,b),fn:t.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n    </ul>\n    ",d=c.if.call(a,a&&a["@showMore"],{hash:{},inverse:t.noop,fn:t.program(15,o,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===r?e.call(a,{hash:{},data:b}):e),s(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:t.noop,fn:t.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):u.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return s(typeof a===r?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@values"],{hash:{},inverse:t.noop,fn:t.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n      "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:t.program(11,m,b),fn:t.program(9,l,b),data:b},d=e?e.call(a,a,f):u.call(a,"islongtext",a,f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var c="";return c+='\n          <textarea class="form-control" disabled rows="4" style="width: 98%">'+s(typeof a===r?a.apply(a):a)+"</textarea>\n        "}function m(a,b){var c="";return c+='\n          <span class="wrapit">'+s(typeof a===r?a.apply(a):a)+"</span>\n        "}function n(a,b){return'\n      <li>\n        <span class="label label-warning">Empty</span>\n      </li>\n      '}function o(a,b){return'\n    <div>\n      <button class="btn btn-default btn-xs btn-more" type="button" style="width: 135px;">More</button>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return p=c.if.call(b,b&&b["@values"],{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(p||0===p)&&(q+=p),q+="\n"}),this.EGAD_TEMPLATES["browse/datatypeStringPropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<button class="btn btn-link addDataType"><i class="icon-plus"/></button>\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:w.program(4,h,b),fn:w.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:w.program(19,r,b),fn:w.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),v(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:w.noop,fn:w.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):x.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return v(typeof a===u?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@value"],{hash:{},inverse:w.noop,fn:w.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function k(a,b){var d,e,f,g="";return g+="\n      <li>\n        ",e=c.isObject||a&&a.isObject,f={hash:{},inverse:w.program(14,o,b),fn:w.program(9,l,b),data:b},d=e?e.call(a,a,f):x.call(a,"isObject",a,f),(d||0===d)&&(g+=d),g+="\n      </li>\n      "}function l(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(12,n,b),fn:w.program(10,m,b),data:b},d=e?e.call(a,a&&a["@value"],f):x.call(a,"islongtext",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n        "}function m(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" rows="5" style="resize:none">',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'</textarea>\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function n(a,b){var d,e,f="";return f+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=v(d)+'">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function o(a,b){var d,e,f,g="";return g+="\n          ",e=c.islongtext||a&&a.islongtext,f={hash:{size:156},inverse:w.program(17,q,b),fn:w.program(15,p,b),data:b},d=e?e.call(a,a,f):x.call(a,"islongtext",a,f),(d||0===d)&&(g+=d),g+="\n        "}function p(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <textarea class="form-control custom-control dataTypeIn propertyInput" rows="5" style="resize:none">'+v(typeof a===u?a.apply(a):a)+'</textarea>\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function q(a,b){var c="";return c+='\n          <div class="row">\n            <div class="input-group" style="width: 95%;">\n              <input class="form-control custom-control dataTypeIn propertyInput" type="text" value="'+v(typeof a===u?a.apply(a):a)+'">\n              <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span>\n            </div>\n          </div>\n          '}function r(a,b){return'\n    <li>\n      <div class="row">\n        <input class="form-control dataTypeIn propertyInput" type="text" value="" style="width:90%;">\n        <button class="btn btn-default removeDataType" type="button"><i class="icon-remove" /></button>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t="",u="function",v=this.escapeExpression,w=this,x=c.helperMissing;return t+='<button type="button" class="close pull-right">&times;</button>\n',s=c.if.call(b,b&&b["@id"],{hash:{},inverse:w.noop,fn:w.program(1,f,e),data:e}),(s||0===s)&&(t+=s),t+="\n"}),this.EGAD_TEMPLATES["browse/datetimePropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<button class="btn btn-link addDataType"><i class="icon-plus"/></button>\n<strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n</strong>\n<div class="controls">\n  <ul class="list-no-bullets obj-prop-container">\n    ',d=c.if.call(a,a&&a["@value"],{hash:{},inverse:r.program(11,m,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </ul>\n</div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),q(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return q(typeof a===p?a.apply(a):a)}function j(a,b){var d,e="";return e+="\n      ",d=c.each.call(a,a&&a["@value"],{hash:{},inverse:r.noop,fn:r.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function k(a,b){var d,e,f,g="";return g+='\n      <li>\n        <div class="row">\n        ',e=c.isObject||a&&a.isObject,f={hash:{},inverse:r.noop,fn:r.program(9,l,b),data:b},d=e?e.call(a,a,f):s.call(a,"isObject",a,f),(d||0===d)&&(g+=d),g+="\n        </div>\n      </li>\n      "}function l(a,b){var d,e,f="";return f+='\n          <form class="form-inline">\n            <div class="form-group" style="width: 83%;">\n              <div class="input-group date" data-date-format="YYYY-MM-DDTHH:mm:ss">\n                <input type="text" class="form-control dataTypeIn propertyInput" value="',(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'"/>\n                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>\n                </span>\n              </div>\n            </div>\n            <button class="btn btn-default removeDataType" style="width: 10%;"><i class="icon-remove" /></button>\n          </form>\n        '}function m(a,b){return'\n    <li>\n      <div class="row">\n        <form class="form-inline">\n          <div class="form-group" style="width: 83%;">\n            <div class="input-group date" data-date-format="YYYY-MM-DD HH:mm:ss">\n              <input type="text" class="form-control dataTypeIn propertyInput"/>\n              <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>\n              </span>\n            </div>\n          </div>\n          <button class="btn btn-default removeDataType" style="width: 10%;"><i class="icon-remove" /></button>\n        </form>\n      </div>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return o+='<button type="button" class="close pull-right">&times;</button>\n',n=c.if.call(b,b&&b["@id"],{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n"}),this.EGAD_TEMPLATES["browse/deleteModal"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===k?e.call(a,{hash:{},data:b}):e),l(d)}function g(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:m.noop,fn:m.program(4,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):n.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function h(a,b){return l(typeof a===k?a.apply(a):a)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k="function",l=this.escapeExpression,m=this,n=c.helperMissing;return j+='<div class="modal" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="Delete resource" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3>Instance deleted!</h3>\n      </div>\n      <div class="modal-body">\n        <p>You have successfully deleted the instance <strong>',i=c.if.call(b,b&&b["@egadLabel"],{hash:{},inverse:m.program(3,g,e),fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='</strong>. </p>\n\n        <p>To undo this action, click in the button below.</p>\n      </div>\n      <div class="modal-footer">\n        <button id="btnUndo" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Undo</button>\n        <button id="btnOk" class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Ok</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["browse/objectProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:m.program(4,h,b),fn:m.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls obj-prop-container">\n  </div>\n'}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===k?e.call(a,{hash:{},data:b}):e),l(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:m.noop,fn:m.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):n.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return l(typeof a===k?a.apply(a):a)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="function",l=this.escapeExpression,m=this,n=c.helperMissing;return j=c.if.call(b,b&&b["@id"],{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),j||0===j?j:""}),this.EGAD_TEMPLATES["browse/objectPropertyArray"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===m?e.call(a,{hash:{},data:b}):e),f+=n(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:o.program(4,h,b),fn:o.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div class="controls">\n    <ul class="list-no-bullets obj-prop-container">\n    </ul>\n    ',d=c.if.call(a,a&&a["@showMore"],{hash:{},inverse:o.noop,fn:o.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+="\n  </div>\n"}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===m?e.call(a,{hash:{},data:b}):e),n(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:o.noop,fn:o.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):p.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return n(typeof a===m?a.apply(a):a)}function j(a,b){return'\n    <div>\n      <button class="btn btn-default btn-xs btn-more" type="button" style="width: 135px;">More</button>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m="function",n=this.escapeExpression,o=this,p=c.helperMissing;return k=c.if.call(b,b&&b["@value"],{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+="\n"}),this.EGAD_TEMPLATES["browse/objectPropertyDisplay"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,j="";return j+='\n<a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a["@type"],null==d||!1===d?d:d[0]),f):t.call(a,"encodeURIComp",(d=a&&a["@type"],null==d||!1===d?d:d[0]),f),(d||0===d)&&(j+=d),j+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):t.call(a,"encodeURIComp",a&&a["@id"],f),
(d||0===d)&&(j+=d),j+='" class="editable" data-type="text">',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:s.program(6,i,b),fn:s.program(4,h,b),data:b}),(d||0===d)&&(j+=d),j+="</a>\n"}function g(a,b){return r(typeof a===q?a.apply(a):a)}function h(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===q?e.call(a,{hash:{},data:b}):e),r(d)}function i(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):t.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function j(a,b){var d,e="";return e+="\n",d=c.if.call(a,a&&a["@type"],{hash:{},inverse:s.program(11,l,b),fn:s.program(9,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function k(a,b){var d,e,f,j="";return j+='\n<a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,a&&a["@type"],f):t.call(a,"encodeURIComp",a&&a["@type"],f),(d||0===d)&&(j+=d),j+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):t.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(j+=d),j+='" class="editable" data-type="text">',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:s.program(6,i,b),fn:s.program(4,h,b),data:b}),(d||0===d)&&(j+=d),j+="</a> \n"}function l(a,b){var d,e,f,j="";return j+='\n<a href="#!/browse/resource/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):t.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(j+=d),j+='" class="editable" data-type="text">',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:s.program(6,i,b),fn:s.program(4,h,b),data:b}),(d||0===d)&&(j+=d),j+="</a> \n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+='<div class="objPropDisplay">\n',n=c.isArray||b&&b.isArray,o={hash:{},inverse:s.program(8,j,e),fn:s.program(1,f,e),data:e},m=n?n.call(b,b&&b["@type"],o):t.call(b,"isArray",b&&b["@type"],o),(m||0===m)&&(p+=m),p+="\n</div>"}),this.EGAD_TEMPLATES["browse/objectPropertyDisplayEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f;return e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:o.noop,fn:o.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):p.call(a,"decodeURIComp",a&&a["@id"],f),d||0===d?d:""}function g(a,b){return n(typeof a===m?a.apply(a):a)}function h(a,b){return"width:85%"}function i(a,b){return"width:98%"}function j(a,b){return'\n<button id="btnNewIndividual" class="btn btn-success pull-right" type="button" style="width:12%; height:34px; margin-right: 8px; text-align: center;">New</button>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m="function",n=this.escapeExpression,o=this,p=c.helperMissing;return l+='<input class="select2 propertyInput" type="hidden" value="',k=c.if.call(b,b&&b["@id"],{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+='" style="',k=c.if.call(b,b&&b["@showNew"],{hash:{},inverse:o.program(6,i,e),fn:o.program(4,h,e),data:e}),(k||0===k)&&(l+=k),l+='"/>\n',k=c.if.call(b,b&&b["@showNew"],{hash:{},inverse:o.noop,fn:o.program(8,j,e),data:e}),(k||0===k)&&(l+=k),l}),this.EGAD_TEMPLATES["browse/objectPropertyDisplayNotFound"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n\t",d=c.if.call(a,a&&a["@isImage"],{hash:{},inverse:n.program(5,i,b),fn:n.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f,g="";return g+='\n\t<a href="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"decodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" target="_blank" class="editable" data-type="text"><img src="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"decodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" style="width: 100%;"/></a>\n\t'}function h(a,b){return m(typeof a===l?a.apply(a):a)}function i(a,b){var d,e,f,g="";return g+='\n\t<a href="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"decodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" target="_blank" class="editable" data-type="text">',e=c.truncateStr||a&&a.truncateStr,f={hash:{size:60,decode:!0},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"truncateStr",a&&a["@id"],f),(d||0===d)&&(g+=d),g+="</a>\n\t"}function j(a,b){var d,e,f,g="";return g+='\n<a href="#!/browse/resource/',(e=c["@id"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@id"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),g+=m(d)+'" target="_blank" class="editable" data-type="text">',e=c.truncateStr||a&&a.truncateStr,f={hash:{size:60,decode:!0},inverse:n.noop,fn:n.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"truncateStr",a&&a["@id"],f),(d||0===d)&&(g+=d),g+="</a>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k=c.if.call(b,b&&b["@isExternal"],{hash:{},inverse:n.program(7,j,e),fn:n.program(1,f,e),data:e}),k||0===k?k:""}),this.EGAD_TEMPLATES["browse/objectPropertyEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <strong class="property_label" data-toggle="tooltip" data-placement="right" title="',(e=c["@egadComment"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadComment"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+'">\n  ',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:n.program(4,h,b),fn:n.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+='\n  </strong>\n  <div style="margin-top: 10px;">\n      <div class="controls obj-prop-container">\n      </div>\n  </div>\n'}function g(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),m(d)}function h(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:n.noop,fn:n.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function i(a,b){return m(typeof a===l?a.apply(a):a)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<button type="button" class="close pull-right">&times;</button>\n',j=c.if.call(b,b&&b["@id"],{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k}),this.EGAD_TEMPLATES["browse/resource"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <h2 id="page_title">',(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+'</h2>\n  <div id="classType"></div>\n'}function g(a,b){var d,e,f,g="";return g+='\n  <h2 id="page_title">',e=c.localname||a&&a.localname,f={hash:{},inverse:n.noop,fn:n.program(4,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"localname",a&&a["@id"],f),(d||0===d)&&(g+=d),g+=' Details</h2>\n  <div id="classType"></div>\n'}function h(a,b){return m(typeof a===l?a.apply(a):a)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return i=c.if.call(b,b&&b["@egadLabel"],{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+='\n\n\n<div class="row">\n  <div class="col-md-10">\n    <div id="propsForm" typeof="',(j=c["rdf:type"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["rdf:type"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'" about="',(j=c["@id"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["@id"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'" data-columns salvattore="2 .column.col-md-6">\n    </div>\n  </div>\n  <div class="col-md-2">\n    <ul class="nav nav-list affix highlight">\n      <li><a id="btnEdit" href="#" data-bypass="true"><i class="icon-pencil"></i> Edit</a></li>\n      <li><a id="btnDelete" href="#" data-bypass="true"><i class="icon-remove"></i> Delete</a></li>\n      <li class="divider"></li>\n      <li><a id="btnTree" href="#" data-bypass="true"><i class="icon-list"></i> Tree Browser</a></li>\n    </ul>\n  </div>\n</div>\n<div id="incoming"></div>\n<div class="row">\n  <div class="col-md-10">\n    <div id="refsForm" typeof="',(j=c["rdf:type"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["rdf:type"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'" about="',(j=c["@id"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["@id"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'" data-columns salvattore="2 .column.col-md-6">\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["browse/resourceEdit"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n  <h2 id="page_title">',(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+"</h2>\n"}function g(a,b){var d,e="";return e+="\n  ",d=c.if.call(a,a&&a["@id"],{hash:{},inverse:p.program(7,j,b),fn:p.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function h(a,b){var d,e,f,g="";return g+='\n  <h2 id="page_title">',e=c.localname||a&&a.localname,f={hash:{},inverse:p.noop,fn:p.program(5,i,b),data:b},d=e?e.call(a,a&&a["@id"],f):q.call(a,"localname",a&&a["@id"],f),(d||0===d)&&(g+=d),g+=" Details</h2>\n  "}function i(a,b){return o(typeof a===n?a.apply(a):a)}function j(a,b){return'\n  <h2 id="page_title">New instance</h2>\n  '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=this,q=c.helperMissing;return k=c.if.call(b,b&&b["@egadLabel"],{hash:{},inverse:p.program(3,g,e),fn:p.program(1,f,e),data:e}),(k||0===k)&&(m+=k),m+='\n<div id="classType"></div>\n\n<br/>\n<div class="row">\n  <div class="col-md-10">\n    <div id="propsForm" typeof="',(l=c["rdf:type"])?k=l.call(b,{hash:{},data:e}):(l=b&&b["rdf:type"],k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'" about="',(l=c["@id"])?k=l.call(b,{hash:{},data:e}):(l=b&&b["@id"],k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'" data-columns salvattore="2 .column.col-md-6">\n    </div>\n  </div>\n  <div class="col-md-2">\n    <ul class="nav nav-list affix highlight">\n      <li><a id="btnSave" href="#" data-bypass="true"><i class="icon-hdd"></i> Save</a>\n      <li><a id="addProperty" href="#" data-bypass="true"><i class="icon-plus"></i> Add attribute</a>\n      <li class="divider"></li>\n      <li><a id="btnCancel" href="#" data-bypass="true"><i class="icon-remove"></i> Cancel</a>\n    </ul>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["browse/resourceEditManager"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="breadcrumbs-area"></div>\n\n<div id="edit-area"></div>'}),this.EGAD_TEMPLATES["browse/resourceList"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='\n  <h1 id="page_title">Using property <strong>',(e=c.propertyLabel)?d=e.call(a,{hash:{},data:b}):(e=a&&a.propertyLabel,d=typeof e===p?e.call(a,{hash:{},data:b}):e),h+=q(d)+'</strong></h1>\n  <i style="margin-left: 5px;"><a href="#!/browse/resource/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a.property,f):s.call(a,"encodeURIComp",a&&a.property,f),(d||0===d)&&(h+=d),h+='">View definition</a></i>\n  '}function g(a,b){return q(typeof a===p?a.apply(a):a)}function h(a,b){var d,e,f,h="";return h+='\n  <h1 id="page_title"><strong>',e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a.typeLabel,f):s.call(a,"localname",a&&a.typeLabel,f),(d||0===d)&&(h+=d),h+='</strong></h1>\n  <i style="margin-left: 5px;"><a href="#!/browse/resource/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a.type,f):s.call(a,"encodeURIComp",a&&a.type,f),(d||0===d)&&(h+=d),h+='">View definition</a></i>\n  '}function i(a,b){var d,e="";return e+='\n  <div class="resourceListContainer">\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th>Instances</th>\n        </tr>\n      </thead>\n      <tbody id="tableBody">\n      </tbody>\n    </table>\n  </div>\n\n  <ul class="pager">\n    <li class="previous">\n      <a ',d=c.if.call(a,a&&a.prevPage,{hash:{},inverse:r.program(9,k,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(e+=d),e+='>&larr; Previous</a>\n    </li>\n    <li class="next">\n      <a ',d=c.if.call(a,a&&a.nextPage,{hash:{},inverse:r.program(9,k,b),fn:r.program(11,l,b),data:b}),(d||0===d)&&(e+=d),e+=">Next &rarr;</a>\n    </li>\n  </ul>\n  "}function j(a,b){var d,e,f="";return f+='href="',(e=c.prevPage)?d=e.call(a,{hash:{},data:b}):(e=a&&a.prevPage,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'"'}function k(a,b){return'href="#" style="visibility: hidden"'}function l(a,b){var d,e,f="";return f+='href="',(e=c.nextPage)?d=e.call(a,{hash:{},data:b}):(e=a&&a.nextPage,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+'"'}function m(a,b){var d,e="";return e+='\n  <h3>No more elements found!</h3>\n  <ul class="pager">\n    <li class="previous">\n      <a ',d=c.if.call(a,a&&a.prevPage,{hash:{},inverse:r.program(9,k,b),fn:r.program(7,j,b),data:b}),(d||0===d)&&(e+=d),e+=">&larr; Previous</a>\n    </li>\n  </ul>\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return o+='<div class="results" xmlns:foaf="http://xmlns.com/foaf/0.1/" xmlns:egad="http://www.clarkparsia.com/egad#" xmlns:org="http://www.w3.org/ns/org#" xmlns:="http://www.clarkparsia.com/egad#">\n  ',n=c.if.call(b,b&&b.propertyLabel,{hash:{},inverse:r.program(4,h,e),fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+='\n  <button id="btnAdd" class="btn btn-success pull-right"><i class="icon-plus-sign"></i> Add</button>\n  <br/>\n  ',n=c.if.call(b,b&&b.hasResults,{hash:{},inverse:r.program(13,m,e),fn:r.program(6,i,e),data:e}),(n||0===n)&&(o+=n),o+="\n</div>\n"}),this.EGAD_TEMPLATES["browse/resourceListElem"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='<td property="',(e=c["@id"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@id"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),h+=q(d)+'"><a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a["@type"],f):s.call(a,"encodeURIComp",a&&a["@type"],f),(d||0===d)&&(h+=d),h+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(h+=d),h+='">',(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),h+=q(d)+"</a></td>\n"}function g(a,b){return q(typeof a===p?a.apply(a):a)}function h(a,b){var d,e,f,h="";return h+='\n<td property="',(e=c["@id"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@id"],d=typeof e===p?e.call(a,{hash:{},data:b}):e),h+=q(d)+'"><a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a["@type"],f):s.call(a,"encodeURIComp",a&&a["@type"],f),(d||0===d)&&(h+=d),h+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(h+=d),h+='">',e=c.localname||a&&a.localname,f={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},d=e?e.call(a,a&&a["@id"],f):s.call(a,"localname",a&&a["@id"],f),(d||0===d)&&(h+=d),h+="</a></td>\n"}function i(a,b){var c="";return c+="\n  <td>"+q(typeof a===p?a.apply(a):a)+"</td>\n"}function j(a,b){var d,e,f,g="";return g+="\n\t",e=c.isArray||a&&a.isArray,f={hash:{},inverse:r.programWithDepth(12,m,b,a),fn:r.program(9,k,b),data:b},d=e?e.call(a,a&&a.actions,f):s.call(a,"isArray",a&&a.actions,f),(d||0===d)&&(g+=d),g+="\n"}function k(a,b){var d,e,f,g="";return g+='\n\t<td>\n\t<div class="btn-group">\n\t  <a class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" href="#" data-bypass="true">\n\t    Actions\n\t    <span class="caret"></span>\n\t  </a>\n\t  <ul class="dropdown-menu">\n\t    \x3c!-- dropdown menu links --\x3e\n\t    ',f={hash:{},inverse:r.noop,fn:r.programWithDepth(10,l,b,a),data:b},(e=c.actions)?d=e.call(a,f):(e=a&&a.actions,d=typeof e===p?e.call(a,f):e),c.actions||(d=t.call(a,d,{hash:{},inverse:r.noop,fn:r.programWithDepth(10,l,b,a),data:b})),(d||0===d)&&(g+=d),g+="\n\t  </ul>\n\t</div>\n\t</td>\n\t"}function l(a,b,d){var e,f,h,i="";return i+='\n\t    \t<li><a href="#!/',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),i+=q(e)+"/",f=c.encodeURIComp||d&&d.encodeURIComp,h={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},e=f?f.call(a,d&&d["@id"],h):s.call(a,"encodeURIComp",d&&d["@id"],h),(e||0===e)&&(i+=e),i+='">',(f=c.function)?e=f.call(a,{hash:{},data:b}):(f=a&&a.function,e=typeof f===p?f.call(a,{hash:{},data:b}):f),i+=q(e)+"</a></li>\n\t    "}function m(a,b,d){var e,f,h,i="";return i+='\n\t<td>\n\t\t<a class="btn btn-default btn-xs" href="#!/'+q((e=a&&a.actions,e=null==e||!1===e?e:e.module,typeof e===p?e.apply(a):e))+"/",f=c.encodeURIComp||d&&d.encodeURIComp,h={hash:{},inverse:r.noop,fn:r.program(2,g,b),data:b},e=f?f.call(a,d&&d["@id"],h):s.call(a,"encodeURIComp",d&&d["@id"],h),(e||0===e)&&(i+=e),i+='">'+q((e=a&&a.actions,e=null==e||!1===e?e:e.function,typeof e===p?e.apply(a):e))+"</a>\n\t</td>\n\t"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing,t=c.blockHelperMissing;return n=c.if.call(b,b&&b["@egadLabel"],{hash:{},inverse:r.program(4,h,e),fn:r.program(1,f,e),data:e}),(n||0===n)&&(o+=n),o+="\n\n",n=c.each.call(b,b&&b.additionalFields,{hash:{},inverse:r.noop,fn:r.program(6,i,e),data:e}),(n||0===n)&&(o+=n),o+="\n\n",n=c.if.call(b,b&&b.actions,{hash:{},inverse:r.noop,fn:r.program(8,j,e),data:e}),(n||0===n)&&(o+=n),o+="\n\n"}),this.EGAD_TEMPLATES["browse/selectClassModal"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal fade" id="selectClassModal" tabindex="-1" role="dialog" aria-labelledby="Select owl:Class for new resource" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h3>Select a Class</h3>\n      </div>\n      <div class="modal-body">\n        <p>No information about the required Class of objects for this property was found.</p>\n        <p>Please select one by typing the Class name in the box below, if no Class is selected default is owl:Thing.</p>\n\n        <input class="selectedClass" type="hidden" value="" style="width:100%">\n      </div>\n      <div class="modal-footer">\n        <button id="btnSelect" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Select</button>\n        <button id="btnCancelAdd" class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["data/dataExport"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<a id="exportdrop"  tabindex="-1" href="#">Export...</a>\n<ul class="dropdown-menu">\n    <li><a id="rdf-xml" tabindex="-1" href="" class="export">RDF/XML</a></li>\n    <li><a id="ttl" tabindex="-1"  href="" class="export">Turtle</a></li>\n    <li><a id="nt" tabindex="-1"  href="" class="export">N-Triples</a></li>\n    <li><a id="trig" tabindex="-1" href="" class="export">TriG</a></li>\n    <li><a id="trix" tabindex="-1" href="" class="export">TriX</a></li>\n    <li><a id="nq" tabindex="-1" href="" class="export">N-Quads</a></li>\n</ul>\n'}),this.EGAD_TEMPLATES["data/main"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},""}),this.EGAD_TEMPLATES["data/modalExport"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var c="";return c+='\n                    <option value="'+k(typeof a===j?a.apply(a):a)+'">'+k(typeof a===j?a.apply(a):a)+"</option>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h3>',(h=c.label)?g=h.call(b,{hash:{},data:e}):(h=b&&b.label,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</h3>\n    </div>\n    <div class="modal-body">\n      <div class="panel panel-default">\n        <div class="panel-heading">\n          <h3 class="panel-title">Dataset</h3>\n        </div>\n        <div class="panel-body">\n          <div id="ngErrorContainer">\n          </div>\n          <form id="exportForm">\n            <div class="radio">\n              <label>\n                <input type="radio" name="optionsRadios" id="optDefault" value="tag:stardog:api:context:default" checked>\n                Default graph\n              </label>\n            </div>\n            <div class="radio">\n              <label>\n                <input type="radio" name="optionsRadios" id="optAll" value="tag:stardog:api:context:all">\n                All graphs\n              </label>\n            </div>\n            <div class="radio disabled">\n              <label>\n                <input type="radio" name="optionsRadios" id="optCustom" value="custom">\n                Custom\n              </label>\n            </div>\n\n            \x3c!-- section to select new graphs --\x3e\n            <div id="customGraphs" class="form-group" style="display: none;">\n              <div class="row" style="margin-bottom: 10px;">\n                <div class="col-md-10">\n                  <select id="selectedGraph" name="graphSelect" style="width: 105%;">\n                    <option value="tag:stardog:api:context:default">Default Graph</option>\n                    ',g=c.each.call(b,b&&b.namedGraphs,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='\n                  </select>\n                </div>\n                <div class="col-md-2">\n                  <button id="btnAddNG" class="btn btn-success" style="width: 100%;">Add</button>\n                </div>\n              </div>\n\n              \x3c!-- added named graphs --\x3e\n              <div class="row">\n                <div class="col-md-12">\n                  <div id="addedGraphs" class="form-group">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div class="panel panel-default">\n        <div class="panel-heading">\n          <h3 class="panel-title">Format</h3>\n        </div>\n        <div class="panel-body">\n          <form id="exportForm">\n            <div class="form-group">\n              <select id="selectFormat" name="format" class="form-control">\n                <option value="rdf/xml">RDF/XML</option>\n                <option value="turtle">Turtle</option>\n                <option value="trig">TriG</option>\n                <option value="trix">TriX</option>\n                <option value="nquads">NQuads</option>\n                <option value="json-ld">JSON-LD</option>\n              </select>\n            </div>\n          </form>\n\n          <div id="formatErrorContainer">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button id="btnExport" class="btn btn-primary" aria-hidden="true">Export</button>\n      <button id="btnClose" class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["data/modalView"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return h+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h3>',(g=c.label)?f=g.call(b,{hash:{},data:e}):(g=b&&b.label,f="function"==typeof g?g.call(b,{hash:{},data:e}):g),h+=i(f)+'</h3>\n    </div>\n    <div class="modal-body">\n      <form id="uploadForm">\n        <fieldset>\n          <input class="fileChoose" type="file" style="display: none;" />\n          <div class="input-group">\n            <input class="filename  form-control" type="text" class="input-large" placeholder="Choose file..." disabled />\n            <span class="input-group-btn">\n              <button class="btn btn-default browse" type="button">Browse</button>\n            </span>\n          </div>\n          <input id="graphUri" class="form-control input-large" type="text" placeholder="tag:stardog:api:context:default" style="margin-top: 5px;" />\n          <div style="margin-top:10px;">\n            <label style="display: none;">Are you sure?</label>\n            <button class="btn btn-primary upload" style="display: none;"><span id="uploadSpin" class="glyphicon glyphicon-refresh glyphicon-refresh-animate" style="display: none;"></span> Upload </button>\n            <button class="btn btn-danger cancel" style="display: none;">Cancel </button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["footer/main"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f;return f=this.invokePartial(d.footer,"footer",b,c,d,e),f||0===f?f:""}),this.EGAD_TEMPLATES["help/shortcutsModal"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n    <dt>",(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</dt>\n    <dd>",(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</dd>\n\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h3>Keyboard Shortcuts</h3>\n    </div>\n    <div class="modal-body">\n  <dl class="dl-horizontal">\n    ',g=c.each.call(b,b&&b.descriptions,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n    </ul>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["home/homePage"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g="";return f=this.invokePartial(d.homeContent,"homeContent",b,c,d,e),(f||0===f)&&(g+=f),g+="\n"}),this.EGAD_TEMPLATES["home/namespacesWidget"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="col-md-6 pull-left">\n  <legend>\n    Data Set Information\n  </legend>\n  <div class="info" style="background: #ffffff; height:200px">\n    <table id="datasetInfoTable" class="table">\n      <tbody>\n        <tr>\n          <td>annex</td>\n        </tr>\n        <tr>\n          <td>foaf</td>\n        </tr>\n        <tr>\n          <td>void</td>\n        </tr>\n        <tr>\n          <td>sd</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>'}),this.EGAD_TEMPLATES["home/widgetRow"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="widget-row" class="row">\n</div>'}),this.EGAD_TEMPLATES["metadata/datasetInfo"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n      \n      <tr>\n        <td><strong>Application Name:<strong></td>\n        <td>",(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</td>\n      </tr>\n      <tr>\n        <td><strong>SPARQL Endpoint:<strong></td>\n        <td>",(e=c.sparqlEndpoint)?d=e.call(a,{hash:{},data:b}):(e=a&&a.sparqlEndpoint,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</td>\n      </tr>\n      <tr>\n        <td><strong>API Endpoint:<strong></td>\n        <td>",(e=c.apiEndpoint)?d=e.call(a,{hash:{},data:b}):(e=a&&a.apiEndpoint,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</td>\n      </tr>\n      "}function g(a,b){return"Yes"}function h(a,b){return"No"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div>\n  <table id="dataInfoTable" class="table">\n    <tbody>\n      ',i=c.unless.call(b,b&&b.embeddedInStardog,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+='\n      <tr>\n        <td><strong>Database Name:<strong></td>\n        <td id="db-name">',(j=c["database.name"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.name"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\n      </tr>\n      <tr>\n        <td><strong>Size (triples):<strong></td>\n        <td id="db-size">',(j=c["index.size"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.size"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\n      </tr>\n      <tr>\n        <td><strong>Index Type:<strong></td>\n        <td id="index-type">',(j=c["index.type"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.type"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\n      </tr>\n      <tr>\n        <td><strong>Creation Date:<strong></td>\n        <td id="db-creation">',(j=c["database.time.creation"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.time.creation"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\n      </tr>\n      <tr>\n        <td><strong>Last Modified:<strong></td>\n        <td id="db-modification">',(j=c["database.time.modification"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.time.modification"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</td>\n      </tr>\n      <tr>\n        <td><strong>Search Enabled:<strong></td>\n        <td id="search-enabled">',i=c.if.call(b,b&&b["search.enabled"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+="</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"}),this.EGAD_TEMPLATES["navbar/navbar"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"withLogo"}function g(a,b){return""}function h(a,b){var d,e,f="";return f+='\n        <img id="lblLogo" src="',(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" ></img>\n      '}function i(a,b){var d,e,f="";return f+="\n        ",(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="\n      "}function j(a,b){var d,e,f="";return f+='\n        <li class="" id="',(e=c.htmlId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.htmlId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">\n          <a class="menuLink" href="',(e=c.link)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link,d=typeof e===w?e.call(a,{
hash:{},data:b}):e),f+=x(d)+'">',d=c.if.call(a,a&&a.icon,{hash:{},inverse:y.noop,fn:y.program(10,k,b),data:b}),(d||0===d)&&(f+=d),f+=" ",(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</a>\n        </li>\n        "}function k(a,b){var d,e,f="";return f+='<i class="',(e=c.icon)?d=e.call(a,{hash:{},data:b}):(e=a&&a.icon,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"></i>'}function l(a,b){var d,e,f="";return f+='\n        <li class="dropdown">\n          <a href="#" id="itemdrop-',(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" class="dropdown-toggle" data-bypass="true" data-toggle="dropdown">\n            <i class="',(e=c.icon)?d=e.call(a,{hash:{},data:b}):(e=a&&a.icon,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"></i> ',(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+' <b class="caret"></b>\n          </a>\n          <ul class="dropdown-menu" role="menu" aria-labelledby="itemdrop-',(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">\n            ',d=c.each.call(a,a&&a.items,{hash:{},inverse:y.noop,fn:y.program(13,m,b),data:b}),(d||0===d)&&(f+=d),f+="\n          </ul>\n        </li>\n        "}function m(a,b){var d,e,f="";return f+='\n            <li class="" id="',(e=c.htmlId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.htmlId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">\n              <a class="menuLink" href="',(e=c.link)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',d=c.if.call(a,a&&a.icon,{hash:{},inverse:y.noop,fn:y.program(10,k,b),data:b}),(d||0===d)&&(f+=d),f+=" ",(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</a>\n            </li>\n            "}function n(a,b){return'\n      <form class="navbar-form navbar-right" role="search">\n        <input id="direct_search" type="text" class="form-control search-query" placeholder="Search"></input>\n      </form>\n      '}function o(a,b){var d,e="";return e+="\n              ",d=c.if.call(a,a&&a.label,{hash:{},inverse:y.noop,fn:y.program(18,p,b),data:b}),(d||0===d)&&(e+=d),e+="\n            "}function p(a,b){var d,e="";return e+="\n                ",d=c.if.call(a,a&&a.mainUrl,{hash:{},inverse:y.noop,fn:y.program(19,q,b),data:b}),(d||0===d)&&(e+=d),e+="\n              "}function q(a,b){var d,e,f="";return f+='\n                <li>\n                  <a href="',(e=c.mainUrl)?d=e.call(a,{hash:{},data:b}):(e=a&&a.mainUrl,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" ',d=c.if.call(a,a&&a.htmlId,{hash:{},inverse:y.noop,fn:y.program(20,r,b),data:b}),(d||0===d)&&(f+=d),f+=" >\n                    ",d=c.if.call(a,a&&a.label,{hash:{},inverse:y.program(24,t,b),fn:y.program(22,s,b),data:b}),(d||0===d)&&(f+=d),f+="\n                  </a>\n                </li>\n                "}function r(a,b){var d,e,f="";return f+='id="',(e=c.htmlId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.htmlId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"'}function s(a,b){var d,e;return(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),d||0===d?d:""}function t(a,b){var d,e;return(e=c.mainUrl)?d=e.call(a,{hash:{},data:b}):(e=a&&a.mainUrl,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var u,v="",w="function",x=this.escapeExpression,y=this;return v+='<nav class="navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a id="lblBrand" class="navbar-brand ',u=c.if.call(b,b&&b.sLogo,{hash:{},inverse:y.program(3,g,e),fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" href="#">\n      ',u=c.if.call(b,b&&b.isLogo,{hash:{},inverse:y.program(7,i,e),fn:y.program(5,h,e),data:e}),(u||0===u)&&(v+=u),v+='\n      </a>\n    </div>\n\n    \x3c!-- Collect the nav links, forms, and other content for toggling --\x3e\n    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n      <ul id="navli" class="nav navbar-nav">\n        ',u=c.each.call(b,(u=b&&b.modules,u=null==u||!1===u?u:u.navbar,null==u||!1===u?u:u.items),{hash:{},inverse:y.noop,fn:y.program(9,j,e),data:e}),(u||0===u)&&(v+=u),v+="\n        ",u=c.each.call(b,(u=b&&b.modules,u=null==u||!1===u?u:u.navbar,null==u||!1===u?u:u.dropdowns),{hash:{},inverse:y.noop,fn:y.program(12,l,e),data:e}),(u||0===u)&&(v+=u),v+='\n      </ul>\n\n      <button id="help-link" class="btn btn-primary navbar-btn navbar-right">\n        <i class="icon-question"></i>\n      </button>\n\n      ',u=c.if.call(b,(u=b&&b.modules,null==u||!1===u?u:u.search),{hash:{},inverse:y.noop,fn:y.program(15,n,e),data:e}),(u||0===u)&&(v+=u),v+='\n\n      <ul class="nav navbar-nav navbar-right">\n        <li id="optionsMenu" class="dropdown">\n          <a href="#" id="maindrop" class="dropdown-toggle" data-bypass="true" data-toggle="dropdown">\n            <i class="icon-reorder"></i>\n          </a>\n          <ul class="dropdown-menu" role="menu" aria-labelledby="maindrop">\n            ',u=c.each.call(b,b&&b.modules,{hash:{},inverse:y.noop,fn:y.program(17,o,e),data:e}),(u||0===u)&&(v+=u),v+="\n          </ul>\n        </li>\n      </ul>\n    </div>\x3c!-- /.navbar-collapse --\x3e\n  </div>\x3c!-- /.container-fluid --\x3e\n</nav>\n"}),this.EGAD_TEMPLATES["query/datasetInfoModal"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="dataInfoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3>Dataset Information</h3>\n      </div>\n      <div class="modal-body">\n      </div>\n      <div class="modal-footer">\n        <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["query/exportFormats"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return'\n    <li><a class="export-option" format="sparql-xml" tabindex="-1" data-bypass="true" href="#">SPARQL Results RDF/XML</a></li>\n    <li><a class="export-option" format="sparql-json" tabindex="-1" data-bypass="true" href="#">SPARQL Results JSON</a></li>\n    <li><a class="export-option" format="sparql-tsv" tabindex="-1" data-bypass="true" href="#">TSV</a></li>\n    <li><a class="export-option" format="sparql-csv" tabindex="-1" data-bypass="true" href="#">CSV</a></li>\n    '}function g(a,b){return'\n    <li><a class="export-option" format="rdf-xml" tabindex="-1" data-bypass="true" href="#">RDF/XML</a></li>\n    <li><a class="export-option" format="ttl" tabindex="-1" data-bypass="true" href="#">Turtle</a></li>\n    <li><a class="export-option" format="nt" tabindex="-1" data-bypass="true" href="#">N-Triples</a></li>\n    <li><a class="export-option" format="trig" tabindex="-1" data-bypass="true" href="#">TriG</a></li>\n    <li><a class="export-option" format="trix" tabindex="-1" data-bypass="true" href="#">TriX</a></li>\n    <li><a class="export-option" format="nq" tabindex="-1" data-bypass="true" href="#">N-Quads</a></li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+='<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n<i class="icon-download-alt"></i> Export as...\n</button>\n<ul class="dropdown-menu" role="menu">\n    ',h=c.if.call(b,b&&b.tupleResults,{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n    ",h=c.if.call(b,b&&b.graphResults,{hash:{},inverse:j.noop,fn:j.program(3,g,e),data:e}),(h||0===h)&&(i+=h),i+="\n</ul>"}),this.EGAD_TEMPLATES["query/queryPanel"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return'<i class="icon-collapse"></i>'}function g(a,b){return'<i class="icon-expand"></i>'}function h(a,b){return"Hide"}function i(a,b){return"Show"}function j(a,b){return"in"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m=this;return l+='<div>\n  <div id="messageDiv" class="fade in" style="display:none; margin:auto auto;">\n  </div>\n  <div id="view_frame" class="app_content" style="width:100%;">\n    <h2>Query Panel</h2>\n\n    <div class="panel-group" id="accordion">\n      \x3c!-- First group --\x3e\n      <div class="panel panel-default">\n        <div class="panel-heading">\n          <a id="accordionTools" data-toggle="collapse" data-bypass="true" href="#collapseTwo">\n            ',k=c.if.call(b,b&&b.collapseTwo,{hash:{},inverse:m.program(3,g,e),fn:m.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+=" <strong>",k=c.if.call(b,b&&b.collapseTwo,{hash:{},inverse:m.program(7,i,e),fn:m.program(5,h,e),data:e}),(k||0===k)&&(l+=k),l+=' SPARQL Editor</strong>\n          </a>\n        </div>\n        <div id="collapseTwo" class="panel-collapse collapse ',k=c.if.call(b,b&&b.collapseTwo,{hash:{},inverse:m.noop,fn:m.program(9,j,e),data:e}),(k||0===k)&&(l+=k),l+='">\n          <div id="query" class="panel-body" style="height: 560px; overflow: auto;">\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Second group --\x3e\n      <div class="panel panel-default">\n        <div class="panel-heading">\n          <a data-toggle="collapse" data-bypass="true" href="#collapseThree">\n            <i class="icon-list-alt"></i> Results\n          </a>\n        </div>\n        <div id="collapseThree" class="panel-collapse collapse ',k=c.if.call(b,b&&b.collapseThree,{hash:{},inverse:m.noop,fn:m.program(9,j,e),data:e}),(k||0===k)&&(l+=k),l+='">\n          <div class="panel-body">\n            <div id="results_table"></div>\n            <div id="btnExport"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["query/queryResults"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'\n<table id="results-grid" class="table table-striped table-bordered datagrid">\n  <thead>\n     <tr>\n      <th>\n        <span class="datagrid-header-title">SPARQL Results</span>\n        <span id="query-execution-time" class="datagrid-header-title"></span>\n      </th>\n    </tr>\n  </thead>\n\n  <tfoot>\n    <tr>\n      <th>\n        <div class="datagrid-footer-left" style="display:none;">\n          <div class="grid-controls">\n            <span>\n              <span class="grid-start"></span> -\n              <span class="grid-end"></span>\n              \x3c!-- of <span class="grid-count"></span> --\x3e\n            </span>\n            <select class="grid-pagesize">\n              <option>50</option>\n              <option>100</option>\n              <option>200</option>\n            </select>\n            <span>Per Page</span>\n          </div>\n        </div>\n        <div class="datagrid-footer-right" style="display:none;">\n          <div class="grid-pager">\n            <button type="button" class="btn grid-prevpage"><i class="icon-chevron-left"></i></button>\n            <span>Page</span>\n            <input id="page-number" class="span2" type="text">\n            \x3c!-- <span>of <span class="grid-pages"></span></span> --\x3e\n            <button type="button" class="btn grid-nextpage"><i class="icon-chevron-right"></i></button>\n          </div>\n        </div>\n      </th>\n    </tr>\n  </tfoot>\n</table>\n'}),this.EGAD_TEMPLATES["query/saveQueryModal"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="modal fade" id="saveQueryModal" tabindex="-1" role="dialog" aria-labelledby="Save query" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4>Save as...</h4>\n      </div>\n      <div class="modal-body">\n        <form id="inputForm" role="form">\n          <div class="form-group">\n            <label for="inFilename">Filename:</label>\n            <input id="inFilename" type="text" class="form-control" placeholder="e.g. query.sparql">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button id="btnCancel" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Cancel</button>\n        <button id="btnSave" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Save</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["query/sparqlEditor"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return'\n    <button id="btnDatasetInfo" class="btn btn-info"><i class="icon-info-sign"></i> Dataset Info</button>\n    '}function g(a,b){return'\n      <button id="loadQuery" class="btn btn-default"><i class="icon-folder-open"></i></button>\n      <button id="saveQuery" class="btn btn-default"><i class="icon-save"></i></button>\n      '}function h(a,b){return'\n    <input type="file" id="queryFile" style="display:none;" />\n    '}function i(a,b){return"checked"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m=this,n=this.escapeExpression;return l+='<div id="sparqlEditorForm" style="height: 525px; width: 99%;"> \x3c!-- 99% aprevents horizontal bar in IE & Firefox --\x3e\n  <div class="btn-toolbar">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n        <i class="icon-eye-open"></i> Explore <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu">\n        <li><a id="exploreTypes" tabindex="-1" data-bypass="true" href="#">Types</a></li>\n        <li><a id="exploreObjProps" tabindex="-1" data-bypass="true" href="#">Object Properties</a></li>\n        <li><a id="exploreDataProps" tabindex="-1" data-bypass="true" href="#">Data Properties</a></li>\n        <li><a id="exploreAssertedProps" tabindex="-1" data-bypass="true" href="#">Asserted Properties</a></li>\n        <li><a id="exploreEntities" tabindex="-1" data-bypass="true" href="#">Entities</a></li>\n        <li><a id="exploreHierarchy" tabindex="-1" data-bypass="true" href="#">Class Hierarchy</a></li>\n        <li><a id="exploreNamedGraphs" tabindex="-1" data-bypass="true" href="#">Named Graphs</a></li>\n      </ul>\n    </div>\n\n    ',j=c.unless.call(b,b&&b.embeddedInStardog,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(j||0===j)&&(l+=j),l+='\n\n    <div class="btn-group">\n      <button id="newQuery" class="btn btn-default"><i class="icon-file"></i></button>\n      ',j=c.if.call(b,b&&b.fileSupport,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(j||0===j)&&(l+=j),l+="\n    </div>\n    ",j=c.if.call(b,b&&b.fileSupport,{hash:{},inverse:m.noop,fn:m.program(5,h,e),data:e}),(j||0===j)&&(l+=j),l+='\n\n    <div class="pull-right">\n      <label for="reasoning">Reasoning</label>\n      <input id="reasoning" name="reasoningOpt" type="checkbox" class="switch" ',j=c.if.call(b,b&&b.reasoning,{hash:{},inverse:m.noop,fn:m.program(7,i,e),data:e}),(j||0===j)&&(l+=j),l+='>\n      <button id="btn_execute" class="btn btn-primary" style="margin-left:50px;"><i class="icon-rocket"></i> Execute</button>\n      <button id="btn_clear" class="btn btn-danger"><i class="icon-remove"></i> Clear</button>\n    </div>\n\n  </div>\n  <br/>\n  <form class="form-inline">\n    <div class="panel-field"><label for="prefixSelect">Prefixes:</label> <input id="prefixSelect" type="text" value="',(k=c.prefixes)?j=k.call(b,{hash:{},data:e}):(k=b&&b.prefixes,j="function"==typeof k?k.call(b,{hash:{},data:e}):k),l+=n(j)+'" style="width: 100%;"></div>\n  </form>\n  <br/>\n  <textarea id="sparql_query" style="width:99%; height:350px;"></textarea>\n  <span id="lblLoadedFile" class="label label-primary" style="display: none;">File: <span id="fileName"></span></span>\n</div>\n'}),this.EGAD_TEMPLATES["schema/schemaBrowser"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="alert-area"></div>\n<h2>Schema Browser</h2>\n<legend></legend>\n\n<div class="row">\n  <div class="col-md-2">\n    <ul class="nav nav-pills nav-stacked">\n      <li class="active"><a id="tabClass" href="#tab1" data-toggle="tab" data-bypass="true">Classes</a></li>\n      <li><a id="tabProp" href="#tab2" data-toggle="tab" data-bypass="true">Properties</a></li>\n    </ul>\n  </div>\n  <div class="col-md-10">\n    <div class="tab-content">\n      <div class="tab-pane fade in active" id="tab1">\n        <div id="classTree" class="scrollContainer no-border" style="height: 700px;">\n\n        </div>\n      </div>\n      <div class="tab-pane fade" id="tab2">\n        <div id="propertyTree" class="scrollContainer no-border" style="height: 700px;">\n\n        </div>\n      </div>\n    </div>\n  </div>\n'}),this.EGAD_TEMPLATES["schema/schemaBrowserTreeNode"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n  ",d=c.if.call(a,a&&a.label,{hash:{},inverse:p.program(5,i,b),fn:p.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f,g="";return g+='\n  <i class="icon icon-tree icon-plus"></i> <a href="#!/browse/using/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"encodeURIComp",a&&a.type,f),(d||0===d)&&(g+=d),g+='" class="schemaTooltip" data-bypass="true" data-toggle="tooltip" data-placement="right" title="',(e=c.type)?d=e.call(a,{hash:{},data:b}):(e=a&&a.type,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+'"><strong>',(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+"</strong></a>\n  "}function h(a,b){return o(typeof a===n?a.apply(a):a)}function i(a,b){var d,e,f,g="";return g+='\n  <i class="icon icon-tree icon-plus"></i> <a href="#!/browse/using/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"encodeURIComp",a&&a.type,f),(d||0===d)&&(g+=d),g+='" class="schemaTooltip" data-bypass="true" data-toggle="tooltip" data-placement="right" title="',(e=c.type)?d=e.call(a,{hash:{},data:b}):(e=a&&a.type,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+'"><strong>',e=c.localname||a&&a.localname,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"localname",a&&a.type,f),(d||0===d)&&(g+=d),g+="</strong></a>\n  "}function j(a,b){var d,e="";return e+="\n  ",d=c.if.call(a,a&&a.label,{hash:{},inverse:p.program(10,l,b),fn:p.program(8,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function k(a,b){var d,e,f,g="";return g+='\n  <i class="icon icon-tree icon-plus"></i> <a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"encodeURIComp",a&&a.type,f),(d||0===d)&&(g+=d),g+='" class="schemaTooltip" data-bypass="true" data-toggle="tooltip" data-placement="right" title="',(e=c.type)?d=e.call(a,{hash:{},data:b}):(e=a&&a.type,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+'"><strong>',(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+"</strong></a>\n  "}function l(a,b){var d,e,f,g="";return g+='\n  <i class="icon icon-tree icon-plus"></i> <a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"encodeURIComp",a&&a.type,f),(d||0===d)&&(g+=d),g+='" class="schemaTooltip" data-bypass="true" data-toggle="tooltip" data-placement="right" title="',(e=c.type)?d=e.call(a,{hash:{},data:b}):(e=a&&a.type,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=o(d)+'"><strong>',e=c.localname||a&&a.localname,f={hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b},d=e?e.call(a,a&&a.type,f):q.call(a,"localname",a&&a.type,f),(d||0===d)&&(g+=d),g+="</strong></a>\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n="function",o=this.escapeExpression,p=this,q=c.helperMissing;return m=c.if.call(b,b&&b["@isProperty"],{hash:{},inverse:p.program(7,j,e),fn:p.program(1,f,e),data:e}),m||0===m?m:""}),this.EGAD_TEMPLATES["search/searchForm"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="panel panel-default">\n  <div class="panel-heading"><h4>Advanced Search</h4></div>\n  <div class="panel-body">\n    <form style="height: 100%;" class="form-horizontal" role="form">\n      <input type="text" id="searchProxy" class="input-block-level form-control">\n      <br/>\n      <fieldset>\n        <legend>Find things matching...</legend>\n        <div class="form-group">\n          <label class="col-md-2 control-label" for="asMatchWords">all these words:</label>\n          <div class="col-md-10">\n            <input type="text" id="asMatchWords" class="searchInput input-block-level form-control">\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2 control-label" for="asMatchPhrase">this exact phrase:</label>\n          <div class="col-md-10">\n            <input type="text" id="asMatchPhrase" class="searchInput input-block-level form-control">\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2 control-label" for="asOrMatch1">one or more of these words:</label>\n          <div class="col-md-10">\n            <div class="row">\n              <div class="col-md-3">\n                <input type="text" id="asOrMatch1" class="searchInput form-control">\n              </div>\n              <div class="col-md-1">\n                <label>or</label>\n              </div>\n              <div class="col-md-3">\n                <input type="text" id="asOrMatch2" class="searchInput form-control">\n              </div>\n              <div class="col-md-1">\n                <label>or</label>\n              </div>\n              <div class="col-md-3">\n                <input type="text" id="asOrMatch3" class="searchInput form-control">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2 control-label" for="asNoMatch">but none of these words:</label>\n          <div class="col-md-10">\n            <input type="text" id="asNoMatch" class="searchInput input-block-level form-control">\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="col-md-12">\n            <input type="text" id="search" class="form-control" name="query">\n            <button type="btn btn-primary" id="btnSearch" class="btn btn-primary pull-right">Go!</button>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n'}),this.EGAD_TEMPLATES["search/searchResults"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='for: <em class="search-term">',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b},d=e?e.call(a,a&&a.term,f):z.call(a,"decodeURIComp",a&&a.term,f),(d||0===d)&&(h+=d),h+="</em>"}function g(a,b){return x(typeof a===w?a.apply(a):a)}function h(a,b){var d,e,f,g="";return g+="\n\n  ",e=c.prtable||a&&a.prtable,f={hash:{name:"results",class:"table-hover"},inverse:y.noop,fn:y.program(5,i,b),data:b},d=e?e.call(a,a&&a.results,f):z.call(a,"prtable",a&&a.results,f),(d||0===d)&&(g+=d),g+='\n\n  <ul class="pager pagination">\n    <li class="previous">\n      <a ',d=c.if.call(a,a&&a.prevPage,{hash:{},inverse:y.program(21,r,b),fn:y.program(19,q,b),data:b}),(d||0===d)&&(g+=d),g+='>&larr; Previous</a>\n    </li>\n    <li class="next">\n      <a ',d=c.if.call(a,a&&a.nextPage,{hash:{},inverse:y.program(21,r,b),fn:y.program(23,s,b),data:b}),(d||0===d)&&(g+=d),g+=">Next &rarr;</a>\n    </li>\n  </ul>\n"}function i(a,b){var d,e,f,g="";return g+='\n\n  \x3c!-- URI or label --\x3e\n  <td><a href="#!/browse/resource/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:y.noop,fn:y.program(6,j,b),data:b},d=e?e.call(a,a&&a.uri,f):z.call(a,"encodeURIComp",a&&a.uri,f),(d||0===d)&&(g+=d),g+='">',d=c.if.call(a,a&&a.label,{hash:{},inverse:y.program(10,l,b),fn:y.program(8,k,b),data:b}),(d||0===d)&&(g+=d),g+="</a></td>\n\n  \x3c!-- types --\x3e\n  <td>\n  ",d=c.each.call(a,a&&a.types,{hash:{},inverse:y.noop,fn:y.program(12,m,b),data:b}),(d||0===d)&&(g+=d),g+="\n  </td>\n\n  \x3c!-- matched results --\x3e\n  <td>\n  ",d=c.each.call(a,a&&a.matches,{hash:{},inverse:y.noop,fn:y.program(14,n,b),data:b}),(d||0===d)&&(g+=d),g+="\n</td>\n\n  "}function j(a,b){return""}function k(a,b){var d,e;return(e=c.label)?d=e.call(a,{hash:{},data:b}):(e=a&&a.label,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function l(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b},d=e?e.call(a,a&&a.uri,f):z.call(a,"localname",a&&a.uri,f),d||0===d?d:""}function m(a,b){var d,e,f,g="";return g+='\n  <a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:y.noop,fn:y.program(6,j,b),data:b},d=e?e.call(a,a&&a.uri,f):z.call(a,"encodeURIComp",a&&a.uri,f),(d||0===d)&&(g+=d),g+='"><span class="label label-primary">',d=c.if.call(a,a&&a.label,{hash:{},inverse:y.program(10,l,b),fn:y.program(8,k,b),data:b}),(d||0===d)&&(g+=d),g+="</span></a>\n  "}function n(a,b){var d,e,f="";return f+='\n    <div class="row">\n      <div class=col-sm-5>\n        <span class="label label-success">property</span> ',d=c.if.call(a,a&&a.propertyLabel,{hash:{},inverse:y.program(17,p,b),fn:y.program(15,o,b),data:b}),(d||0===d)&&(f+=d),f+='\n      </div>\n      <div class=col-sm-7>\n        <span class="label label-default">string</span> ',(e=c.string)?d=e.call(a,{hash:{},data:b}):(e=a&&a.string,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"\n      </div>\n    </div>\n\n  "}function o(a,b){var d,e;return(e=c.propertyLabel)?d=e.call(a,{hash:{},data:b}):(e=a&&a.propertyLabel,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function p(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b},d=e?e.call(a,a&&a.propertyUri,f):z.call(a,"localname",a&&a.propertyUri,f),d||0===d?d:""}function q(a,b){var d,e,f="";return f+='href="',(e=c.prevPage)?d=e.call(a,{hash:{},data:b}):(e=a&&a.prevPage,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"'}function r(a,b){return'href="#" style="visibility: hidden"'}function s(a,b){var d,e,f="";return f+='href="',(e=c.nextPage)?d=e.call(a,{hash:{},data:b}):(e=a&&a.nextPage,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"'}function t(a,b){var d,e="";return e+='\n  <h3>No search results.</h3>\n  <ul class="pager pagination">\n    <li class="previous">\n      <a ',d=c.if.call(a,a&&a.prevPage,{hash:{},inverse:y.program(21,r,b),fn:y.program(19,q,b),data:b}),(d||0===d)&&(e+=d),e+=">&larr; Previous</a>\n    </li>\n  </ul>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var u,v="",w="function",x=this.escapeExpression,y=this,z=c.helperMissing;return v+="<legend>\n  Search Results ",u=c.if.call(b,b&&b.term,{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+="\n</legend>\n\n\n",u=c.if.call(b,b&&b.results,{hash:{},inverse:y.program(25,t,e),fn:y.program(4,h,e),data:e}),(u||0===u)&&(v+=u),v+="\n"}),this.EGAD_TEMPLATES["treebrowser/treeContainer"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h2>Tree Browser</h2>\n<legend></legend>\n\n<div id="treeContainer" class="scrollTreeContainer">\n</div>'}),this.EGAD_TEMPLATES["treebrowser/treeFilter"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return h+='<input id="filterFields" type="text" style="width: 100%" value="',(g=c.listVal)?f=g.call(b,{hash:{},data:e}):(g=b&&b.listVal,f="function"==typeof g?g.call(b,{hash:{},data:e}):g),h+=i(f)+'">\n'}),this.EGAD_TEMPLATES["treebrowser/treeNode"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n\t",e=c.isArray||a&&a.isArray,f={hash:{},inverse:D.program(9,k,b),fn:D.program(2,g,b),data:b},d=e?e.call(a,a&&a["@type"],f):E.call(a,"isArray",a&&a["@type"],f),(d||0===d)&&(h+=d),h+="\n"}function g(a,b){var d,e,f,g="";return g+='\n<a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,(d=a&&a["@type"],null==d||!1===d?d:d[0]),f):E.call(a,"encodeURIComp",(d=a&&a["@type"],null==d||!1===d?d:d[0]),f),(d||0===d)&&(g+=d),g+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" data-toggle="tooltip" data-placement="right" title="',(e=c["@type"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@type"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'">\n\t\t',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:D.program(7,j,b),fn:D.program(5,i,b),data:b}),(d||0===d)&&(g+=d),g+="</a>\n\t"}function h(a,b){return C(typeof a===B?a.apply(a):a)}function i(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),C(d)}function j(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function k(a,b){var d,e,f,g="";return g+='\n<a href="#!/browse/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@type"],f):E.call(a,"encodeURIComp",a&&a["@type"],f),(d||0===d)&&(g+=d),g+="/",e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" data-toggle="tooltip" data-placement="right" title="',(e=c["@type"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@type"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'">\n\t\t',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:D.program(7,j,b),fn:D.program(5,i,b),data:b}),(d||0===d)&&(g+=d),g+="</a> \n\t"}function l(a,b){var d,e="";return e+="\n\t",d=c.if.call(a,a&&a["@found"],{hash:{},inverse:D.program(14,n,b),fn:D.program(12,m,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function m(a,b){var d,e,f,g="";return g+='\n<a href="#!/browse/resource/',e=c.encodeURIComp||a&&a.encodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"encodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" data-toggle="tooltip" data-placement="right" title="owl:Thing">\n\t\t',d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:D.program(7,j,b),fn:D.program(5,i,b),data:b}),(d||0===d)&&(g+=d),g+="</a> \n\t"}function n(a,b){var d,e="";return e+="\n\t\t",d=c.if.call(a,a&&a["@value"],{hash:{},inverse:D.program(26,v,b),fn:D.program(15,o,b),data:b}),(d||0===d)&&(e+=d),e+="\n\t"}function o(a,b){
var d,e,f,g="";return g+="\n\t\t\t",e=c.isURL||a&&a.isURL,f={hash:{},inverse:D.program(18,q,b),fn:D.program(16,p,b),data:b},d=e?e.call(a,a&&a["@value"],f):E.call(a,"isURL",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="\n\t\t"}function p(a,b){var d,e,f,g="";return g+='\n\t<a href="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@value"],f):E.call(a,"decodeURIComp",a&&a["@value"],f),(d||0===d)&&(g+=d),g+='" target="_blank">',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@value"],f):E.call(a,"decodeURIComp",a&&a["@value"],f),(d||0===d)&&(g+=d),g+="</a>\n\t\t\t"}function q(a,b){var d,e="";return e+="\n\t\t\t\t",d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:D.program(24,u,b),fn:D.program(19,r,b),data:b}),(d||0===d)&&(e+=d),e+="\n\t\t\t"}function r(a,b){var d,e,f,g="";return g+="\n\t\t\t\t\t",e=c.isURL||a&&a.isURL,f={hash:{},inverse:D.program(22,t,b),fn:D.program(20,s,b),data:b},d=e?e.call(a,a&&a["@egadLabel"],f):E.call(a,"isURL",a&&a["@egadLabel"],f),(d||0===d)&&(g+=d),g+="\n\t\t\t\t"}function s(a,b){var d,e,f,g="";return g+='\n\t\t\t\t\t\t<a href="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@egadLabel"],f):E.call(a,"decodeURIComp",a&&a["@egadLabel"],f),(d||0===d)&&(g+=d),g+='" target="_blank">',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@egadLabel"],f):E.call(a,"decodeURIComp",a&&a["@egadLabel"],f),(d||0===d)&&(g+=d),g+="</a>\n\t\t\t\t\t"}function t(a,b){var d,e,f="";return f+="\n\t\t\t\t\t\t",(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+"\n\t\t\t\t\t"}function u(a,b){var d,e,f="";return f+="\n\t\t\t\t\t",(e=c["@value"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@value"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+"\n\t\t\t\t"}function v(a,b){var d,e,f,g="";return g+="\n\t\t\t",e=c.isURL||a&&a.isURL,f={hash:{},inverse:D.program(29,x,b),fn:D.program(27,w,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"isURL",a&&a["@id"],f),(d||0===d)&&(g+=d),g+="\n\t\t"}function w(a,b){var d,e,f,g="";return g+='\n\t<a href="',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"decodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+='" target="_blank">',e=c.decodeURIComp||a&&a.decodeURIComp,f={hash:{},inverse:D.noop,fn:D.program(3,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):E.call(a,"decodeURIComp",a&&a["@id"],f),(d||0===d)&&(g+=d),g+="</a>\n\t\t\t"}function x(a,b){var d,e="";return e+="\n\t\t\t\t",d=c.if.call(a,a&&a["@egadLabel"],{hash:{},inverse:D.program(30,y,b),fn:D.program(19,r,b),data:b}),(d||0===d)&&(e+=d),e+="\n\t\t\t"}function y(a,b){var d,e,f="";return f+="\n\t\t\t\t\t",(e=c["@id"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@id"],d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+"\n\t\t\t\t"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var z,A="",B="function",C=this.escapeExpression,D=this,E=c.helperMissing;return A+='<li class="node"><i class="icon icon-chevron-right"></i> \n<strong>\n',z=c.if.call(b,b&&b["@type"],{hash:{},inverse:D.program(11,l,e),fn:D.program(1,f,e),data:e}),(z||0===z)&&(A+=z),A+='</strong></li>\n<ul class="propertyList">\n</ul>\n'}),this.EGAD_TEMPLATES["treebrowser/treeNodeProperty"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e;return(e=c["@egadLabel"])?d=e.call(a,{hash:{},data:b}):(e=a&&a["@egadLabel"],d=typeof e===l?e.call(a,{hash:{},data:b}):e),m(d)}function g(a,b){var d,e,f;return e=c.localname||a&&a.localname,f={hash:{},inverse:n.noop,fn:n.program(4,h,b),data:b},d=e?e.call(a,a&&a["@id"],f):o.call(a,"localname",a&&a["@id"],f),d||0===d?d:""}function h(a,b){return m(typeof a===l?a.apply(a):a)}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<li class="nodeProperty">\n  <i class="icon icon-chevron-right icon-expandable"></i> <code>',i=c.if.call(b,b&&b["@egadLabel"],{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+="</code> <i>(",(j=c["@valCardinality"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["@valCardinality"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+')</i> <i class="icon icon-remove" nodeId="',(j=c["@id"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["@id"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'" style="display:none; cursor:pointer;"></i>\n  <ul class="individualList">\n  </ul>\n</li>\n'}),this.EGAD_TEMPLATES["webconsole/home"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="alert-area"></div>\n\n<div id="webconsole-front">\n</div>'}),this.EGAD_TEMPLATES["webconsole/metadata"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var c="";return c+="\n            <li>"+m(typeof a===l?a.apply(a):a)+"</li>\n            "}function g(a,b){return"Yes"}function h(a,b){return"No"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div class="panel panel-default">\n    <div class="panel-heading">\n        <h3>Database Metadata</h3>\n    </div>\n    <div class="panel-body">\n      <div id="metadataCols" data-columns salvattore="2 .col.col-md-6">\n        <div class="metadata-elem well">\n          <label>Database Name</label>\n          <span>',(j=c["database.name"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.name"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Database Namespaces</label>\n          <ul>\n            ',i=c.each.call(b,b&&b["database.namespaces"],{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+='\n          </ul>\n        </div>\n        <div class="metadata-elem well">\n          <label>Database Online</label>\n          <span>',i=c.if.call(b,b&&b["database.online"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Database Time Creation</label>\n          <span>',(j=c["database.time.creation"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.time.creation"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Last Modified</label>\n          <span>',(j=c["database.time.modification"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["database.time.modification"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Size (Triples)</label>\n          <span>',(j=c["index.size"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.size"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Type</label>\n          <span>',(j=c["index.type"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.type"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Persist</label>\n          <span>',i=c.if.call(b,b&&b["index.persist"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Literals Canonical</label>\n          <span>',i=c.if.call(b,b&&b["index.literals.canonical"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Named Graphs</label>\n          <span>',i=c.if.call(b,b&&b["index.named.graphs"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Statistics Update Automatic</label>\n          <span>',i=c.if.call(b,b&&b["index.statistics.update.automatic"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Differential Enable Limit (Triples)</label>\n          <span>',(j=c["index.differential.enable.limit"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.differential.enable.limit"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Index Differential Enable Limit (Triples)</label>\n          <span>',(j=c["index.differential.merge.limit"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["index.differential.merge.limit"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>ICV Enabled</label>\n          <span>',i=c.if.call(b,b&&b["icv.enabled"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>ICV Reasoning Type</label>\n          <span>',(j=c["icv.reasoning.type"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["icv.reasoning.type"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>ICV Active Graphs</label>\n          <span>',(j=c["icv.active.graphs"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["icv.active.graphs"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>ICV Consistency Automatic</label>\n          <span>',i=c.if.call(b,b&&b["icv.consistency.automatic"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Reasoning Consistency Automatic</label>\n          <span>',i=c.if.call(b,b&&b["reasoning.consistency.automatic"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Reasoning Punning Automatic</label>\n          <span>',i=c.if.call(b,b&&b["reasoning.punning.enabled"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Reasoning Schema Graphs</label>\n          <span>',(j=c["reasoning.schema.graphs"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["reasoning.schema.graphs"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Search Enabled</label>\n          <span>',i=c.if.call(b,b&&b["search.enabled"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+='</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Search Reindex Mode</label>\n          <span>',(j=c["search.reindex.mode"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["search.reindex.mode"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+'</span>\n        </div>\n        <div class="metadata-elem well">\n          <label>Transactions Durable</label>\n          <span>',i=c.if.call(b,b&&b["transactions.durable"],{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+="</span>\n        </div>\n      </div>\n    </div>\n</div>\n"}),define("templates",["handlebars"],function(a){return function(){var b;return b||a.EGAD_TEMPLATES}}(this)),define("layoutconfig",["jquery","backbone","templates","handlebars","backbone.layoutmanager","handlebars.helpers","handlebars.partials"],function(a,b){b.Layout.configure({manage:!1,fetchTemplate:function(a){return EGAD_TEMPLATES[a]},renderTemplate:function(a,b){return a(b)}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(!this.sliding)return this.slide("next")},b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),function(a){"use strict";function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(c.timeout),c.hoverState="in",!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element
;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&d<=g&&"top");if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),define("bootstrap",["jquery"],function(){}),define("egad.view",["underscore","backbone","egad.config","egad.event","layoutconfig","underscore.mixins","bootstrap","keymaster"],function(a,b,c,d){"use strict";var e={},f={"ctrl+/":{handler:d.ShortcutsManager.showHelp,description:"Show this help"}};return a.each(f,function(a,b){d.ShortcutsManager.registerShortcut(d.EventManager.defaultModule,b,a.description,a.handler)}),e.ShortcutsView=b.Layout.extend({constructor:function(a){var c=a||{};b.Layout.call(this,c),this._initShortcuts(c)},shortcuts:{},_initShortcuts:function(){var b=this,c=d.EventManager.getCurrentModule(),e=function(a){var c="function"==typeof a?a:b[a];if("function"!=typeof c)throw new Error("Function '"+a+"' doesn't exist!");return c};a.each(b.shortcuts,function(a,b){"ctrl+/"===b||d.ShortcutsManager.registerShortcut(c,b,a.description,e(a.handler))})}}),e}),define("egad",["underscore","backbone","mediator-js","egad.ajax","egad.model","egad.config","egad.vocabulary","egad.event","egad.view"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={};j.Mediator=c;var k=["modules"],l=j.ModuleRegistry=function(b){this.id=a.uniqueId("egadRegistry-"),b=b||{},a.extend(this,a.pick(b,k)),this.modules=this.modules||{}};return a.extend(l.prototype,{register:function(a){if(!a)throw new Error("Module to register must be defined!");this.modules[a.getId()]=a},unregister:function(b){b&&(this.modules=a.omit(this.modules,b))}}),j.MainModuleRegistry=new l,j.Module=b.Router.extend({constructor:function(a){b.Router.prototype.constructor.call(this,a),j.MainModuleRegistry.register(this)},getId:function(){return this.id},getName:function(){return this.name?this.name:this.id}}),{api:j,ajax:d,config:f.config,model:e,vocabulary:g,event:h,view:i}}),define("app",["egad"],function(a){var b={root:"/"};return sessionStorage.removeItem(a.config.stores.EGAD_NAMESPACES),sessionStorage.removeItem(a.config.stores.EGAD_SCHEMA_CLASSES),sessionStorage.removeItem(a.config.stores.EGAD_SCHEMA_PROPERTIES),sessionStorage.removeItem(a.config.stores.EGAD_METADATA),b}),function(a,b){"function"==typeof define&&define.amd?define("nprogress",b):"object"==typeof exports?module.exports=b():a.NProgress=b()}(this,function(){function a(a,b,c){return a<b?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){return("string"==typeof a?a:g(a)).indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.1.6";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)void 0!==(c=a[b])&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!=c.state()?(0==b&&i.start(),a++,b++,c.always(function(){b--,0==b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector))&&h(d),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if((c=e[d]+f)in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)void 0!==(e=b[c])&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i}),define("alerts/alerts",["jquery","underscore","egad","backbone","bootstrap"],function(a,b,c,d){"use strict";var e={Views:{}};return e.Views.Alert=d.Layout.extend({template:"alerts/alert",tagName:"div",className:"alert",afterRender:function(){this.$el.find(".alert:first").alert(),this.options.isBlock&&this.$el.addClass("alert-block")},serialize:function(){return this.model?this.model.toJSON():{title:"Alert!",message:"There was an alert generated by the system."}}}),e.Views.WarningAlert=e.Views.Alert.extend({className:"alert alert-warning"}),e.Views.ErrorAlert=e.Views.Alert.extend({className:"alert alert-danger"}),e.Views.FixedErrorAlert=e.Views.ErrorAlert.extend({template:"alerts/alertFixed"}),e.Views.InfoAlert=e.Views.Alert.extend({className:"alert alert-info"}),e.Views.SuccessAlert=e.Views.Alert.extend({className:"alert alert-success"}),e}),define("alerts/main",["jquery","underscore","backbone","alerts/alerts","egad","bootstrap"],function(a,b,c,d,e){"use strict";return e.api.Module.extend({name:"alerts",initialize:function(){var f=function(b){var c=b?"."===b.charAt(0)?b:"."+b:".alert",d=a("#page").find(c);d&&d.remove()},g=function(a){a||(a={});var d=b.defaults({title:"Alert!",message:'<span class="label label-important">No message provided.</span>',isBlock:!1});return b.defaults(a,d),new c.Model(a)},h=function(b){f(),a("#page").prepend(b.el),b.render().promise().done(function(){e.api.Mediator.publish("module:alerts:render")}),window.scrollTo(0,0)};e.event.CommManager.addListener("alerts","showWarningAlert","Renders a warning alert in the UI",function(a){var b=g(a),c=new d.Views.WarningAlert({model:g(a),isBlock:b.get("isBlock")});h(c)}),e.event.CommManager.addListener("alerts","showErrorAlert","Renders an error alert in the UI",function(a){var b=g(a),c=new d.Views.ErrorAlert({model:b,isBlock:b.get("isBlock")});h(c)}),e.event.CommManager.addListener("alerts","showFixedErrorAlert","Renders an error alert in the UI with fixed font body (code)",function(a){var b=g(a),c=new d.Views.FixedErrorAlert({model:b,isBlock:b.get("isBlock")});h(c)}),e.event.CommManager.addListener("alerts","showInfoAlert","Renders an info alert in the UI",function(a){var b=g(a),c=new d.Views.InfoAlert({model:b,isBlock:b.get("isBlock")});h(c)}),e.event.CommManager.addListener("alerts","showSuccessAlert","Renders a success alert in the UI",function(a){var b=new c.Model(a),e=new d.Views.SuccessAlert({model:b,isBlock:b.get("isBlock")});h(e)}),e.event.CommManager.addListener("alerts","removeAlerts","Removes all alerts from the UI",function(a){a&&a.type?f(a.type):f(),e.api.Mediator.publish("module:alerts:remove")})}})}),define("alerts",["alerts/main"],function(a){return a}),define("home/homepage-view",["jquery","underscore","egad","backbone","bootstrap","handlebars.helpers","handlebars.partials"],function(a,b,c,d){"use strict";return d.Layout.extend({template:"home/homePage",tagName:"div",id:"homePage",className:"pageContent home",serialize:function(){return{}}})}),define("home/main",["jquery","underscore","backbone","egad","home/homepage-view"],function(a,b,c,d,e){"use strict";return d.api.Module.extend({name:"home",routes:{"":"goHome","!/home":"goHome"},goHome:function(){var b;if(d.config.get("modules").home&&d.config.get("modules").home.module)b="#!/"+d.config.get("modules").home.module,c.history.navigate(b,{trigger:!0});else if(d.config.get("modules").home&&d.config.get("modules").home.link)b=d.config.get("modules").home.link,c.history.navigate(b,{trigger:!0});else{var f=new e;a(".pageContainer").html(f.$el),f.render().promise().done(function(){d.api.Mediator.publish("module:home:route:done")})}}})}),define("home",["home/main"],function(a){return a}),function(a){"use strict";var b=this;"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?exports=module.exports=a(b):"function"==typeof define&&define.amd?define("stardog",[],function(){return b.Stardog=a(b),b.Stardog}):b.Stardog=a(b)}.call(this,function(a){"use strict";var b={};b.VERSION="0.3.1";var c="undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports;if(c){var d=a.rest;d||"undefined"==typeof require||(d=require("restler"));var e=a.qs;e||"undefined"==typeof require||(e=require("querystring"))}var f=a._;f||"undefined"==typeof require||(f=require("lodash"));var g=b.Connection=function(){this.endpoint="http://localhost:5820/nodeDB/",this.reasoning=!1};return g.prototype.setEndpoint=function(a){for(var b=a.length-1;b>=0&&"/"==a[b];b-=1);this.endpoint=a.substring(0,b+1)+"/"},g.prototype.getEndpoint=function(){return this.endpoint},g.prototype.setCredentials=function(a,b){this.credentials={},this.credentials.username=a,this.credentials.password=b},g.prototype.getCredentials=function(){return this.credentials},g.prototype.setReasoning=function(a){this.reasoning=a},g.prototype.isReasoningEnabled=function(){return this.reasoning},c?g.prototype._httpRequest=function(a,b){function c(a,c){var d;if(a instanceof Error)b(a,c);else{try{d=a?JSON.parse(a):{}}catch(b){d=a}b(d,c)}}var e,f,g=a.httpMethod,h=this.endpoint+a.resource,i=a.params||{},j=a.msgBody,k=a.acceptHeader,l=a.isJsonBody,m=a.contentType,n=a.contentEncoding,o=a.multipart,p={};p.Accept=k||"text/plain",!o&&j&&(p["Content-Type"]=l?"application/json":m),n&&(p["Content-Encoding"]=n),e={method:g,query:i,username:this.credentials.username,password:this.credentials.password,headers:p,data:l?JSON.stringify(j):j,multipart:o||!1},o&&(f={root:j},e.data=f),d.request(h,e).on("complete",c)}:(g.prototype._base64Encode="function"==typeof btoa?function(a){return btoa(a)}:null,g.prototype._httpRequest=function(a,b){var c,d,e,h,i=a.httpMethod,j=a.acceptHeader,k=this.endpoint+a.resource,l=a.params||{},m=a.contentType,n=a.contentEncoding,o=a.msgBody||null,p=a.isJsonBody,q=a.multipart,r={};if(r.Accept=j||"application/sparql-results+json",this.credentials){if(c=this.credentials.username,d=this.credentials.password,!this._base64Encode)throw new Error("Your browser does not support btoa() natively.\n Please provide a javascript implementation for Connection.prototype._base64Encode");h=this._base64Encode(c.concat(":",d)),r.Authorization="Basic ".concat(h)}k=f.isEmpty(l)?k:k+"?"+$.param(l),e={type:i,url:k,processData:!1,dataType:j.match(/json/gi)?"json":"text",data:p?JSON.stringify(o):o,headers:r},p?r["Content-Type"]="application/json":m?r["Content-Type"]=m:q&&(e.contentType=!1),n&&(r["Content-Encoding"]=n),$.ajax(e).done(function(a,c,d){var e;e=a&&(a.hasOwnProperty("@id")||a.hasOwnProperty("@context"))?g._convertToLinkedJson(a):a,b(e,{responseText:d.responseText,statusCode:d.status,statusText:d.statusText})}).fail(function(a,c,d){b(a.responseText,{responseText:a.responseText,statusCode:a.status,statusText:a.statusText},d)})}),g.prototype.getProperty=function(a,b){var c=a.uri,d={database:a.database,query:"select ?val where { "+a.uri+" "+a.property+" ?val }",params:a.params};this.query(d,function(a){a.results&&a.results.bindings.length>0&&(c=a.results.bindings[0].val.value),b(c)})},g.prototype.getDB=function(a,b){var c={resource:a.database,acceptHeader:"*/*",httpMethod:"GET",params:a.params||""};this._httpRequest(c,b)},g.prototype.getDBSize=function(a,b){var c={resource:a.database+"/size",httpMethod:"GET",acceptHeader:"text/plain",params:a.params||""};this._httpRequest(c,b)},g.prototype.query=function(a,b){var d={acceptHeader:a.mimetype||"application/sparql-results+json",resource:a.database+"/query",httpMethod:"POST",params:{}},e=a.reasoning||this.reasoning,g=f.extend({query:a.query},a.params);if(a.baseURI&&(g.baseURI=a.baseURI),a.limit&&(g.limit=a.limit),a.offset&&(g.offset=a.offset),e&&(d.params.reasoning=e),c)d.msgBody=g;else{var h=f.map(f.pairs(g),function(a){return a[0]+"="+a[1]});d.msgBody=h.join("&")}this._httpRequest(d,b)},g.prototype.queryGraph=function(a,b){var d={acceptHeader:a.mimetype||"application/ld+json",resource:a.database+"/query",httpMethod:"POST",params:{}},e=a.reasoning||this.reasoning,g=f.extend({query:a.query},a.params);if(a.baseURI&&(g.baseURI=a.baseURI),a.limit&&(g.limit=a.limit),a.offset&&(g.offset=a.offset),e&&(d.params.reasoning=e),c)d.msgBody=g;else{var h=f.map(f.pairs(g),function(a){return a[0]+"="+a[1]});d.msgBody=h.join("&")}this._httpRequest(d,b)},g.prototype.queryExplain=function(a,b){var c={resource:a.database+"/explain",httpMethod:"GET",acceptHeader:"text/plain",params:f.extend({query:a.query},a.params)};a.baseURI&&(c.params.baseURI=a.baseURI),this._httpRequest(c,b)},g.prototype.begin=function(a,b){var c={httpMethod:"POST",resource:a.database+"/transaction/begin",acceptHeader:"text/plain",params:a.params};this._httpRequest(c,b)},g.prototype.commit=function(a,b){var c={httpMethod:"POST",resource:a.database+"/transaction/commit/"+a.txId,acceptHeader:"text/plain",params:a.params};this._httpRequest(c,b)},g.prototype.rollback=function(a,b){var c={httpMethod:"POST",resource:a.database+"/transaction/rollback/"+a.txId,acceptHeader:"text/plain",params:a.params};this._httpRequest(c,b)},g.prototype.queryInTransaction=function(a,b){var c={acceptHeader:a.mimetype||"application/sparql-results+json",resource:a.database+"/"+a.txId+"/query",httpMethod:"GET",params:f.extend({query:a.query},a.params)};a.baseURI&&(c.params.baseURI=a.baseURI),a.limit&&(c.params.limit=a.limit),a.offset&&(c.params.offset=a.offset),this._httpRequest(c,b)},g.prototype.addInTransaction=function(a,b){var c={httpMethod:"POST",resource:a.database+"/"+a.txId+"/add",acceptHeader:"text/plain",params:a.params||{},msgBody:a.body,contentType:a.contentType,contentEncoding:a.contentEncoding||null,isJsonBody:!1,multipart:null};a.graphUri&&(c.params["graph-uri"]=a.graphUri),this._httpRequest(c,b)},g.prototype.removeInTransaction=function(a,b){var c={httpMethod:"POST",resource:a.database+"/"+a.txId+"/remove",acceptHeader:"text/plain",params:a.params||{},msgBody:a.body,contentType:a.contentType,contentEncoding:a.contentEncoding||null,isJsonBody:!1,multipart:null};a.graphUri&&(c.params["graph-uri"]=a.graphUri),this._httpRequest(c,b)},g.prototype.clearDB=function(a,b){var c={httpMethod:"POST",resource:a.database+"/"+a.txId+"/clear",acceptHeader:"text/plain",params:a.params||{}};a.graphUri&&(c.params["graph-uri"]=a.graphUri),this._httpRequest(c,b)},g.prototype.exportDB=function(a,b){var c={httpMethod:"GET",resource:a.database+"/export",acceptHeader:a.mimetype||"application/ld+json",params:a.params||{}};c.params["graph-uri"]=a.graphUri||"tag:stardog:api:context:all",this._httpRequest(c,b)},g.prototype.reasoningExplain=function(a,b){var c={httpMethod:"POST",resource:a.database+"/reasoning/"+(a.txId&&null!==a.txId?"/"+a.txId:""),acceptHeader:"application/x-turtle",params:a.params||null,msgBody:a.axioms,isJsonBody:!1,contentType:a.contentType||"text/plain"};this._httpRequest(c,b)},g.prototype.isConsistent=function(a,b){var c={httpMethod:"GET",resource:a.database+"/reasoning/consistency",acceptHeader:"text/boolean",params:a.params||{}};a.graphUri&&(c.params["graph-uri"]=a.graphUri),this._httpRequest(c,b)},g.prototype.getICV=function(a,b){var c={httpMethod:"GET",resource:a.database+"/icv",acceptHeader:a.acceptMime||"text/plain",params:a.params||null,contentType:a.contentType||"text/plain"};this._httpRequest(c,b)},g.prototype.setICV=function(a,b){var c={httpMethod:"POST",resource:a.database+"/icv/add",acceptHeader:"text/boolean",params:a.params||null,contentType:a.contentType||"text/plain",msgBody:a.icvAxioms,isJsonBody:!1};this._httpRequest(c,b)},g.prototype.removeICV=function(a,b){var c={httpMethod:"POST",resource:a.database+"/icv/remove",acceptHeader:"text/boolean",params:a.params||null,contentType:a.contentType||"text/plain",msgBody:a.icvAxioms,isJsonBody:!1};this._httpRequest(c,b)},g.prototype.clearICV=function(a,b){var c={httpMethod:"POST",resource:a.database+"/icv/clear",acceptHeader:"text/boolean",params:a.params||null};this._httpRequest(c,b)},g.prototype.fromICVtoSPARQL=function(a,b){var c={httpMethod:"POST",resource:a.database+"/icv/convert",acceptHeader:"text/plain",params:a.params||{},msgBody:a.icvAxiom,isJsonBody:!1,contentType:a.contentType||"text/plain"};a.graphUri&&(c.params["graph-uri"]=a.graphUri),this._httpRequest(c,b)},g.prototype.getNamespaces=function(a,b){if(!a||!a.database)throw new Error("Option `database` is required.");this.getDBOptions({database:a.database,optionsObj:{"database.namespaces":""}},function(a,c){var d=a["database.namespaces"]||[],e={};f.each(d,function(a){var b=a.split("=");e[b[0]]=b[1]}),b(e,c)})},g.prototype.queryList=function(a,b){var c={httpMethod:"GET",resource:"admin/queries",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.queryGet=function(a,b){var c={httpMethod:"GET",resource:"admin/queries/"+a.queryId,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.queryKill=function(a,b){var c={httpMethod:"DELETE",resource:"admin/queries/"+a.queryId,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.listDBs=function(a,b){var c={httpMethod:"GET",resource:"admin/databases",acceptHeader:"application/json",params:a&&"function"!=typeof a?a.params:""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.copyDB=function(a,b){var c={httpMethod:"PUT",resource:"admin/databases/"+a.dbsource+"/copy",acceptHeader:"application/json",params:f.extend({to:a.dbtarget},a.params)};this._httpRequest(c,b)},g.prototype.createDB=function(a,b){var d,e,f,g;d={dbname:a.database,options:a.options,files:a.files},e=JSON.stringify(d),c?f=e:(f=new window.FormData,f.append("root",e)),g={httpMethod:"POST",resource:"admin/databases",acceptHeader:"*/*",params:a.params||"",isJsonBody:!1,multipart:!0,msgBody:f,files:a.files},this._httpRequest(g,b)},g.prototype.dropDB=function(a,b){var c={httpMethod:"DELETE",resource:"admin/databases/"+a.database,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.optimizeDB=function(a,b){var c={httpMethod:"PUT",resource:"admin/databases/"+a.database+"/optimize",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.onlineDB=function(a,b){var c={httpMethod:"PUT",resource:"admin/databases/"+a.database+"/online",acceptHeader:"application/json",params:f.extend({strategy:a.strategyOp},a.params)};this._httpRequest(c,b)},g.prototype.offlineDB=function(a,b){var c={httpMethod:"PUT",resource:"admin/databases/"+a.database+"/offline",acceptHeader:"application/json",params:f.extend({strategy:a.strategyOp},a.params)};a.timeoutMS&&(c.msgBody={timeout:a.timeout},c.isJsonBody=!0),this._httpRequest(c,b)},g.prototype.setDBOptions=function(a,b){var c={httpMethod:"POST",resource:"admin/databases/"+a.database+"/options",acceptHeader:"application/json",params:a.params,msgBody:a.optionsObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.getDBOptions=function(a,b){var c={httpMethod:"PUT",resource:"admin/databases/"+a.database+"/options",acceptHeader:"application/json",params:a.params||"",msgBody:a.optionsObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.createUser=function(a,b){var c={httpMethod:"POST",resource:"admin/users",acceptHeader:"application/json",msgBody:{username:a.username,password:a.password.split("")},isJsonBody:!0,params:a.params||""};a.superuser&&(c.msgBody.superuser=a.superuser),this._httpRequest(c,b)},g.prototype.changePwd=function(a,b){var c={httpMethod:"PUT",resource:"admin/users/"+a.user+"/pwd",acceptHeader:"application/json",msgBody:{password:a.newPwd},isJsonBody:!0,params:a.params||""};this._httpRequest(c,b)},g.prototype.isUserEnabled=function(a,b){var c={httpMethod:"GET",resource:"admin/users/"+a.user+"/enabled",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.isSuperUser=function(a,b){var c={httpMethod:"GET",resource:"admin/users/"+a.user+"/superuser",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.listUserRoles=function(a,b){var c={httpMethod:"GET",resource:"admin/users/"+a.user+"/roles",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.listUsers=function(a,b){var c={httpMethod:"GET",resource:"admin/users",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.deleteUser=function(a,b){var c={httpMethod:"DELETE",resource:"admin/users/"+a.user,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.userEnabled=function(a,b){var c={httpMethod:"PUT",resource:"admin/users/"+a.user+"/enabled",acceptHeader:"application/json",params:a.params||"",msgBody:{enabled:a.enableFlag},isJsonBody:!0};this._httpRequest(c,b)},
g.prototype.setUserRoles=function(a,b){var c={httpMethod:"PUT",resource:"admin/users/"+a.user+"/roles",acceptHeader:"application/json",params:a.params||"",msgBody:{roles:a.roles},isJsonBody:!0};this._httpRequest(c,b)},g.prototype.createRole=function(a,b){var c={httpMethod:"POST",resource:"admin/roles",acceptHeader:"application/json",params:a.params||"",msgBody:{rolename:a.rolename},isJsonBody:!0};this._httpRequest(c,b)},g.prototype.listRoles=function(a,b){var c={httpMethod:"GET",resource:"admin/roles",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},g.prototype.listRoleUsers=function(a,b){var c={httpMethod:"GET",resource:"admin/roles/"+a.role+"/users",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.deleteRole=function(a,b){var c={httpMethod:"DELETE",resource:"admin/roles/"+a.role,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.assignPermissionToRole=function(a,b){var c={httpMethod:"PUT",resource:"admin/permissions/role/"+a.role,acceptHeader:"application/json",params:a.params||"",msgBody:a.permissionObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.assignPermissionToUser=function(a,b){var c={httpMethod:"PUT",resource:"admin/permissions/user/"+a.user,acceptHeader:"application/json",params:a.params||"",msgBody:a.permissionObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.deletePermissionFromRole=function(a,b){var c={httpMethod:"POST",resource:"admin/permissions/role/"+a.role+"/delete",acceptHeader:"application/json",params:a.params||"",msgBody:a.permissionObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.deletePermissionFromUser=function(a,b){var c={httpMethod:"POST",resource:"admin/permissions/user/"+a.user+"/delete",acceptHeader:"application/json",params:a.params||"",msgBody:a.permissionObj,isJsonBody:!0};this._httpRequest(c,b)},g.prototype.listRolePermissions=function(a,b){var c={httpMethod:"GET",resource:"admin/permissions/role/"+a.role,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.listUserPermissions=function(a,b){var c={httpMethod:"GET",resource:"admin/permissions/user/"+a.user,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.listUserEffPermissions=function(a,b){var c={httpMethod:"GET",resource:"admin/permissions/effective/user/"+a.user,acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,b)},g.prototype.shutdownServer=function(a,b){var c={httpMethod:"POST",resource:"admin/shutdown",acceptHeader:"application/json",params:a.params||""};this._httpRequest(c,"function"==typeof a?a:b)},b}),define("metadata/metadata",["underscore","jquery","egad","stardog"],function(a,b,c){"use strict";var d={},e=d.Settings=function(){this.dbname=c.ajax.stardogDB(),this.initialize()};return e.prototype.initialize=function(){function a(a){d.metadataValues=a,sessionStorage.setItem(c.config.stores.EGAD_METADATA,JSON.stringify(a))}var d=this;if(this.metadataValues={},this.optionsObj={"builtin.ontologies":"","database.name":"","database.namespaces":"","database.online":"","database.time.creation":"","database.time.modification":"","icv.active.graphs":"","icv.consistency.automatic":"","icv.enabled":"","icv.reasoning.type":"","index.differential.enable.limit":"","index.differential.merge.limit":"","index.differential.size":"","index.literals.canonical":"","index.named.graphs":"","index.persist":"","index.size":"","index.statistics.update.automatic":"","index.type":"","reasoning.consistency.automatic":"","reasoning.punning.enabled":"","reasoning.schema.graphs":"","search.enabled":"","search.reindex.mode":"","transactions.durable":""},sessionStorage){var e=sessionStorage.getItem(c.config.stores.EGAD_METADATA);if(e)return void(this.metadataValues=JSON.parse(e))}if("undefined"!=typeof Stardog){var f=new Stardog.Connection;f.setEndpoint("/"),b.ajaxSetup({async:!1}),f.getDBOptions({database:d.dbname,optionsObj:d.optionsObj},a),b.ajaxSetup({async:!0})}else b.ajax({async:!1,url:c.ajax.rootUrl()+"/metadata",data:JSON.stringify(d.optionsObj),processData:!1,contentType:"application/json",type:"POST",dataType:"json"}).done(a).fail(function(a,b,c){})},e.prototype.get=function(a){return this.metadataValues[a]},e.prototype.getAll=function(){return this.metadataValues},d.IS_SEARCHABLE=function(){return(new d.Settings).get("search.enabled")}(),d}),define("footer/footer-view",["underscore","egad","backbone","metadata/metadata","bootstrap"],function(a,b,c,d){"use strict";return c.Layout.extend({template:"footer/main",tagName:"div",id:"footer-container",className:"container",serialize:function(){var c=function(){return(new d.Settings).getAll()}();return b.config.get("footer")?{footer:b.config.get("footer").context,metadata:c}:{footer:{modules:a.collect(b.config.get("modules"),function(b){return a.extend(b,{metadata:c})}),about:{name:{label:b.config.get("name")},egad:{label:"EGAD"}},help:{faq:{label:"FAQ"}}},metadata:c}}})}),define("footer/main",["jquery","underscore","egad","footer/footer-view"],function(a,b,c,d){"use strict";return c.api.Module.extend({name:"footer",initialize:function(){var b=new d;a("#footer").html(b.$el),b.render()}})}),define("footer",["footer/main"],function(a){return a}),function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:u+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||void 0===g)return 1;if(g<h||void 0===h)return-1}}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h.false=h.null=h.true=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+_[a]}function h(){return q.pop()||[]}function i(){return r.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function j(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function l(a){a.length=0,q.length<w&&q.push(a)}function m(a){var b=a.cache;b&&m(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,r.length<w&&r.push(a)}function n(a,b,c){b||(b=0),void 0===c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(e<0?0:e);++d<e;)f[d]=a[b+d];return f}function o(c){function q(a){return a&&"object"==typeof a&&!kd(a)&&Rc.call(a,"__wrapped__")?a:new r(a)}function r(a,b){this.__chain__=!!b,this.__wrapped__=a}function w(a){function b(){if(d){var a=n(d);Sc.apply(a,arguments)}if(this instanceof b){var f=ba(c.prototype),g=c.apply(f,a||arguments);return La(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return jd(b,a),b}function _(a,b,c,d,e){if(c){var f=c(a);if(void 0!==f)return f}if(!La(a))return a;var g=Kc.call(a);if(!W[g]||!hd.nodeClass&&j(a))return a;var i=fd[g];switch(g){case O:case P:return new i(+a);case S:case V:return new i(a);case U:return f=i(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}var k=kd(a);if(b){var m=!d;d||(d=h()),e||(e=h());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=k?i(a.length):{}}else f=k?n(a):vd({},a);return k&&(Rc.call(a,"index")&&(f.index=a.index),Rc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(k?ud:yd)(a,function(a,g){f[g]=_(a,b,c,d,e)}),m&&(l(d),l(e)),f):f}function ba(a,b){return La(a)?Yc(a):{}}function ca(a,b,c){if("function"!=typeof a)return ec;if(void 0===b||!("prototype"in a))return a;var d=a.__bindData__;if(void 0===d&&(hd.funcNames&&(d=!a.name),!(d=d||!hd.funcDecomp))){var e=Pc.call(a);hd.funcNames||(d=!D.test(e)),d||(d=H.test(e),jd(a,d))}if(!1===d||!0!==d&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Pb(a,b)}function da(a){function b(){var a=i?g:this;if(e){var o=n(e);Sc.apply(o,arguments)}if((f||k)&&(o||(o=n(arguments)),f&&Sc.apply(o,f),k&&o.length<h))return d|=16,da([c,l?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[m]),this instanceof b){a=ba(c.prototype);var p=c.apply(a,o);return La(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return jd(b,a),b}function ea(c,d){var e=-1,g=pa(),h=c?c.length:0,i=h>=v&&g===a,j=[];if(i){var k=f(d);k?(g=b,d=k):i=!1}for(;++e<h;){var l=c[e];g(d,l)<0&&j.push(l)}return i&&m(d),j}function ga(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(kd(h)||ta(h))){b||(h=ga(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function ha(a,b,c,d,e,f){if(c){var g=c(a,b);if(void 0!==g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,k=typeof b;if(!(a!==a||a&&$[i]||b&&$[k]))return!1;if(null==a||null==b)return a===b;var m=Kc.call(a),n=Kc.call(b);if(m==M&&(m=T),n==M&&(n=T),m!=n)return!1;switch(m){case O:case P:return+a==+b;case S:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case U:case V:return a==Dc(b)}var o=m==N;if(!o){var p=Rc.call(a,"__wrapped__"),q=Rc.call(b,"__wrapped__");if(p||q)return ha(p?a.__wrapped__:a,q?b.__wrapped__:b,c,d,e,f);if(m!=T||!hd.nodeClass&&(j(a)||j(b)))return!1;var r=!hd.argsObject&&ta(a)?Bc:a.constructor,s=!hd.argsObject&&ta(b)?Bc:b.constructor;if(r!=s&&!(Ka(r)&&r instanceof r&&Ka(s)&&s instanceof s)&&"constructor"in a&&"constructor"in b)return!1}var t=!e;e||(e=h()),f||(f=h());for(var u=e.length;u--;)if(e[u]==a)return f[u]==b;var v=0;if(g=!0,e.push(a),f.push(b),o){if(u=a.length,v=b.length,(g=v==u)||d)for(;v--;){var w=u,x=b[v];if(d)for(;w--&&!(g=ha(a[w],x,c,d,e,f)););else if(!(g=ha(a[v],x,c,d,e,f)))break}}else xd(b,function(b,h,i){if(Rc.call(i,h))return v++,g=Rc.call(a,h)&&ha(a[h],b,c,d,e,f)}),g&&!d&&xd(a,function(a,b,c){if(Rc.call(c,b))return g=--v>-1});return e.pop(),f.pop(),t&&(l(e),l(f)),g}function ia(a,b,c,d,e){(kd(b)?db:yd)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=kd(b))||zd(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l=void 0!==i)&&(j=i)),l||(j=h?kd(j)?j:[]:zd(j)?j:{}),d.push(b),e.push(j),l||ia(j,b,c,d,e)}}else c&&void 0===(i=c(j,b))&&(i=b),void 0!==i&&(j=i);a[f]=j})}function ja(a,b){return a+Oc(ed()*(b-a+1))}function ka(c,d,e){var g=-1,i=pa(),j=c?c.length:0,k=[],n=!d&&j>=v&&i===a,o=e||n?h():k;if(n){var p=f(o);i=b,o=p}for(;++g<j;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),k.push(q))}return n?(l(o.array),m(o)):e&&l(o),k}function la(a){return function(b,c,d){var e={};if(c=q.createCallback(c,d,3),kd(b))for(var f=-1,g=b.length;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else ud(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function ma(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Ka(a))throw new Ec;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;return l&&!0!==l?(l=n(l),l[2]&&(l[2]=n(l[2])),l[3]&&(l[3]=n(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Sc.apply(l[2]||(l[2]=[]),c),k&&Wc.apply(l[3]||(l[3]=[]),d),l[1]|=b,ma.apply(null,l)):(1==b||17===b?w:da)([a,b,c,d,e,f])}function na(){Z.shadowedProps=K,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)Z[c]=a[c];var d=Z.args;return Z.firstArg=/^[^,]+/.exec(d)[0],yc("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+d+") {\n"+id(Z)+"\n}")(ca,Q,Gc,Rc,t,ta,kd,Qa,Z.keys,Hc,$,gd,V,Ic,Kc)}function oa(a){return qd[a]}function pa(){var b=(b=q.indexOf)===yb?a:b;return b}function qa(a){return"function"==typeof a&&Lc.test(a)}function ra(a){var b,c;return!(!(a&&Kc.call(a)==T&&(b=a.constructor,!Ka(b)||b instanceof b))||!hd.argsClass&&ta(a)||!hd.nodeClass&&j(a))&&(hd.ownLast?(xd(a,function(a,b,d){return c=Rc.call(d,b),!1}),!1!==c):(xd(a,function(a,b){c=b}),void 0===c||Rc.call(a,c)))}function sa(a){return rd[a]}function ta(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Kc.call(a)==M||!1}function ua(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),_(a,b,"function"==typeof c&&ca(c,d,1))}function va(a,b,c){return _(a,!0,"function"==typeof b&&ca(b,c,1))}function wa(a,b){var c=ba(a);return b?vd(c,b):c}function xa(a,b,c){var d;return b=q.createCallback(b,c,3),yd(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function ya(a,b,c){var d;return b=q.createCallback(b,c,3),Aa(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function za(a,b,c){var d=[];xd(a,function(a,b){d.push(b,a)});var e=d.length;for(b=ca(b,c,3);e--&&!1!==b(d[e--],d[e],a););return a}function Aa(a,b,c){var d=md(a),e=d.length;for(b=ca(b,c,3);e--;){var f=d[e];if(!1===b(a[f],f,a))break}return a}function Ba(a){var b=[];return xd(a,function(a,c){Ka(a)&&b.push(c)}),b.sort()}function Ca(a,b){return!!a&&Rc.call(a,b)}function Da(a){for(var b=-1,c=md(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function Ea(a){return!0===a||!1===a||a&&"object"==typeof a&&Kc.call(a)==O||!1}function Fa(a){return a&&"object"==typeof a&&Kc.call(a)==P||!1}function Ga(a){return a&&1===a.nodeType||!1}function Ha(a){var b=!0;if(!a)return b;var c=Kc.call(a),d=a.length;return c==N||c==V||(hd.argsClass?c==M:ta(a))||c==T&&"number"==typeof d&&Ka(a.splice)?!d:(yd(a,function(){return b=!1}),b)}function Ia(a,b,c,d){return ha(a,b,"function"==typeof c&&ca(c,d,2))}function Ja(a){return $c(a)&&!_c(parseFloat(a))}function Ka(a){return"function"==typeof a}function La(a){return!(!a||!$[typeof a])}function Ma(a){return Oa(a)&&a!=+a}function Na(a){return null===a}function Oa(a){return"number"==typeof a||a&&"object"==typeof a&&Kc.call(a)==S||!1}function Pa(a){return a&&$[typeof a]&&Kc.call(a)==U||!1}function Qa(a){return"string"==typeof a||a&&"object"==typeof a&&Kc.call(a)==V||!1}function Ra(a){return void 0===a}function Sa(a,b,c){var d={};return b=q.createCallback(b,c,3),yd(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Ta(a){var b=arguments,c=2;if(!La(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=ca(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=n(arguments,1,c),f=-1,g=h(),i=h();++f<c;)ia(a,e[f],d,g,i);return l(g),l(i),a}function Ua(a,b,c){var d={};if("function"!=typeof b){var e=[];xd(a,function(a,b){e.push(b)}),e=ea(e,ga(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=q.createCallback(b,c,3),xd(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Va(a){for(var b=-1,c=md(a),d=c.length,e=uc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Wa(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=ga(arguments,!0,!1,1),g=La(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=q.createCallback(b,c,3),xd(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Xa(a,b,c,d){var e=kd(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=ba(g)}return b&&(b=q.createCallback(b,d,4),(e?ud:yd)(a,function(a,d,e){return b(c,a,d,e)})),c}function Ya(a){for(var b=-1,c=md(a),d=c.length,e=uc(d);++b<d;)e[b]=a[c[b]];return e}function Za(a){var b=arguments,c=-1,d=ga(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=uc(e);for(hd.unindexedChars&&Qa(a)&&(a=a.split(""));++c<e;)f[c]=a[d[c]];return f}function $a(a,b,c){var d=-1,e=pa(),f=a?a.length:0,g=!1;return c=(c<0?bd(0,f+c):c)||0,kd(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Qa(a)?a.indexOf(b,c):e(a,b,c))>-1:ud(a,function(a){if(++d>=c)return!(g=a===b)}),g}function _a(a,b,c){var d=!0;if(b=q.createCallback(b,c,3),kd(a))for(var e=-1,f=a.length;++e<f&&(d=!!b(a[e],e,a)););else ud(a,function(a,c,e){return d=!!b(a,c,e)});return d}function ab(a,b,c){var d=[];if(b=q.createCallback(b,c,3),kd(a))for(var e=-1,f=a.length;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else ud(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function bb(a,b,c){if(b=q.createCallback(b,c,3),!kd(a)){var d;return ud(a,function(a,c,e){if(b(a,c,e))return d=a,!1}),d}for(var e=-1,f=a.length;++e<f;){var g=a[e];if(b(g,e,a))return g}}function cb(a,b,c){var d;return b=q.createCallback(b,c,3),eb(a,function(a,c,e){if(b(a,c,e))return d=a,!1}),d}function db(a,b,c){if(b&&void 0===c&&kd(a))for(var d=-1,e=a.length;++d<e&&!1!==b(a[d],d,a););else ud(a,b,c);return a}function eb(a,b,c){var d=a,e=a?a.length:0;if(b=b&&void 0===c?b:ca(b,c,3),kd(a))for(;e--&&!1!==b(a[e],e,a););else{if("number"!=typeof e){var f=md(a);e=f.length}else hd.unindexedChars&&Qa(a)&&(d=a.split(""));ud(a,function(a,c,g){return c=f?f[--e]:--e,b(d[c],c,g)})}return a}function fb(a,b){var c=n(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=uc("number"==typeof f?f:0);return db(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function gb(a,b,c){var d=-1,e=a?a.length:0,f=uc("number"==typeof e?e:0);if(b=q.createCallback(b,c,3),kd(a))for(;++d<e;)f[d]=b(a[d],d,a);else ud(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function hb(a,b,c){var e=-1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&kd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=null==b&&Qa(a)?d:q.createCallback(b,c,3),ud(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function ib(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&kd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i<f&&(f=i)}else b=null==b&&Qa(a)?d:q.createCallback(b,c,3),ud(a,function(a,c,d){var g=b(a,c,d);g<e&&(e=g,f=a)});return f}function jb(a,b,c,d){var e=arguments.length<3;if(b=q.createCallback(b,d,4),kd(a)){var f=-1,g=a.length;for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a)}else ud(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function kb(a,b,c,d){var e=arguments.length<3;return b=q.createCallback(b,d,4),eb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function lb(a,b,c){return b=q.createCallback(b,c,3),ab(a,function(a,c,d){return!b(a,c,d)})}function mb(a,b,c){if(a&&"number"!=typeof a.length?a=Ya(a):hd.unindexedChars&&Qa(a)&&(a=a.split("")),null==b||c)return a?a[ja(0,a.length-1)]:p;var d=nb(a);return d.length=cd(bd(0,b),d.length),d}function nb(a){var b=-1,c=a?a.length:0,d=uc("number"==typeof c?c:0);return db(a,function(a){var c=ja(0,++b);d[b]=d[c],d[c]=a}),d}function ob(a){var b=a?a.length:0;return"number"==typeof b?b:md(a).length}function pb(a,b,c){var d;if(b=q.createCallback(b,c,3),kd(a))for(var e=-1,f=a.length;++e<f&&!(d=b(a[e],e,a)););else ud(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function qb(a,b,c){var d=-1,f=kd(b),g=a?a.length:0,j=uc("number"==typeof g?g:0);for(f||(b=q.createCallback(b,c,3)),db(a,function(a,c,e){var g=j[++d]=i();f?g.criteria=gb(b,function(b){return a[b]}):(g.criteria=h())[0]=b(a,c,e),g.index=d,g.value=a}),g=j.length,j.sort(e);g--;){var k=j[g];j[g]=k.value,f||l(k.criteria),m(k)}return j}function rb(a){return a&&"number"==typeof a.length?hd.unindexedChars&&Qa(a)?a.split(""):n(a):Ya(a)}function sb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function tb(a){return ea(a,ga(arguments,!0,!0,1))}function ub(a,b,c){var d=-1,e=a?a.length:0;for(b=q.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function vb(a,b,c){var d=a?a.length:0;for(b=q.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function wb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=q.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(null==(d=b)||c)return a?a[0]:p;return n(a,0,cd(bd(0,d),e))}function xb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=gb(a,c,d)),ga(a,b)}function yb(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=d<0?bd(0,e+d):d||0}else if(d){var f=Hb(b,c);return b[f]===c?f:-1}return a(b,c,d)}function zb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return n(a,0,cd(bd(0,e-d),e))}function Ab(){for(var c=[],d=-1,e=arguments.length,g=h(),i=pa(),j=i===a,k=h();++d<e;){var n=arguments[d];(kd(n)||ta(n))&&(c.push(n),g.push(j&&n.length>=v&&f(d?c[d]:k)))}var o=c[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=g[0];if(n=o[p],(s?b(s,n):i(k,n))<0){for(d=e,(s||k).push(n);--d;)if(s=g[d],(s?b(s,n):i(c[d],n))<0)continue a;r.push(n)}}for(;e--;)(s=g[e])&&m(s);return l(g),l(k),r}function Bb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(null==(d=b)||c)return a?a[e-1]:p;return n(a,bd(0,e-d))}function Cb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(c<0?bd(0,d+c):cd(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function Db(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Vc.call(a,f--,1),e--);return a}function Eb(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=bd(0,Mc((b-a)/(c||1))),f=uc(e);++d<e;)f[d]=a,a+=c;return f}function Fb(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=q.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Vc.call(a,d--,1),e--)}return f}function Gb(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=q.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:bd(0,b);return n(a,d)}function Hb(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?q.createCallback(c,d,1):ec,b=c(b);e<f;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Ib(){return ka(ga(arguments,!0,!0))}function Jb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=q.createCallback(c,d,3)),ka(a,b,c)}function Kb(a){return ea(a,n(arguments,1))}function Lb(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(kd(c)||ta(c))var d=d?ka(ea(d,c).concat(ea(c,d))):c}return d||[]}function Mb(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?hb(Dd(a,"length")):0,d=uc(c<0?0:c);++b<c;)d[b]=Dd(a,b);return d}function Nb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||kd(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Ob(a,b){if(!Ka(b))throw new Ec;return function(){if(--a<1)return b.apply(this,arguments)}}function Pb(a,b){return arguments.length>2?ma(a,17,n(arguments,2),null,b):ma(a,1,null,null,b)}function Qb(a){for(var b=arguments.length>1?ga(arguments,!0,!1,1):Ba(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ma(a[e],1,null,null,a)}return a}function Rb(a,b){return arguments.length>2?ma(b,19,n(arguments,2),null,a):ma(b,3,null,null,a)}function Sb(){for(var a=arguments,b=a.length;b--;)if(!Ka(a[b]))throw new Ec;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Tb(a,b){return b="number"==typeof b?b:+b||a.length,ma(a,4,null,null,null,b)}function Ub(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Ka(a))throw new Ec;if(b=bd(0,b)||0,!0===c){var n=!0;m=!1}else La(c)&&(n=c.leading,l="maxWait"in c&&(bd(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(Fd()-g);if(c<=0){e&&Nc(e);var l=j;e=i=j=p,l&&(k=Fd(),f=a.apply(h,d),i||e||(d=h=null))}else i=Uc(o,c)},q=function(){i&&Nc(i),e=i=j=p,(m||l!==b)&&(k=Fd(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=Fd(),h=this,j=m&&(i||!n),!1===l)var c=n&&!i;else{e||n||(k=g);var p=l-(g-k),r=p<=0;r?(e&&(e=Nc(e)),k=g,f=a.apply(h,d)):e||(e=Uc(q,p))}return r&&i?i=Nc(i):i||b===l||(i=Uc(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Vb(a){if(!Ka(a))throw new Ec;var b=n(arguments,1);return Uc(function(){a.apply(p,b)},1)}function Wb(a,b){if(!Ka(a))throw new Ec;var c=n(arguments,2);return Uc(function(){a.apply(p,c)},b)}function Xb(a,b){if(!Ka(a))throw new Ec;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return Rc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Yb(a){var b,c;if(!Ka(a))throw new Ec;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Zb(a){return ma(a,16,n(arguments,1))}function $b(a){return ma(a,32,null,n(arguments,1))}function _b(a,b,c){var d=!0,e=!0;if(!Ka(a))throw new Ec;return!1===c?d=!1:La(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),X.leading=d,X.maxWait=b,X.trailing=e,Ub(a,b,X)}function ac(a,b){return ma(b,16,[a])}function bc(a){return function(){return a}}function cc(a,b,c){var d=typeof a;if(null==a||"function"==d)return ca(a,b,c);if("object"!=d)return ic(a);var e=md(a),f=e[0],g=a[f];return 1!=e.length||g!==g||La(g)?function(b){for(var c=e.length,d=!1;c--&&(d=ha(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function dc(a){return null==a?"":Dc(a).replace(td,oa)}function ec(a){return a}function fc(a,b,c){var d=!0,e=b&&Ba(b);b&&(c||e.length)||(null==c&&(c=b),f=r,b=a,a=q,e=Ba(b)),!1===c?d=!1:La(c)&&"chain"in c&&(d=c.chain);var f=a,g=Ka(f);db(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];Sc.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&La(h))return this;h=new f(h),h.__chain__=b}return h})})}function gc(){return c._=Jc,this}function hc(){}function ic(a){return function(b){return b[a]}}function jc(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=ed();return cd(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return ja(a,b)}function kc(a,b){if(a){var c=a[b];return Ka(c)?a[b]():c}}function lc(a,b,c){var d=q.templateSettings;a=Dc(a||""),c=wd({},c,d);var e,f=wd({},c.imports,d.imports),h=md(f),i=Ya(f),j=0,k=c.interpolate||G,l="__p += '",m=Cc((c.escape||G).source+"|"+k.source+"|"+(k===E?B:G).source+"|"+(c.evaluate||G).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(I,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var n=c.variable,o=n;o||(n="obj",l="with ("+n+") {\n"+l+"\n}\n"),l=(e?l.replace(y,""):l).replace(z,"$1").replace(A,"$1;"),l="function("+n+") {\n"+(o?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+L+++"]")+"\n*/";try{var s=yc(h,"return "+l+r).apply(p,i)}catch(a){throw a.source=l,a}return b?s(b):(s.source=l,s)}function mc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=uc(a);for(b=ca(b,c,1);++d<a;)e[d]=b(d);return e}function nc(a){return null==a?"":Dc(a).replace(sd,sa)}function oc(a){var b=++s;return Dc(null==a?"":a)+b}function pc(a){return a=new r(a),a.__chain__=!0,a}function qc(a,b){return b(a),a}function rc(){return this.__chain__=!0,this}function sc(){return Dc(this.__wrapped__)}function tc(){return this.__wrapped__}c=c?fa.defaults(aa.Object(),c,fa.pick(aa,J)):aa;var uc=c.Array,vc=c.Boolean,wc=c.Date,xc=c.Error,yc=c.Function,zc=c.Math,Ac=c.Number,Bc=c.Object,Cc=c.RegExp,Dc=c.String,Ec=c.TypeError,Fc=[],Gc=xc.prototype,Hc=Bc.prototype,Ic=Dc.prototype,Jc=c._,Kc=Hc.toString,Lc=Cc("^"+Dc(Kc).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mc=zc.ceil,Nc=c.clearTimeout,Oc=zc.floor,Pc=yc.prototype.toString,Qc=qa(Qc=Bc.getPrototypeOf)&&Qc,Rc=Hc.hasOwnProperty,Sc=Fc.push,Tc=Hc.propertyIsEnumerable,Uc=c.setTimeout,Vc=Fc.splice,Wc=Fc.unshift,Xc=function(){try{var a={},b=qa(b=Bc.defineProperty)&&b,c=b(a,a,a)&&b}catch(a){}return c}(),Yc=qa(Yc=Bc.create)&&Yc,Zc=qa(Zc=uc.isArray)&&Zc,$c=c.isFinite,_c=c.isNaN,ad=qa(ad=Bc.keys)&&ad,bd=zc.max,cd=zc.min,dd=c.parseInt,ed=zc.random,fd={};fd[N]=uc,fd[O]=vc,fd[P]=wc,fd[R]=yc,fd[T]=Bc,fd[S]=Ac,fd[U]=Cc,fd[V]=Dc;var gd={};gd[N]=gd[P]=gd[S]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},gd[O]=gd[V]={constructor:!0,toString:!0,valueOf:!0},gd[Q]=gd[R]=gd[U]={constructor:!0,toString:!0},gd[T]={constructor:!0},function(){for(var a=K.length;a--;){var b=K[a];for(var c in gd)Rc.call(gd,c)&&!Rc.call(gd[c],b)&&(gd[c][b]=!1)}}(),r.prototype=q.prototype;var hd=q.support={};!function(){var a=function(){this.x=1},b={0:1,length:1},d=[];a.prototype={valueOf:1,y:1};for(var e in new a)d.push(e);for(e in arguments);hd.argsClass=Kc.call(arguments)==M,hd.argsObject=arguments.constructor==Bc&&!(arguments instanceof uc),hd.enumErrorProps=Tc.call(Gc,"message")||Tc.call(Gc,"name"),hd.enumPrototypes=Tc.call(a,"prototype"),hd.funcDecomp=!qa(c.WinRTError)&&H.test(o),hd.funcNames="string"==typeof yc.name,hd.nonEnumArgs=0!=e,hd.nonEnumShadows=!/valueOf/.test(d),hd.ownLast="x"!=d[0],hd.spliceObjects=(Fc.splice.call(b,0,1),!b[0]),hd.unindexedChars="x"[0]+Bc("x")[0]!="xx";try{hd.nodeClass=!(Kc.call(document)==T&&!({toString:0}+""))}catch(a){hd.nodeClass=!0}}(1),q.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:q}};var id=function(a){var b="var index, iterable = "+a.firstArg+", result = "+a.init+";\nif (!iterable) return result;\n"+a.top+";";a.array?(b+="\nvar length = iterable.length; index = -1;\nif ("+a.array+") {  ",hd.unindexedChars&&(b+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),b+="\n  while (++index < length) {\n    "+a.loop+";\n  }\n}\nelse {  "):hd.nonEnumArgs&&(b+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+a.loop+";\n    }\n  } else {  "),hd.enumPrototypes&&(b+="\n  var skipProto = typeof iterable == 'function';\n  "),hd.enumErrorProps&&(b+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var c=[];if(hd.enumPrototypes&&c.push('!(skipProto && index == "prototype")'),hd.enumErrorProps&&c.push('!(skipErrorProps && (index == "message" || index == "name"))'),a.useHas&&a.keys)b+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }  ";else if(b+="\n  for (index in iterable) {\n",a.useHas&&c.push("hasOwnProperty.call(iterable, index)"),c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }    ",hd.nonEnumShadows){for(b+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)b+="\n    index = '"+a.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",a.useHas||(b+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),b+=") {\n      "+a.loop+";\n    }      ";b+="\n  }    "}return(a.array||hd.nonEnumArgs)&&(b+="\n}"),b+=a.bottom+";\nreturn result"};Yc||(ba=function(){function a(){}return function(b){if(La(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var jd=Xc?function(a,b){Y.value=b,Xc(a,"__bindData__",Y)}:hc;hd.argsClass||(ta=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Rc.call(a,"callee")&&!Tc.call(a,"callee")||!1});var kd=Zc||function(a){
return a&&"object"==typeof a&&"number"==typeof a.length&&Kc.call(a)==N||!1},ld=na({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),md=ad?function(a){return La(a)?hd.enumPrototypes&&"function"==typeof a||hd.nonEnumArgs&&a.length&&ta(a)?ld(a):ad(a):[]}:ld,nd={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:md,loop:"if (callback(iterable[index], index, collection) === false) return result"},od={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:md,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},pd={top:"if (!objectTypes[typeof iterable]) return result;\n"+nd.top,array:!1},qd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rd=Da(qd),sd=Cc("("+md(rd).join("|")+")","g"),td=Cc("["+md(qd).join("")+"]","g"),ud=na(nd),vd=na(od,{top:od.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),wd=na(od),xd=na(nd,pd,{useHas:!1}),yd=na(nd,pd);Ka(/x/)&&(Ka=function(a){return"function"==typeof a&&Kc.call(a)==R});var zd=Qc?function(a){if(!a||Kc.call(a)!=T||!hd.argsClass&&ta(a))return!1;var b=a.valueOf,c=qa(b)&&(c=Qc(b))&&Qc(c);return c?a==c||Qc(a)==c:ra(a)}:ra,Ad=la(function(a,b,c){Rc.call(a,c)?a[c]++:a[c]=1}),Bd=la(function(a,b,c){(Rc.call(a,c)?a[c]:a[c]=[]).push(b)}),Cd=la(function(a,b,c){a[c]=b}),Dd=gb,Ed=ab,Fd=qa(Fd=wc.now)&&Fd||function(){return(new wc).getTime()},Gd=8==dd(x+"08")?dd:function(a,b){return dd(Qa(a)?a.replace(F,""):a,b||0)};return q.after=Ob,q.assign=vd,q.at=Za,q.bind=Pb,q.bindAll=Qb,q.bindKey=Rb,q.chain=pc,q.compact=sb,q.compose=Sb,q.constant=bc,q.countBy=Ad,q.create=wa,q.createCallback=cc,q.curry=Tb,q.debounce=Ub,q.defaults=wd,q.defer=Vb,q.delay=Wb,q.difference=tb,q.filter=ab,q.flatten=xb,q.forEach=db,q.forEachRight=eb,q.forIn=xd,q.forInRight=za,q.forOwn=yd,q.forOwnRight=Aa,q.functions=Ba,q.groupBy=Bd,q.indexBy=Cd,q.initial=zb,q.intersection=Ab,q.invert=Da,q.invoke=fb,q.keys=md,q.map=gb,q.mapValues=Sa,q.max=hb,q.memoize=Xb,q.merge=Ta,q.min=ib,q.omit=Ua,q.once=Yb,q.pairs=Va,q.partial=Zb,q.partialRight=$b,q.pick=Wa,q.pluck=Dd,q.property=ic,q.pull=Db,q.range=Eb,q.reject=lb,q.remove=Fb,q.rest=Gb,q.shuffle=nb,q.sortBy=qb,q.tap=qc,q.throttle=_b,q.times=mc,q.toArray=rb,q.transform=Xa,q.union=Ib,q.uniq=Jb,q.values=Ya,q.where=Ed,q.without=Kb,q.wrap=ac,q.xor=Lb,q.zip=Mb,q.zipObject=Nb,q.collect=gb,q.drop=Gb,q.each=db,q.eachRight=eb,q.extend=vd,q.methods=Ba,q.object=Nb,q.select=ab,q.tail=Gb,q.unique=Jb,q.unzip=Mb,fc(q),q.clone=ua,q.cloneDeep=va,q.contains=$a,q.escape=dc,q.every=_a,q.find=bb,q.findIndex=ub,q.findKey=xa,q.findLast=cb,q.findLastIndex=vb,q.findLastKey=ya,q.has=Ca,q.identity=ec,q.indexOf=yb,q.isArguments=ta,q.isArray=kd,q.isBoolean=Ea,q.isDate=Fa,q.isElement=Ga,q.isEmpty=Ha,q.isEqual=Ia,q.isFinite=Ja,q.isFunction=Ka,q.isNaN=Ma,q.isNull=Na,q.isNumber=Oa,q.isObject=La,q.isPlainObject=zd,q.isRegExp=Pa,q.isString=Qa,q.isUndefined=Ra,q.lastIndexOf=Cb,q.mixin=fc,q.noConflict=gc,q.noop=hc,q.now=Fd,q.parseInt=Gd,q.random=jc,q.reduce=jb,q.reduceRight=kb,q.result=kc,q.runInContext=o,q.size=ob,q.some=pb,q.sortedIndex=Hb,q.template=lc,q.unescape=nc,q.uniqueId=oc,q.all=_a,q.any=pb,q.detect=bb,q.findWhere=bb,q.foldl=jb,q.foldr=kb,q.include=$a,q.inject=jb,fc(function(){var a={};return yd(q,function(b,c){q.prototype[c]||(a[c]=b)}),a}(),!1),q.first=wb,q.last=Bb,q.sample=mb,q.take=wb,q.head=wb,yd(q,function(a,b){var c="sample"!==b;q.prototype[b]||(q.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new r(f,e):f})}),q.VERSION="2.4.1",q.prototype.chain=rc,q.prototype.toString=sc,q.prototype.value=tc,q.prototype.valueOf=tc,ud(["join","pop","shift"],function(a){var b=Fc[a];q.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new r(c,a):c}}),ud(["push","reverse","sort","unshift"],function(a){var b=Fc[a];q.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),ud(["concat","slice","splice"],function(a){var b=Fc[a];q.prototype[a]=function(){return new r(b.apply(this.__wrapped__,arguments),this.__chain__)}}),hd.spliceObjects||ud(["pop","shift","splice"],function(a){var b=Fc[a],c="splice"==a;q.prototype[a]=function(){var a=this.__chain__,d=this.__wrapped__,e=b.apply(d,arguments);return 0===d.length&&delete d[0],a||c?new r(e,a):e}}),q}var p,q=[],r=[],s=0,t={},u=+new Date+"",v=75,w=40,x=" \t\v\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),G=/($^)/,H=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],K=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L=0,M="[object Arguments]",N="[object Array]",O="[object Boolean]",P="[object Date]",Q="[object Error]",R="[object Function]",S="[object Number]",T="[object Object]",U="[object RegExp]",V="[object String]",W={};W[R]=!1,W[M]=W[N]=W[O]=W[P]=W[S]=W[T]=W[U]=W[V]=!0;var X={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},$={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},_={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},aa=$[typeof window]&&window||this,ba=$[typeof exports]&&exports&&!exports.nodeType&&exports,ca=$[typeof module]&&module&&!module.nodeType&&module,da=ca&&ca.exports===ba&&ba,ea=$[typeof global]&&global;!ea||ea.global!==ea&&ea.window!==ea||(aa=ea);var fa=o();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(aa._=fa,define("lodash",[],function(){return fa})):ba&&ca?da?(ca.exports=fa)._=fa:ba._=fa:aa._=fa}.call(this),define("navbar/navbar-view",["underscore","lodash","backbone","egad","metadata/metadata","bootstrap"],function(a,b,c,d,e){"use strict";return c.Layout.extend({template:"navbar/navbar",tagName:"div",id:"nav-bar",className:"navbar navbar-fixed-top",initialize:function(){a.bindAll(this)},events:{"click .menuLink":"selectTopElement","keydown #direct_search":"doSearch"},afterRender:function(){this.$active&&this.setActive(),function(a){a["search.enabled"]?($("#direct_search").removeAttr("disabled"),$("a#searchItem").removeAttr("disabled").off("click.disableSearch")):($("#direct_search").attr("disabled","true"),$("a#searchItem").attr("disabled","true").on("click.disableSearch",function(a){a.preventDefault(),a.stopPropagation(),$("li#optionsMenu").removeClass("open")}))}((new e.Settings).getAll()),d.api.Mediator.publish("module:navbar:afterRender")},serialize:function(){var c=b.cloneDeep(d.config.get("modules")),e=c.navbar,f=function(a){"link"==a.type?a.link=a.using:a.link="#!/"+a.type+"/"+encodeURIComponent(a.using)};return a.each(e.dropdowns,function(b){a.each(b.items,f)}),a.each(e.items,f),{isLogo:d.config.get("label").match(/(?:.+\.)(?:jpg|png|gif|ico|bmp|svg)/i),label:d.config.get("label"),name:d.config.get("name"),modules:c}},selectTopElement:function(a){this.cleanActive(),this.$active=$(a.target).parent("li"),this.setActive()},setActive:function(){this.$active.addClass("active"),d.api.Mediator.publish("module:navbar:setactive")},cleanActive:function(){this.$active&&this.$active.removeClass("active"),this.$active=null},getActive:function(){return this.$active},doSearch:function(a){if(13==a.keyCode){a.preventDefault();var b=this.$el.find("#direct_search").val();if(!b||""===b)return;c.history.navigate("#!/search/"+encodeURI(b),{trigger:!0})}}})}),define("navbar/main",["jquery","underscore","egad","navbar/navbar-view"],function(a,b,c,d){"use strict";return c.api.Module.extend({name:"navbar",initialize:function(){var b=new d;a("#topBar").html(b.$el),b.render()}})}),define("navbar",["navbar/main"],function(a){return a}),define("browse/resource.list",["underscore","egad","backbone","burry","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c){"use strict";var d={};return d.ListItem=c.Layout.extend({template:"browse/resourceListElem",tagName:"tr",className:"listing module",actions:[],_collectionConfig:{},initialize:function(){a.bindAll(this),this.actions=[]},_getCollectionLabel:function(c){var d=[];return d=a.map(c,function(a){return b.config.getLabelFor(a)}),a.uniq(d,!1)},_getCollectionFields:function(c){var d=this,e=[],f=a.map(c,function(a){return b.config.getFieldsFor(a)});return f=a.compact(f),a.each(f,function(b){a.each(b,function(b){if(d.model.has(b)){var c=d.model.getProperty(b),f=[];f.push(c),f=a.flatten(f),c=a.map(f,function(b){return a.isObject(b)?a.has(b,"@id")?b["@id"]:a.has(b,"@value")?b["@value"]:"":b}),1==c.length?e.push(c[0]):e.push(c.join(", "))}})}),a.uniq(e)},serialize:function(){var a=this.model.get("@type"),b=a;a instanceof Array||(a=new Array(b));var c=this._getCollectionLabel(a),d={"@egadLabel":this.model.getLabel(c),"@id":this.model.get("@id"),additionalFields:this._getCollectionFields(a)};return this.model.has("@type")?d["@type"]=this.model.get("@type"):d["@type"]="resource",this.actions&&this.actions.length>0&&(1==this.actions.length?d.actions=this.actions[0]:d.actions=this.actions),d},afterRender:function(){},setActions:function(b){this.actions=a.asArray(b)}}),d.List=c.Layout.extend({template:"browse/resourceList",tagName:"div",id:"resourceListView",className:"listing results module",elemActions:[],events:{"click #btnAdd":"addNewIndividual"},initialize:function(b){a.bindAll(this),this.elemActions=[],b.template&&(this.template=b.template)},beforeRender:function(){var a=this,c=this.collection.rdfType;this.collection.usingProperty&&(c=this.collection.usingProperty);var e=new b.model.ResourceLabel({"@id":encodeURIComponent(c)});a.collection.usingProperty?a.collection.propertyLabel=e.getLabel():a.collection.rdfTypeLabel=e.getLabel(),this.collection.length>0&&this.collection.each(function(b){var c=new d.ListItem({model:b});c.setActions(a.elemActions),a.insertView("#tableBody",c)})},serialize:function(){var c={type:"",typeLabel:""};this.collection.usingProperty?(c.property=a.compactURI(this.collection.usingProperty,b.config.namespaces()),c.propertyLabel=this.collection.propertyLabel):(c.type=a.compactURI(this.collection.rdfType,b.config.namespaces()),c.typeLabel=this.collection.rdfTypeLabel);var d="",e=this.collection.rdfType;return this.collection.usingProperty&&(d="using/",e=this.collection.usingProperty),this.collection.page>=0&&this.collection.isFull()&&(c.nextPage="#!/browse/"+d+encodeURIComponent(e)+"/p/"+(parseInt(this.collection.page)+1)),this.collection.page>1?c.prevPage="#!/browse/"+d+encodeURIComponent(e)+"/p/"+(parseInt(this.collection.page)-1):1==this.collection.page&&(c.prevPage="#!/browse/"+d+encodeURIComponent(e)),c.hasResults=this.collection.length>0,c},addNewIndividual:function(a){a.preventDefault(),c.history.navigate("#!/browse/"+encodeURIComponent(this.collection.rdfType)+"/new",{trigger:!0})},addElementAction:function(a,b){this.elemActions.push({module:a,function:b})}}),d}),define("browse/property/property.datatype",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypeProperty",tagName:"div",className:"property",initialize:function(){c.bindAll(this)},beforeRender:function(){},serialize:function(){var a,b,d=this.model.get("@value");return c.isObject(d)&&c.keys(d).length>0?(a=d["@value"],b=d["@language"]):a=d,this.model.set("@value",a),this.model.set("@language",b),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}})}),define("browse/property/property.datatype.array",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypePropertyArray",tagName:"div",className:"property",originalValues:[],valWindow:10,loadMoreTimes:1,events:{"click .btn-more":"loadMore"},initialize:function(){this.model&&(this.originalValues=this.model.get("@value").slice(0))},beforeRender:function(){this.originalValues.length>this.valWindow&&this.model.set("@value",this.originalValues.slice(0,this.valWindow*this.loadMoreTimes));var a=this.model.get("@value");this.model.set("@showMore",a.length>=this.valWindow&&a.length<this.originalValues.length)},serialize:function(){var a=this.model.get("@value");return a=c.map(a,function(a){var b,d;return c.isObject(a)&&c.keys(a).length>0?(b=a["@value"],d=a["@language"]):b=a,{"@value":b,"@language":d}}),this.model.set("@values",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")},loadMore:function(a){a.preventDefault(),this.loadMoreTimes+=1,this.render()}})}),define("browse/property/property.datatype.edit",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypePropertyEdit",tagName:"div",className:"property",events:{"click .addDataType":"addDataType","click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];a instanceof Array?b=a:b.push(a),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var c=[],d=0,e=this.model;return this.$el.find(".dataTypeIn").each(function(){var f=b(this).val()||"";f=f.trim();var g=a.vocabulary.xsd.STRING;b(this).hasClass("new")?e.get("@value").length>0&&(g=e.get("@value")[0]["@type"]):g=e.get("@value")[d++]["@type"];var h={"@value":f};g&&(h["@type"]=g),c.push(h)}),1===c.length?c[0]:c},highlightError:function(){this.$el.addClass("highlight-error")},addDataType:function(a){a.preventDefault(),this.$el.find("ul").prepend('<li>  <div class="row">  <div class="input-group" style="width: 95%;">    <input class="form-control custom-control dataTypeIn propertyInput new" type="text">    <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>  </div></div></li>')},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}})}),define("browse/property/property.datatype.lang",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypeLangProperty",tagName:"div",className:"property",initialize:function(){c.bindAll(this)},beforeRender:function(){},serialize:function(){var a,b,d=this.model.get("@value");return c.isObject(d)&&c.keys(d).length>0?(a=d["@value"],b=d["@language"]):a=d,this.model.set("@value",a),this.model.set("@language",b),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}})}),define("browse/property/property.datatype.lang.array",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypeLangPropertyArray",tagName:"div",className:"property",originalValues:[],valWindow:10,loadMoreTimes:1,events:{"click .btn-more":"loadMore"},initialize:function(){this.model&&(this.originalValues=this.model.get("@value").slice(0))},beforeRender:function(){this.originalValues.length>this.valWindow&&this.model.set("@value",this.originalValues.slice(0,this.valWindow*this.loadMoreTimes));var a=this.model.get("@value");this.model.set("@showMore",a.length>=this.valWindow&&a.length<this.originalValues.length)},serialize:function(){var a=this.model.get("@value");return a=c.map(a,function(a){var b,d;return c.isObject(a)&&c.keys(a).length>0?(b=a["@value"],d=a["@language"]):b=a,{"@value":b,"@language":d}}),this.model.set("@values",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")},loadMore:function(a){a.preventDefault(),this.loadMoreTimes+=1,this.render()}})}),define("browse/property/property.datatype.lang.edit",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datatypeLangPropertyEdit",tagName:"div",className:"property",events:{"click .addDataType":"addDataType","click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];a instanceof Array?b=a:b.push(a),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var a=[];return this.$el.find(".dataTypeIn").each(function(){var c=b(this).val()||"",d=b(this).siblings("input.dataLanguage").val();c=c.trim(),d?(d=d.trim(),a.push({"@value":c,"@language":d})):a.push(c)}),1===a.length?a[0]:a},highlightError:function(){this.$el.addClass("highlight-error")},addDataType:function(a){a.preventDefault(),this.$el.find("ul").prepend('<li>  <div class="row">  <div class="input-group" style="width: 95%;">    <input class="form-control custom-control dataTypeIn propertyInput" type="text" style="width: 80%;">    <input class="form-control custom-control dataLanguage" type="text" maxlength="2" style="width: 20%;" placeholder="@lang">    <span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove"/></span>  </div></div></li>')},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define("moment",b):a.moment=b()}(this,function(){"use strict";function a(){return sd.apply(null,arguments)}function b(a){sd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=ud.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),vd.length>0)for(c=0;c<vd.length;c++)d=vd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===wd&&(wd=!0,a.updateOffset(this),wd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),xd[b]||(w(c),xd[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Hd[c]=Hd[c+"s"]=Hd[b]=a}function K(a){return"string"==typeof a?Hd[a]||Hd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c))&&(d[b]=a[c]);return d}function M(a,b){Id[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Id[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Md[a]=e),b&&(Md[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Md[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Jd);for(b=0,c=d.length;b<c;b++)Md[d[b]]?d[b]=Md[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ld[b]=Ld[b]||W(b),Ld[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kd.lastIndex=0;d>=0&&Kd.test(a);)a=a.replace(Kd,c),Kd.lastIndex=0,d-=1;return a}function Z(a,b,c){ce[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return j(ce,a)?ce[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)de[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&j(de,a)&&de[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||oe).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[oe.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=ne.call(this._shortMonthsParse,g),-1!==e?e:null):(e=ne.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=ne.call(this._shortMonthsParse,g),-1!==e?e:(e=ne.call(this._longMonthsParse,g),-1!==e?e:null)):(e=ne.call(this._longMonthsParse,g),-1!==e?e:(e=ne.call(this._shortMonthsParse,g),-1!==e?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4==0&&a%100!=0||a%400==0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c;return-(7+ta(a,0,d).getUTCDay()-b)%7+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:c(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ga(a){
return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=ne.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=ne.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=ne.call(this._weekdaysParse,g),-1!==e?e:(e=ne.call(this._shortWeekdaysParse,g),-1!==e?e:(e=ne.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),-1!==e?e:(e=ne.call(this._weekdaysParse,g),-1!==e?e:(e=ne.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=ne.call(this._minWeekdaysParse,g),-1!==e?e:(e=ne.call(this._weekdaysParse,g),-1!==e?e:(e=ne.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=ye),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ae),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(a){var b=null;if(!Fe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Be._abbr,require("./locale/"+a),$a(b)}catch(a){}return Fe[a]}function $a(a,b){var c;return a&&(c=f(b)?bb(a):_a(a,b))&&(Be=c),Be._abbr}function _a(a,b){if(null!==b){var c=Ee;if(b.abbr=a,null!=Fe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Fe[a]._config;else if(null!=b.parentLocale){if(null==Fe[b.parentLocale])return Ge[b.parentLocale]||(Ge[b.parentLocale]=[]),Ge[b.parentLocale].push({name:a,config:b}),null;c=Fe[b.parentLocale]._config}return Fe[a]=new C(B(c,b)),Ge[a]&&Ge[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Fe[a]}return delete Fe[a],null}function ab(a,b){if(null!=b){var c,d=Ee;null!=Fe[a]&&(d=Fe[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Fe[a],Fe[a]=c,$a(a)}else null!=Fe[a]&&(null!=Fe[a].parentLocale?Fe[a]=Fe[a].parentLocale:null!=Fe[a]&&delete Fe[a]);return Fe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Be;if(!c(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return Ad(Fe)}function db(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=c[fe]<0||c[fe]>11?fe:c[ge]<1||c[ge]>ea(c[ee],c[fe])?ge:c[he]<0||c[he]>24||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||c[ie]>59?ie:c[je]<0||c[je]>59?je:c[ke]<0||c[ke]>999?ke:-1,n(a)._overflowDayOfYear&&(b<ee||b>ge)&&(b=ge),n(a)._overflowWeeks&&-1===b&&(b=le),n(a)._overflowWeekday&&-1===b&&(b=me),n(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ke.length;b<c;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=!1!==Ke[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;b<c;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function fb(a){var b,c,d,e,f,g,h,i,j={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ne.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(c[2].length>10?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var k=new Date(c[2]),l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][k.getDay()];if(c[1].substr(0,3)!==l)return n(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===i?h=" +0000":(i="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(c[5][1].toUpperCase())-12,h=(i<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:h=j[c[5]];break;default:h=j[" GMT"]}c[5]=h,a._i=c.splice(1).join(""),g=" ZZ",a._f=d+e+f+g,lb(a),n(a).rfc2822=!0}else a._isValid=!1}function gb(b){var c=Me.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(!1===b._isValid&&(delete b._isValid,fb(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b)))))}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&kb(a),null!=a._dayOfYear&&(e=hb(a._a[ee],d[ee]),(a._dayOfYear>pa(e)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function kb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=hb(b.GG,a._a[ee],wa(tb(),1,4).year),d=hb(b.W,1),((e=hb(b.E,1))<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(tb(),f,g);c=hb(b.gg,a._a[ee],j.year),d=hb(b.w,j.week),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear)}function lb(b){if(b._f===a.ISO_8601)return void eb(b);if(b._f===a.RFC_2822)return void fb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Jd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Md[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[he]<=12&&!0===n(b).bigHour&&b._a[he]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[he]=mb(b._locale,b._a[he],b._meridiem),jb(b),db(b)}function mb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function nb(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||f<d)&&(d=f,c=b));k(a,c||b)}function ob(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}function pb(a){var b=new r(db(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function qb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(h(b)?a._d=b:c(d)?nb(a):d?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?gb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),jb(b)):d(e)?ob(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function sb(a,b,f,g,h){var i={};return!0!==f&&!1!==f||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,pb(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return tb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function vb(){return ub("isBefore",[].slice.call(arguments,0))}function wb(){return ub("isAfter",[].slice.call(arguments,0))}function xb(a){for(var b in a)if(-1===Re.indexOf(b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Re.length;++d)if(a[Re[d]]){if(c)return!1;parseFloat(a[Re[d]])!==u(a[Re[d]])&&(c=!0)}return!0}function yb(){return this._isValid}function zb(){return Sb(NaN)}function Ab(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=xb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function Bb(a){return a instanceof Ab}function Cb(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Db(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Eb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Se)||["-",0,0],f=60*e[1]+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Fb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():tb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):tb(b).local()}function Gb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Hb(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(null===(b=Eb(_d,b)))return this}else Math.abs(b)<16&&!d&&(b*=60);return!this._isUTC&&c&&(e=Gb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?Xb(this,Sb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Gb(this)}function Ib(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Jb(a){return this.utcOffset(0,a)}function Kb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Gb(this),"m")),this}function Lb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Eb($d,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Mb(a){return!!this.isValid()&&(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function Nb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ob(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=qb(a),a._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pb(){return!!this.isValid()&&!this._isUTC}function Qb(){return!!this.isValid()&&this._isUTC}function Rb(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Sb(a,b){var c,d,e,f=a,h=null;return Bb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=Te.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[ge])*c,h:u(h[he])*c,m:u(h[ie])*c,s:u(h[je])*c,ms:u(Cb(1e3*h[ke]))*c}):(h=Ue.exec(a))?(c="-"===h[1]?-1:1,f={y:Tb(h[2],c),M:Tb(h[3],c),w:Tb(h[4],c),d:Tb(h[5],c),h:Tb(h[6],c),m:Tb(h[7],c),s:Tb(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Vb(tb(f.from),tb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Ab(f),Bb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Tb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ub(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Vb(a,b){var c;return a.isValid()&&b.isValid()?(b=Fb(b,a),a.isBefore(b)?c=Ub(a,b):(c=Ub(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Wb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Sb(c,d),Xb(this,e,a),this}}function Xb(b,c,d,e){var f=c._milliseconds,g=Cb(c._days),h=Cb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Yb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Zb(b,c){var d=b||tb(),e=Fb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))}function $b(){return new r(this)}function _b(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function ac(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function bc(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function cc(a,b){var c,d=s(a)?a:tb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function dc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ec(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function fc(a,b,c){var d,e,f,g;return this.isValid()?(d=Fb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=gc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function gc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function hc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ic(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function jc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+e)}function kc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function lc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mc(a){return this.from(tb(),a)}function nc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function oc(a){return this.to(tb(),a)}function pc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function qc(){return this._locale}function rc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function tc(){return this._d.valueOf()-6e4*(this._offset||0)}function uc(){return Math.floor(this.valueOf()/1e3)}function vc(){return new Date(this.valueOf())}function wc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function yc(){return this.isValid()?this.toISOString():null}function zc(){return o(this)}function Ac(){return k({},n(this))}function Bc(){return n(this).overflow}function Cc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dc(a,b){U(0,[a,a.length],0,b)}function Ec(a){return Ic.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fc(a){return Ic.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Gc(){return xa(this.year(),1,4)}function Hc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ic(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Jc.call(this,a,b,c,d,e))}function Jc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Kc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Lc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Mc(a,b){b[ke]=u(1e3*("0."+a))}function Nc(){return this._isUTC?"UTC":""}function Oc(){return this._isUTC?"Coordinated Universal Time":""}function Pc(a){return tb(1e3*a)}function Qc(){return tb.apply(null,arguments).parseZone()}function Rc(a){return a}function Sc(a,b,c,d){var e=bb(),f=l().set(d,b);return e[c](f,a)}function Tc(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return Sc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Sc(a,d,c,"month");return e}function Uc(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Sc(b,(c+f)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Sc(b,(h+f)%7,d,"day");return i}function Vc(a,b){return Tc(a,b,"months")}function Wc(a,b){return Tc(a,b,"monthsShort")}function Xc(a,b,c){return Uc(a,b,c,"weekdays")}function Yc(a,b,c){return Uc(a,b,c,"weekdaysShort")}function Zc(a,b,c){return Uc(a,b,c,"weekdaysMin")}function $c(){var a=this._data;return this._milliseconds=df(this._milliseconds),this._days=df(this._days),this._months=df(this._months),a.milliseconds=df(a.milliseconds),a.seconds=df(a.seconds),a.minutes=df(a.minutes),a.hours=df(a.hours),a.months=df(a.months),a.years=df(a.years),this}function _c(a,b,c,d){var e=Sb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function ad(a,b){return _c(this,a,b,1)}function bd(a,b){return _c(this,a,b,-1)}function cd(a){return a<0?Math.floor(a):Math.ceil(a)}function dd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*cd(fd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ed(g)),h+=e,g-=cd(fd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ed(a){return 4800*a/146097}function fd(a){return 146097*a/4800}function gd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=K(a))||"year"===a)return b=this._days+d/864e5,c=this._months+ed(b),"month"===a?c:c/12;switch(b=this._days+Math.round(fd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function hd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function id(a){return function(){return this.as(a)}}function jd(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function kd(a){return function(){return this.isValid()?this._data[a]:NaN}}function ld(){return t(this.days()/7)}function md(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function nd(a,b,c){var d=Sb(a).abs(),e=uf(d.as("s")),f=uf(d.as("m")),g=uf(d.as("h")),h=uf(d.as("d")),i=uf(d.as("M")),j=uf(d.as("y")),k=e<=vf.ss&&["s",e]||e<vf.s&&["ss",e]||f<=1&&["m"]||f<vf.m&&["mm",f]||g<=1&&["h"]||g<vf.h&&["hh",g]||h<=1&&["d"]||h<vf.d&&["dd",h]||i<=1&&["M"]||i<vf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,md.apply(null,k)}function od(a){return void 0===a?uf:"function"==typeof a&&(uf=a,!0)}function pd(a,b){return void 0!==vf[a]&&(void 0===b?vf[a]:(vf[a]=b,"s"===a&&(vf.ss=b-1),!0))}function qd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=nd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function rd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=wf(this._milliseconds)/1e3,e=wf(this._days),f=wf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var sd,td;td=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var ud=td,vd=a.momentProperties=[],wd=!1,xd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var yd;yd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var zd,Ad=yd,Bd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dd="Invalid date",Ed="%d",Fd=/\d{1,2}/,Gd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hd={},Id={},Jd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ld={},Md={},Nd=/\d/,Od=/\d\d/,Pd=/\d{3}/,Qd=/\d{4}/,Rd=/[+-]?\d{6}/,Sd=/\d\d?/,Td=/\d\d\d\d?/,Ud=/\d\d\d\d\d\d?/,Vd=/\d{1,3}/,Wd=/\d{1,4}/,Xd=/[+-]?\d{1,6}/,Yd=/\d+/,Zd=/[+-]?\d+/,$d=/Z|[+-]\d\d:?\d\d/gi,_d=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,le=7,me=8;zd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var ne=zd;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Sd),Z("MM",Sd,Od),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[fe]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:n(c).invalidMonth=a});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=be,se=be;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Zd),Z("YY",Sd,Od),Z("YYYY",Wd,Qd),Z("YYYYY",Xd,Rd),Z("YYYYYY",Xd,Rd),ba(["YYYYY","YYYYYY"],ee),ba("YYYY",function(b,c){c[ee]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ee]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var te=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Sd),Z("ww",Sd,Od),Z("W",Sd),Z("WW",Sd,Od),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var ue={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Sd),Z("e",Sd),Z("E",Sd),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),we="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ye=be,ze=be,Ae=be;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Sd),Z("h",Sd),Z("k",Sd),Z("HH",Sd,Od),Z("hh",Sd,Od),Z("kk",Sd,Od),Z("hmm",Td),Z("hmmss",Ud),Z("Hmm",Td),Z("Hmmss",Ud),ba(["H","HH"],he),ba(["k","kk"],function(a,b,c){var d=u(a);b[he]=24===d?0:d}),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[he]=u(a),n(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d)),n(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e)),n(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e))});var Be,Ce=/[ap]\.?m?\.?/i,De=O("Hours",!0),Ee={calendar:Bd,longDateFormat:Cd,invalidDate:Dd,ordinal:Ed,dayOfMonthOrdinalParse:Fd,relativeTime:Gd,months:pe,monthsShort:qe,week:ue,weekdays:ve,weekdaysMin:xe,weekdaysShort:we,meridiemParse:Ce},Fe={},Ge={},He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i,Ne=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/
;a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Oe=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Pe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),Qe=function(){return Date.now?Date.now():+new Date},Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];Db("Z",":"),Db("ZZ",""),Z("Z",_d),Z("ZZ",_d),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Eb(_d,a)});var Se=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Te=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sb.fn=Ab.prototype,Sb.invalid=zb;var Ve=Wb(1,"add"),We=Wb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dc("gggg","weekYear"),Dc("ggggg","weekYear"),Dc("GGGG","isoWeekYear"),Dc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Zd),Z("g",Zd),Z("GG",Sd,Od),Z("gg",Sd,Od),Z("GGGG",Wd,Qd),Z("gggg",Wd,Qd),Z("GGGGG",Xd,Rd),Z("ggggg",Xd,Rd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Nd),ba("Q",function(a,b){b[fe]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Sd),Z("DD",Sd,Od),Z("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),ba(["D","DD"],ge),ba("Do",function(a,b){b[ge]=u(a.match(Sd)[0],10)});var Ye=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Vd),Z("DDDD",Pd),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Sd),Z("mm",Sd,Od),ba(["m","mm"],ie);var Ze=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Sd),Z("ss",Sd,Od),ba(["s","ss"],je);var $e=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Vd,Nd),Z("SS",Vd,Od),Z("SSS",Vd,Pd);var _e;for(_e="SSSS";_e.length<=9;_e+="S")Z(_e,Yd);for(_e="S";_e.length<=9;_e+="S")ba(_e,Mc);var af=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var bf=r.prototype;bf.add=Ve,bf.calendar=Zb,bf.clone=$b,bf.diff=fc,bf.endOf=sc,bf.format=kc,bf.from=lc,bf.fromNow=mc,bf.to=nc,bf.toNow=oc,bf.get=R,bf.invalidAt=Bc,bf.isAfter=_b,bf.isBefore=ac,bf.isBetween=bc,bf.isSame=cc,bf.isSameOrAfter=dc,bf.isSameOrBefore=ec,bf.isValid=zc,bf.lang=Xe,bf.locale=pc,bf.localeData=qc,bf.max=Pe,bf.min=Oe,bf.parsingFlags=Ac,bf.set=S,bf.startOf=rc,bf.subtract=We,bf.toArray=wc,bf.toObject=xc,bf.toDate=vc,bf.toISOString=ic,bf.inspect=jc,bf.toJSON=yc,bf.toString=hc,bf.unix=uc,bf.valueOf=tc,bf.creationData=Cc,bf.year=te,bf.isLeapYear=ra,bf.weekYear=Ec,bf.isoWeekYear=Fc,bf.quarter=bf.quarters=Kc,bf.month=ka,bf.daysInMonth=la,bf.week=bf.weeks=Ba,bf.isoWeek=bf.isoWeeks=Ca,bf.weeksInYear=Hc,bf.isoWeeksInYear=Gc,bf.date=Ye,bf.day=bf.days=Ka,bf.weekday=La,bf.isoWeekday=Ma,bf.dayOfYear=Lc,bf.hour=bf.hours=De,bf.minute=bf.minutes=Ze,bf.second=bf.seconds=$e,bf.millisecond=bf.milliseconds=af,bf.utcOffset=Hb,bf.utc=Jb,bf.local=Kb,bf.parseZone=Lb,bf.hasAlignedHourOffset=Mb,bf.isDST=Nb,bf.isLocal=Pb,bf.isUtcOffset=Qb,bf.isUtc=Rb,bf.isUTC=Rb,bf.zoneAbbr=Nc,bf.zoneName=Oc,bf.dates=x("dates accessor is deprecated. Use date instead.",Ye),bf.months=x("months accessor is deprecated. Use month instead",ka),bf.years=x("years accessor is deprecated. Use year instead",te),bf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ib),bf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ob);var cf=C.prototype;cf.calendar=D,cf.longDateFormat=E,cf.invalidDate=F,cf.ordinal=G,cf.preparse=Rc,cf.postformat=Rc,cf.relativeTime=H,cf.pastFuture=I,cf.set=A,cf.months=fa,cf.monthsShort=ga,cf.monthsParse=ia,cf.monthsRegex=na,cf.monthsShortRegex=ma,cf.week=ya,cf.firstDayOfYear=Aa,cf.firstDayOfWeek=za,cf.weekdays=Fa,cf.weekdaysMin=Ha,cf.weekdaysShort=Ga,cf.weekdaysParse=Ja,cf.weekdaysRegex=Na,cf.weekdaysShortRegex=Oa,cf.weekdaysMinRegex=Pa,cf.isPM=Va,cf.meridiem=Wa,$a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var df=Math.abs,ef=id("ms"),ff=id("s"),gf=id("m"),hf=id("h"),jf=id("d"),kf=id("w"),lf=id("M"),mf=id("y"),nf=kd("milliseconds"),of=kd("seconds"),pf=kd("minutes"),qf=kd("hours"),rf=kd("days"),sf=kd("months"),tf=kd("years"),uf=Math.round,vf={ss:44,s:45,m:45,h:22,d:26,M:11},wf=Math.abs,xf=Ab.prototype;return xf.isValid=yb,xf.abs=$c,xf.add=ad,xf.subtract=bd,xf.as=gd,xf.asMilliseconds=ef,xf.asSeconds=ff,xf.asMinutes=gf,xf.asHours=hf,xf.asDays=jf,xf.asWeeks=kf,xf.asMonths=lf,xf.asYears=mf,xf.valueOf=hd,xf._bubble=dd,xf.get=jd,xf.milliseconds=nf,xf.seconds=of,xf.minutes=pf,xf.hours=qf,xf.days=rf,xf.weeks=ld,xf.months=sf,xf.years=tf,xf.humanize=qd,xf.toISOString=rd,xf.toString=rd,xf.toJSON=rd,xf.locale=pc,xf.localeData=qc,xf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),xf.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Zd),Z("X",ae),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.18.1",b(tb),a.fn=bf,a.min=vb,a.max=wb,a.now=Qe,a.utc=l,a.unix=Pc,a.months=Vc,a.isDate=h,a.locale=$a,a.invalid=p,a.duration=Sb,a.isMoment=s,a.weekdays=Xc,a.parseZone=Qc,a.localeData=bb,a.isDuration=Bb,a.monthsShort=Wc,a.weekdaysMin=Zc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Yc,a.normalizeUnits=K,a.relativeTimeRounding=od,a.relativeTimeThreshold=pd,a.calendarFormat=Yb,a.prototype=bf,a}),function(a,b){"use strict";if("function"==typeof define&&define.amd)define("datetimepicker",["jquery","moment"],b);else{if(!jQuery)throw new Error("bootstrap-datetimepicker requires jQuery to be loaded first");if(!moment)throw new Error("bootstrap-datetimepicker requires moment.js to be loaded first");b(a.jQuery,moment)}}(this,function(a,b){"use strict";if(void 0===b)throw new Error("momentjs is required");var c=0,d=function(d,e){var f,g=a.fn.datetimepicker.defaults,h={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},i=this,j=function(){var f,j,m=!1;if(i.options=a.extend({},g,e),i.options.icons=a.extend({},h,i.options.icons),i.element=a(d),l(),!i.options.pickTime&&!i.options.pickDate)throw new Error("Must choose at least one picker");if(i.id=c++,b.locale(i.options.language),i.date=b(),i.unset=!1,i.isInput=i.element.is("input"),i.component=!1,i.element.hasClass("input-group")&&(i.component=i.element.find(0===i.element.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),i.format=i.options.format,f=b().localeData(),i.format||(i.format=i.options.pickDate?f.longDateFormat("L"):"",i.options.pickDate&&i.options.pickTime&&(i.format+=" "),i.format+=i.options.pickTime?f.longDateFormat("LT"):"",i.options.useSeconds&&(-1!==f.longDateFormat("LT").indexOf(" A")?i.format=i.format.split(" A")[0]+":ss A":i.format+=":ss")),i.use24hours=i.format.toLowerCase().indexOf("a")<1,i.component&&(m=i.component.find("span")),i.options.pickTime&&m&&m.addClass(i.options.icons.time),i.options.pickDate&&m&&(m.removeClass(i.options.icons.time),m.addClass(i.options.icons.date)),i.options.widgetParent="string"==typeof i.options.widgetParent&&i.options.widgetParent||i.element.parents().filter(function(){return"scroll"===a(this).css("overflow-y")}).get(0)||"body",i.widget=a(P()).appendTo(i.options.widgetParent),i.minViewMode=i.options.minViewMode||0,"string"==typeof i.minViewMode)switch(i.minViewMode){case"months":i.minViewMode=1;break;case"years":i.minViewMode=2;break;default:i.minViewMode=0}if(i.viewMode=i.options.viewMode||0,"string"==typeof i.viewMode)switch(i.viewMode){case"months":i.viewMode=1;break;case"years":i.viewMode=2;break;default:i.viewMode=0}i.viewMode=Math.max(i.viewMode,i.minViewMode),i.options.disabledDates=N(i.options.disabledDates),i.options.enabledDates=N(i.options.enabledDates),i.startViewMode=i.viewMode,i.setMinDate(i.options.minDate),i.setMaxDate(i.options.maxDate),q(),r(),t(),u(),v(),p(),D(),E(),""!==i.options.defaultDate&&""===k().val()&&i.setValue(i.options.defaultDate),1!==i.options.minuteStepping&&(j=i.options.minuteStepping,i.date.minutes(Math.round(i.date.minutes()/j)*j%60).seconds(0))},k=function(){var a;if(i.isInput)return i.element;if(a=i.element.find(".datepickerinput"),0===a.size())a=i.element.find("input");else if(!a.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');return a},l=function(){var a;a=i.element.is("input")?i.element.data():i.element.find("input").data(),void 0!==a.dateFormat&&(i.options.format=a.dateFormat),void 0!==a.datePickdate&&(i.options.pickDate=a.datePickdate),void 0!==a.datePicktime&&(i.options.pickTime=a.datePicktime),void 0!==a.dateUseminutes&&(i.options.useMinutes=a.dateUseminutes),void 0!==a.dateUseseconds&&(i.options.useSeconds=a.dateUseseconds),void 0!==a.dateUsecurrent&&(i.options.useCurrent=a.dateUsecurrent),void 0!==a.dateMinutestepping&&(i.options.minuteStepping=a.dateMinutestepping),void 0!==a.dateMindate&&(i.options.minDate=a.dateMindate),void 0!==a.dateMaxdate&&(i.options.maxDate=a.dateMaxdate),void 0!==a.dateShowtoday&&(i.options.showToday=a.dateShowtoday),void 0!==a.dateCollapse&&(i.options.collapse=a.dateCollapse),void 0!==a.dateLanguage&&(i.options.language=a.dateLanguage),void 0!==a.dateDefaultdate&&(i.options.defaultDate=a.dateDefaultdate),void 0!==a.dateDisableddates&&(i.options.disabledDates=a.dateDisableddates),void 0!==a.dateEnableddates&&(i.options.enabledDates=a.dateEnableddates),void 0!==a.dateIcons&&(i.options.icons=a.dateIcons),void 0!==a.dateUsestrict&&(i.options.useStrict=a.dateUsestrict),void 0!==a.dateDirection&&(i.options.direction=a.dateDirection),void 0!==a.dateSidebyside&&(i.options.sideBySide=a.dateSidebyside),void 0!==a.dateDaysofweekdisabled&&(i.options.daysOfWeekDisabled=a.dateDaysofweekdisabled)},m=function(){var b,c="absolute",d=i.component?i.component.offset():i.element.offset(),e=a(window);i.width=i.component?i.component.outerWidth():i.element.outerWidth(),d.top=d.top+i.element.outerHeight(),"up"===i.options.direction?b="top":"bottom"===i.options.direction?b="bottom":"auto"===i.options.direction&&(b=d.top+i.widget.height()>e.height()+e.scrollTop()&&i.widget.height()+i.element.outerHeight()<d.top?"top":"bottom"),"top"===b?(d.top-=i.widget.height()+i.element.outerHeight()+15,i.widget.addClass("top").removeClass("bottom")):(d.top+=1,i.widget.addClass("bottom").removeClass("top")),void 0!==i.options.width&&i.widget.width(i.options.width),"left"===i.options.orientation&&(i.widget.addClass("left-oriented"),d.left=d.left-i.widget.width()+20),I()&&(c="fixed",d.top-=e.scrollTop(),d.left-=e.scrollLeft()),e.width()<d.left+i.widget.outerWidth()?(d.right=e.width()-d.left-i.width,d.left="auto",i.widget.addClass("pull-right")):(d.right="auto",i.widget.removeClass("pull-right")),i.widget.css({position:c,top:d.top,left:d.left,right:d.right})},n=function(a,c){b(i.date).isSame(b(a))||(i.element.trigger({type:"dp.change",date:b(i.date),oldDate:b(a)}),"change"!==c&&i.element.change())},o=function(a){i.element.trigger({type:"dp.error",date:b(a,i.format,i.options.useStrict)})},p=function(a){b.locale(i.options.language);var c=a;c||(c=k().val(),c&&(i.date=b(c,i.format,i.options.useStrict)),i.date||(i.date=b())),i.viewDate=b(i.date).startOf("month"),s(),w()},q=function(){b.locale(i.options.language);var c,d=a("<tr>"),e=b.weekdaysMin();if(0===b().localeData()._week.dow)for(c=0;7>c;c++)d.append('<th class="dow">'+e[c]+"</th>");else for(c=1;8>c;c++)d.append(7===c?'<th class="dow">'+e[0]+"</th>":'<th class="dow">'+e[c]+"</th>");i.widget.find(".datepicker-days thead").append(d)},r=function(){b.locale(i.options.language);var a,c="",d=b.monthsShort();for(a=0;12>a;a++)c+='<span class="month">'+d[a]+"</span>";i.widget.find(".datepicker-months td").append(c)},s=function(){if(i.options.pickDate){b.locale(i.options.language);var c,d,e,f,g,h,j,k,l,m=i.viewDate.year(),n=i.viewDate.month(),o=i.options.minDate.year(),p=i.options.minDate.month(),q=i.options.maxDate.year(),r=i.options.maxDate.month(),s=[],t=b.months();for(i.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-days th:eq(1)").text(t[n]+" "+m),d=b(i.viewDate,i.format,i.options.useStrict).subtract(1,"months"),j=d.daysInMonth(),d.date(j).startOf("week"),(m===o&&p>=n||o>m)&&i.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(m===q&&n>=r||m>q)&&i.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),e=b(d).add(42,"d");d.isBefore(e);){if(d.weekday()===b().startOf("week").weekday()&&(f=a("<tr>"),s.push(f)),g="",d.year()<m||d.year()===m&&d.month()<n?g+=" old":(d.year()>m||d.year()===m&&d.month()>n)&&(g+=" new"),d.isSame(b({y:i.date.year(),M:i.date.month(),d:i.date.date()}))&&(g+=" active"),(L(d,"day")||!M(d))&&(g+=" disabled"),!0===i.options.showToday&&d.isSame(b(),"day")&&(g+=" today"),i.options.daysOfWeekDisabled)for(h=0;h<i.options.daysOfWeekDisabled.length;h++)if(d.day()===i.options.daysOfWeekDisabled[h]){g+=" disabled";break}f.append('<td class="day'+g+'">'+d.date()+"</td>"),c=d.date(),d.add(1,"d"),c===d.date()&&d.add(1,"d")}for(i.widget.find(".datepicker-days tbody").empty().append(s),l=i.date.year(),t=i.widget.find(".datepicker-months").find("th:eq(1)").text(m).end().find("span").removeClass("active"),l===m&&t.eq(i.date.month()).addClass("active"),o>m-1&&i.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),m+1>q&&i.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),h=0;12>h;h++)m===o&&p>h||o>m?a(t[h]).addClass("disabled"):(m===q&&h>r||m>q)&&a(t[h]).addClass("disabled");for(s="",m=10*parseInt(m/10,10),k=i.widget.find(".datepicker-years").find("th:eq(1)").text(m+"-"+(m+9)).parents("table").find("td"),i.widget.find(".datepicker-years").find("th").removeClass("disabled"),o>m&&i.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),m+9>q&&i.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),m-=1,h=-1;11>h;h++)s+='<span class="year'+(-1===h||10===h?" old":"")+(l===m?" active":"")+(o>m||m>q?" disabled":"")+'">'+m+"</span>",m+=1;k.html(s)}},t=function(){b.locale(i.options.language);var a,c,d,e=i.widget.find(".timepicker .timepicker-hours table"),f="";if(e.parent().hide(),i.use24hours)for(a=0,c=0;6>c;c+=1){for(f+="<tr>",d=0;4>d;d+=1)f+='<td class="hour">'+O(a.toString())+"</td>",a++;f+="</tr>"}else for(a=1,c=0;3>c;c+=1){for(f+="<tr>",d=0;4>d;d+=1)f+='<td class="hour">'+O(a.toString())+"</td>",a++;f+="</tr>"}e.html(f)},u=function(){var a,b,c=i.widget.find(".timepicker .timepicker-minutes table"),d="",e=0,f=i.options.minuteStepping;for(c.parent().hide(),1===f&&(f=5),a=0;a<Math.ceil(60/f/4);a++){for(d+="<tr>",b=0;4>b;b+=1)60>e?(d+='<td class="minute">'+O(e.toString())+"</td>",e+=f):d+="<td></td>";d+="</tr>"}c.html(d)},v=function(){var a,b,c=i.widget.find(".timepicker .timepicker-seconds table"),d="",e=0;for(c.parent().hide(),a=0;3>a;a++){for(d+="<tr>",b=0;4>b;b+=1)d+='<td class="second">'+O(e.toString())+"</td>",e+=5;d+="</tr>"}c.html(d)},w=function(){if(i.date){var a=i.widget.find(".timepicker span[data-time-component]"),b=i.date.hours(),c=i.date.format("A");i.use24hours||(0===b?b=12:12!==b&&(b%=12),i.widget.find(".timepicker [data-action=togglePeriod]").text(c)),a.filter("[data-time-component=hours]").text(O(b)),a.filter("[data-time-component=minutes]").text(O(i.date.minutes())),a.filter("[data-time-component=seconds]").text(O(i.date.second()))}},x=function(c){c.stopPropagation(),c.preventDefault(),i.unset=!1;var d,e,f,g,h=a(c.target).closest("span, td, th"),j=b(i.date);if(1===h.length&&!h.is(".disabled"))switch(h[0].nodeName.toLowerCase()){case"th":switch(h[0].className){case"picker-switch":D(1);break;case"prev":case"next":f=Q.modes[i.viewMode].navStep,"prev"===h[0].className&&(f*=-1),i.viewDate.add(f,Q.modes[i.viewMode].navFnc),s()}break;case"span":h.is(".month")?(d=h.parent().find("span").index(h),i.viewDate.month(d)):(e=parseInt(h.text(),10)||0,i.viewDate.year(e)),i.viewMode===i.minViewMode&&(i.date=b({y:i.viewDate.year(),M:i.viewDate.month(),d:i.viewDate.date(),h:i.date.hours(),m:i.date.minutes(),s:i.date.seconds()}),J(),n(j,c.type)),D(-1),s();break;case"td":h.is(".day")&&(g=parseInt(h.text(),10)||1,d=i.viewDate.month(),e=i.viewDate.year(),h.is(".old")?0===d?(d=11,e-=1):d-=1:h.is(".new")&&(11===d?(d=0,e+=1):d+=1),i.date=b({y:e,M:d,d:g,h:i.date.hours(),m:i.date.minutes(),s:i.date.seconds()}),i.viewDate=b({y:e,M:d,d:Math.min(28,g)}),s(),J(),n(j,c.type))}},y={incrementHours:function(){K("add","hours",1)},incrementMinutes:function(){K("add","minutes",i.options.minuteStepping)},incrementSeconds:function(){K("add","seconds",1)},decrementHours:function(){K("subtract","hours",1)},decrementMinutes:function(){K("subtract","minutes",i.options.minuteStepping)},decrementSeconds:function(){K("subtract","seconds",1)},togglePeriod:function(){var a=i.date.hours();a>=12?a-=12:a+=12,i.date.hours(a)},showPicker:function(){i.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),i.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);i.use24hours||(i.date.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),i.date.hours(c),y.showPicker.call(i)},selectMinute:function(b){i.date.minutes(parseInt(a(b.target).text(),10)),y.showPicker.call(i)},selectSecond:function(b){i.date.seconds(parseInt(a(b.target).text(),10)),y.showPicker.call(i)}},z=function(c){var d=b(i.date),e=a(c.currentTarget).data("action"),f=y[e].apply(i,arguments);return A(c),i.date||(i.date=b({y:1970})),J(),w(),n(d,c.type),f},A=function(a){a.stopPropagation(),a.preventDefault()},B=function(a){27===a.keyCode&&i.hide()},C=function(c){b.locale(i.options.language);var d=a(c.target),e=b(i.date),f=b(d.val(),i.format,i.options.useStrict);f.isValid()&&!L(f)&&M(f)?(p(),i.setValue(f),n(e,c.type),J()):(i.viewDate=e,i.unset=!0,n(e,c.type),o(f))},D=function(a){a&&(i.viewMode=Math.max(i.minViewMode,Math.min(2,i.viewMode+a))),i.widget.find(".datepicker > div").hide().filter(".datepicker-"+Q.modes[i.viewMode].clsName).show()},E=function(){var b,c,d,e,f;i.widget.on("click",".datepicker *",a.proxy(x,this)),i.widget.on("click","[data-action]",a.proxy(z,this)),i.widget.on("mousedown",a.proxy(A,this)),i.element.on("keydown",a.proxy(B,this)),i.options.pickDate&&i.options.pickTime&&i.widget.on("click.togglePicker",".accordion-toggle",function(g){if(g.stopPropagation(),b=a(this),c=b.closest("ul"),d=c.find(".in"),e=c.find(".collapse:not(.in)"),d&&d.length){if((f=d.data("collapse"))&&f.transitioning)return;d.collapse("hide"),e.collapse("show"),b.find("span").toggleClass(i.options.icons.time+" "+i.options.icons.date),i.component&&i.component.find("span").toggleClass(i.options.icons.time+" "+i.options.icons.date)}}),i.isInput?i.element.on({click:a.proxy(i.show,this),focus:a.proxy(i.show,this),change:a.proxy(C,this),blur:a.proxy(i.hide,this)}):(i.element.on({change:a.proxy(C,this)},"input"),i.component?(i.component.on("click",a.proxy(i.show,this)),i.component.on("mousedown",a.proxy(A,this))):i.element.on("click",a.proxy(i.show,this)))},F=function(){a(window).on("resize.datetimepicker"+i.id,a.proxy(m,this)),i.isInput||a(document).on("mousedown.datetimepicker"+i.id,a.proxy(i.hide,this))},G=function(){i.widget.off("click",".datepicker *",i.click),i.widget.off("click","[data-action]"),i.widget.off("mousedown",i.stopEvent),i.options.pickDate&&i.options.pickTime&&i.widget.off("click.togglePicker"),i.isInput?i.element.off({focus:i.show,change:i.change,click:i.show,blur:i.hide}):(i.element.off({change:i.change},"input"),i.component?(i.component.off("click",i.show),i.component.off("mousedown",i.stopEvent)):i.element.off("click",i.show))},H=function(){a(window).off("resize.datetimepicker"+i.id),i.isInput||a(document).off("mousedown.datetimepicker"+i.id)},I=function(){if(i.element){var b,c=i.element.parents(),d=!1;for(b=0;b<c.length;b++)if("fixed"===a(c[b]).css("position")){d=!0;break}return d}return!1},J=function(){b.locale(i.options.language);var a="";i.unset||(a=b(i.date).format(i.format)),k().val(a),i.element.data("date",a),i.options.pickTime||i.hide()},K=function(a,c,d){b.locale(i.options.language);var e;return"add"===a?(e=b(i.date),23===e.hours()&&e.add(d,c),e.add(d,c)):e=b(i.date).subtract(d,c),L(b(e.subtract(d,c)))||L(e)?void o(e.format(i.format)):("add"===a?i.date.add(d,c):i.date.subtract(d,c),void(i.unset=!1))},L=function(a,c){b.locale(i.options.language);var d=b(i.options.maxDate,i.format,i.options.useStrict),e=b(i.options.minDate,i.format,i.options.useStrict);return c&&(d=d.endOf(c),e=e.startOf(c)),!(!a.isAfter(d)&&!a.isBefore(e))||!1!==i.options.disabledDates&&!0===i.options.disabledDates[a.format("YYYY-MM-DD")]},M=function(a){return b.locale(i.options.language),!1===i.options.enabledDates||!0===i.options.enabledDates[a.format("YYYY-MM-DD")]},N=function(a){var c,d={},e=0;for(c=0;c<a.length;c++)f=b.isMoment(a[c])||a[c]instanceof Date?b(a[c]):b(a[c],i.format,i.options.useStrict),f.isValid()&&(d[f.format("YYYY-MM-DD")]=!0,e++);return e>0&&d},O=function(a){return a=a.toString(),a.length>=2?a:"0"+a},P=function(){if(i.options.pickDate&&i.options.pickTime){var a="";return a='<div class="bootstrap-datetimepicker-widget'+(i.options.sideBySide?" timepicker-sbs":"")+(i.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:9999 !important;">',a+=i.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+Q.template+'</div><div class="col-sm-6 timepicker">'+R.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(i.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+Q.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+i.options.icons.time+'"></span></a></li><li'+(i.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+R.getTemplate()+"</div></li></ul>",a+="</div>"}return i.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+R.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+Q.template+"</div></div>"},Q={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},R={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};Q.template='<div class="datepicker-days"><table class="table-condensed">'+Q.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+Q.headTemplate+Q.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+Q.headTemplate+Q.contTemplate+"</table></div>",R.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+i.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(i.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+i.options.icons.up+'"></span></a>':"")+"</td>"+(i.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+i.options.icons.up+'"></span></a></td>':"")+(i.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+R.hourTemplate+'</td> <td class="separator">:</td><td>'+(i.options.useMinutes?R.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(i.options.useSeconds?'<td class="separator">:</td><td>'+R.secondTemplate+"</td>":"")+(i.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+i.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(i.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+i.options.icons.down+'"></span></a>':"")+"</td>"+(i.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+i.options.icons.down+'"></span></a></td>':"")+(i.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(i.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},i.destroy=function(){G(),H(),i.widget.remove(),i.element.removeData("DateTimePicker"),i.component&&i.component.removeData("DateTimePicker")},i.show=function(a){if(i.options.useCurrent&&""===k().val()){if(1!==i.options.minuteStepping){var c=b(),d=i.options.minuteStepping;c.minutes(Math.round(c.minutes()/d)*d%60).seconds(0),i.setValue(c.format(i.format))}else i.setValue(b().format(i.format));n("",a.type)}a&&"click"===a.type&&i.isInput&&i.widget.hasClass("picker-open")||(i.widget.hasClass("picker-open")?(i.widget.hide(),i.widget.removeClass("picker-open")):(i.widget.show(),i.widget.addClass("picker-open")),i.height=i.component?i.component.outerHeight():i.element.outerHeight(),m(),i.element.trigger({type:"dp.show",date:b(i.date)}),F(),a&&A(a))},i.disable=function(){var a=i.element.find("input");a.prop("disabled")||(a.prop("disabled",!0),G())},i.enable=function(){var a=i.element.find("input");a.prop("disabled")&&(a.prop("disabled",!1),E())},i.hide=function(){var a,c,d=i.widget.find(".collapse");for(a=0;a<d.length;a++)if((c=d.eq(a).data("collapse"))&&c.transitioning)return;i.widget.hide(),i.widget.removeClass("picker-open"),i.viewMode=i.startViewMode,D(),i.element.trigger({type:"dp.hide",date:b(i.date)}),H()},i.setValue=function(a){b.locale(i.options.language),a?i.unset=!1:(i.unset=!0,J()),a=b.isMoment(a)?a.locale(i.options.language):a instanceof Date?b(a):b(a,i.format,i.options.useStrict),a.isValid()?(i.date=a,J(),i.viewDate=b({y:i.date.year(),M:i.date.month()}),s(),w()):o(a)},i.getDate=function(){return i.unset?null:b(i.date)},i.setDate=function(a){var c=b(i.date);i.setValue(a||null),n(c,"function")},i.setDisabledDates=function(a){i.options.disabledDates=N(a),i.viewDate&&p()},i.setEnabledDates=function(a){i.options.enabledDates=N(a),i.viewDate&&p()},i.setMaxDate=function(a){void 0!==a&&(i.options.maxDate=b.isMoment(a)||a instanceof Date?b(a):b(a,i.format,i.options.useStrict),i.viewDate&&p())},i.setMinDate=function(a){void 0!==a&&(i.options.minDate=b.isMoment(a)||a instanceof Date?b(a):b(a,i.format,i.options.useStrict),i.viewDate&&p())},j()};a.fn.datetimepicker=function(b){return this.each(function(){var c=a(this);c.data("DateTimePicker")||c.data("DateTimePicker",new d(this,b))})},a.fn.datetimepicker.defaults={format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,minuteStepping:1,minDate:b({y:1900}),maxDate:b().add(100,"y"),showToday:!0,collapse:!0,language:b.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1}}),define("browse/property/property.datetime.edit",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync","datetimepicker"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/datetimePropertyEdit",tagName:"div",className:"property",events:{"click .addDataType":"addDataType","click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];a instanceof Array?b=a:b.push(a),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.$el.find("div.input-group.date").datetimepicker({locale:"en",format:"YYYY-MM-DDTHH:mm:ss",defaultTime:"value"}),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var c=[];return this.$el.find(".dataTypeIn").each(function(){var d=b(this).val()||"";(d=d.trim())&&c.push({"@value":d,"@type":a.vocabulary.xsd.DATETIME})}),1===c.length?c[0]:c},highlightError:function(){this.$el.addClass("highlight-error")},addDataType:function(a){a.preventDefault(),
this.$el.find("ul").prepend('<li><div class="row">  <form class="form-inline">    <div class="form-group" style="width: 83%;">      <div class="input-group date" data-date-format="YYYY-MM-DDTHH:mm:ss">        <input type="text" class="form-control dataTypeIn propertyInput" />        <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>        </span>      </div>    </div>    <button class="btn btn-default removeDataType" style="width: 10%;"><i class="icon-remove" /></button>  </form></div></li>'),this.$el.find("div.input-append.date").first().datetimepicker({locale:"en",format:"YYYY-MM-DDTHH:mm:ss",defaultTime:"value"})},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}})}),define("browse/property/property.datatype.numeric",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";var f={};return f.View=e.Layout.extend({template:"browse/datatypeNumericProperty",tagName:"div",className:"property",initialize:function(){c.bindAll(this)},serialize:function(){var a,b=this.model.get("@value");return a=c.isObject(b)&&c.keys(b).length>0?b["@value"]:b,this.model.set("@value",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}}),f.ArrayView=e.Layout.extend({template:"browse/datatypeNumericPropertyArray",tagName:"div",className:"property",originalValues:[],valWindow:10,loadMoreTimes:1,events:{"click .btn-more":"loadMore"},initialize:function(){this.model&&(this.originalValues=this.model.get("@value").slice(0))},beforeRender:function(){this.originalValues.length>this.valWindow&&this.model.set("@value",this.originalValues.slice(0,this.valWindow*this.loadMoreTimes));var a=this.model.get("@value");this.model.set("@showMore",a.length>=this.valWindow&&a.length<this.originalValues.length)},serialize:function(){var a=this.model.get("@value");return a=c.map(a,function(a){return c.isObject(a)&&c.keys(a).length>0?a["@value"]:a}),this.model.set("@values",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")},loadMore:function(a){a.preventDefault(),this.loadMoreTimes+=1,this.render()}}),f.Edit=e.Layout.extend({template:"browse/datatypeNumericPropertyEdit",tagName:"div",className:"property",events:{"click .addDataType":"addDataType","click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];c.isArray(a)?b=a:b.push(a),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var c=[],d=0,e=this.model;return this.$el.find(".dataTypeIn").each(function(f,g,h){var i=b(this).val()||"";i=i.trim();var j=null;j=b(this).hasClass("new")?e.get("@value").length>0?e.get("@value")[0]["@type"]:a.vocabulary.xsd.INTEGER:e.get("@value")[d++]["@type"];var k={"@value":i};j&&(k["@type"]=j),c.push(k)}),1===c.length?c[0]:c},highlightError:function(){this.$el.addClass("highlight-error")},addDataType:function(a){a.preventDefault(),this.$el.find("ul").prepend('<li><div class="row"><div class="input-group" style="width: 95%;"><input type="text" class="form-control custom-control dataTypeIn propertyInput new"><span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span></div></div></li>')},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}}),f}),define("browse/property/property.datatype.boolean",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";var f={};return f.View=e.Layout.extend({template:"browse/datatypeBooleanProperty",tagName:"div",className:"property",initialize:function(){c.bindAll(this)},serialize:function(){var a,b=this.model.get("@value");return a=c.isObject(b)&&c.keys(b).length>0?b["@value"]:b,this.model.set("@value",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}}),f.Edit=e.Layout.extend({template:"browse/datatypeBooleanPropertyEdit",tagName:"div",className:"property",events:{"click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];c.isArray(a)&&a.length>0?b.push(a[0]):b.push(a),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var a=[];return this.$el.find(".dataTypeIn").each(function(){var c=b(this).is(":checked");a.push(c)}),1===a.length?a[0]:a},highlightError:function(){this.$el.addClass("highlight-error")},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}}),f}),define("browse/property/property.datatype.string",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";function f(a){return c.isObject(a)&&c.has(a,"@value")?a["@value"]:a}var g={};return g.View=e.Layout.extend({template:"browse/datatypeStringProperty",tagName:"div",className:"property",initialize:function(){c.bindAll(this)},serialize:function(){var a=this.model.get("@value"),b=f(a);return this.model.set("@value",b),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}}),g.ArrayView=e.Layout.extend({template:"browse/datatypeStringPropertyArray",tagName:"div",className:"property",originalValues:[],valWindow:10,loadMoreTimes:1,events:{"click .btn-more":"loadMore"},initialize:function(){this.model&&(this.originalValues=this.model.get("@value").slice(0))},beforeRender:function(){this.originalValues.length>this.valWindow&&this.model.set("@value",this.originalValues.slice(0,this.valWindow*this.loadMoreTimes));var a=this.model.get("@value");this.model.set("@showMore",a.length>=this.valWindow&&a.length<this.originalValues.length)},serialize:function(){var a=this.model.get("@value");return a=c.map(a,f),this.model.set("@values",a),this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")},loadMore:function(a){a.preventDefault(),this.loadMoreTimes+=1,this.render()}}),g.Edit=e.Layout.extend({template:"browse/datatypeStringPropertyEdit",tagName:"div",className:"property",events:{"click .addDataType":"addDataType","click .removeDataType":"removeDataType","click button.close":"removeHandler"},initialize:function(){c.bindAll(this),c.extend(this,e.Events)},beforeRender:function(){var a=this.model.get("@value"),b=[];c.isArray(a)?b=c.map(a,f):b.push(f(a)),this.model.set("@value",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip(),this.trigger("component-loaded")},getPropertyType:function(){return"DatatypeProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){var c=[];return this.$el.find(".dataTypeIn").each(function(){var d=b(this).val()||"";d=d.trim(),c.push({"@value":d,"@type":a.vocabulary.xsd.STRING})}),1===c.length?c[0]:c},highlightError:function(){this.$el.addClass("highlight-error")},addDataType:function(a){a.preventDefault(),this.$el.find("ul").prepend('<li><div class="row"><div class="input-group" style="width: 95%;"><input class="form-control custom-control dataTypeIn propertyInput" type="text"><span class="input-group-addon btn btn-danger removeDataType"><i class="icon-remove" /></span></div></div></li>')},removeDataType:function(a){a.preventDefault(),b(a.target).parents("li").remove()},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}}),g}),define("browse/property/property.object.display",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/objectPropertyDisplay",className:"object-display",beforeRender:function(){},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.toJSON()}})}),define("browse/property/property.object.notfound",["egad","jquery","underscore","string","backbone","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";return e.Layout.extend({template:"browse/objectPropertyDisplayNotFound",beforeRender:function(){var a=decodeURIComponent(this.model.id),b=d(a).startsWith("http");this.model.set("@isExternal",b),b&&this.model.set("@isImage",c.isImage(a))},serialize:function(){return this.model.toJSON()}})}),define("browse/property/property.object",["egad","jquery","underscore","string","backbone","browse/property/property.object.display","browse/property/property.object.notfound","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f,g){"use strict";return e.Layout.extend({template:"browse/objectProperty",tagName:"div",className:"property",beforeRender:function(){var b=this,d=this.model.get("@value")["@id"],e=new a.model.Resource({"@id":encodeURIComponent(d)});e.fetch({async:!1}).done(function(a){c.keys(a).length>0?b.insertView(".obj-prop-container",new f({model:e})):b.insertView(".obj-prop-container",new g({model:e}))}).fail(function(){b.insertView(".obj-prop-container",new g({model:e}))})},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")}})}),define("browse/property/property.object.display.edit",["egad","jquery","underscore","string","backbone","metadata/metadata","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f){"use strict";return e.Layout.extend({template:"browse/objectPropertyDisplayEdit",className:"object-display",range:"",events:{"click #btnNewIndividual":"newIndividualHandler"},initialize:function(a){c.bindAll(this),a=c.defaults(a,{showNew:!1,range:""}),this.showNew=a.showNew,this.range=a.range,this.parent=a.parent},beforeRender:function(){},afterRender:function(){var e=this,g={placeholder:"Select a value",minimumInputLength:3,multiple:!0,initSelection:function(c,e){var f=[];b(c.val().split(",")).each(function(){var b=this,c=new a.model.Resource({"@id":encodeURIComponent(b)});c.fetch({async:!0}).done(function(){c.getLabel()?f.push({id:b,text:c.getLabel()}):f.push({id:b,text:d(b).truncate(70)}),e(f)}).fail(function(){f.push({id:b,text:d(b).truncate(70)}),e(f)})})},query:function(g){if(g.term&&null!==g.term&&g.term.length>0){var h=g.term?d(g.term).trim().s:"",i="individual/"+h+"*?limit=10&offset="+10*(g.page-1),j=a.ajax.searchUrl(i),k=[],l=!1;b.ajax({url:j+"&searchable="+f.IS_SEARCHABLE,dataType:"json",headers:{Accept:"application/json"}}).done(function(a){a.results&&(c.each(a.results,function(a){k.push(e.getSelectOption(a.uri))}),10==a.results&&(l=!0));var b={more:l,results:k};g.callback(b)})}else{var m={more:!1,results:[]};g.callback(m)}},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]};this.$el.find(".select2").select2(g),this.trigger("select2-loaded")},getSelectOption:function(b){var c=new a.model.Resource({"@id":encodeURIComponent(b)});return c.fetch({async:!1}),c&&c.getLabel()?{id:b,text:c.getLabel()}:{id:b,text:d(b).truncate(70)}},serialize:function(){return this.model?(this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@showNew",this.showNew),this.model.toJSON()):{"@showNew":this.showNew}},getPropertyValue:function(){return this.$el.find(".select2").select2("val")},newIndividualHandler:function(a){a.preventDefault();var b=this.range;b||(b="owl:Thing"),this.parent?this.parent.trigger("request-new",b):this.trigger("request-new",b)}})}),define("browse/property/property.object.edit",["egad","jquery","underscore","string","backbone","browse/property/property.object.display.edit","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f){"use strict";return e.Layout.extend({template:"browse/objectPropertyEdit",tagName:"div",className:"property",events:{"click button.close":"removeHandler"},initialize:function(a){c.bindAll(this),c.extend(this,e.Events),a=c.defaults(a,{showNew:!1}),this.showNew=a.showNew},beforeRender:function(){var b,c=this.model.get("@value");if(c instanceof Array){for(var d=[],e=0;e<c.length;e++)d.push(c[e]["@id"]);b=d}else b=c["@id"];var g,h;if(this.model.has("rdfs:range")&&a.config.get("modules").browse.enforceRange&&(h=this.model.get("rdfs:range")["@id"]),b){b=encodeURIComponent(b);var h,i=new a.model.Resource({"@id":b});this.model.has("rdfs:range")&&a.config.get("modules").browse.enforceRange&&(h=this.model.get("rdfs:range")["@id"]),g=new f({model:i,showNew:this.showNew,range:h,parent:this})}else g=new f({showNew:this.showNew,range:h,parent:this});g.bind("select2-loaded",function(){this.trigger("component-loaded")},this),this.insertView(".obj-prop-container",g)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},getPropertyType:function(){return"ObjectProperty"},getPropertyName:function(){return decodeURIComponent(this.model.id)},getPropertyLabel:function(){return this.model.getLabel()},getPropertyValue:function(){for(var b=this.getView().getPropertyValue()||[],d=[],e=0;e<b.length;e++){var f={"@id":c.expandURI(b[e],a.config.namespaces())};d.push(f)}return d},highlightError:function(){this.$el.addClass("highlight-error")},removeHandler:function(){this.trigger("closing",decodeURIComponent(this.model.id)),this.remove()}})}),define("browse/property/property.object.array",["egad","jquery","underscore","string","backbone","browse/property/property.object.display","browse/property/property.object.notfound","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f,g){"use strict";return e.Layout.extend({template:"browse/objectPropertyArray",tagName:"div",className:"property",originalValues:[],valWindow:10,loadMoreTimes:1,events:{"click .btn-more":"loadMore"},initialize:function(){this.model&&(this.originalValues=this.model.get("@value").slice(0))},beforeRender:function(){function b(a){return function(b){c.keys(b).length>0?e.insertView(".obj-prop-container",new f({model:a})):e.insertView(".obj-prop-container",new g({model:a}))}}function d(a){return function(){e.insertView(".obj-prop-container",new g({model:a,tagName:"li"}))}}var e=this;this.originalValues.length>this.valWindow&&this.model.set("@value",this.originalValues.slice(0,this.valWindow*this.loadMoreTimes));var h=this.model.get("@value");this.model.set("@showMore",h.length>=this.valWindow&&h.length<this.originalValues.length);for(var i=0;i<h.length;i++){var j=new a.model.Resource({"@id":encodeURIComponent(h[i]["@id"])});j.fetch({async:!1}).done(b(j)).fail(d(j))}},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.set("@egadComment",this.model.getComment()),this.model.toJSON()},afterRender:function(){this.$el.find(".property_label").tooltip()},highlight:function(){this.$el.addClass("highlight")},loadMore:function(a){a.preventDefault(),this.loadMoreTimes+=1,this.render()}})}),define("browse/properties",["browse/property/property.datatype","browse/property/property.datatype.array","browse/property/property.datatype.edit","browse/property/property.datatype.lang","browse/property/property.datatype.lang.array","browse/property/property.datatype.lang.edit","browse/property/property.datetime.edit","browse/property/property.datatype.numeric","browse/property/property.datatype.boolean","browse/property/property.datatype.string","browse/property/property.object","browse/property/property.object.edit","browse/property/property.object.display","browse/property/property.object.display.edit","browse/property/property.object.array","browse/property/property.object.notfound"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";return{Views:{DatatypePropView:a,DatatypePropArrayView:b,EditDatatypePropView:c,DatatypeLangPropView:d,DatatypeLangPropArrayView:e,EditDatatypeLangPropView:f,EditDateTimePropView:g,ObjectPropView:k,EditObjectPropView:l,ObjectPropDisplayView:m,EditObjectPropDisplayView:n,ObjectPropArrayView:o,ObjectPropDisplayNotFoundView:p,DatatypeNumericView:h.View,DatatypeNumericArrayView:h.ArrayView,DatatypeNumericEdit:h.Edit,DatatypeBooleanView:i.View,DatatypeBooleanEdit:i.Edit,DatatypeStringView:j.View,DatatypeStringArrayView:j.ArrayView,DatatypeStringEdit:j.Edit}}}),function(a){void 0===a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&!1!==b.call(c[0],d,c););return this}})}(jQuery),function(a,b){"use strict";function c(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function d(a){function b(a){return O[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function e(a,b){for(var c=0,d=b.length;c<d;c+=1)if(g(a,b[c]))return c;return-1}function f(){var b=a(N);b.appendTo(document.body);var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function g(a,c){return a===c||a!==b&&c!==b&&(null!==a&&null!==c&&(a.constructor===String?a+""==c+"":c.constructor===String&&c+""==a+""))}function h(a,b,c){var d,e,f;if(null===a||a.length<1)return[];for(d=a.split(b),e=0,f=d.length;e<f;e+=1)d[e]=c(d[e]);return d}function i(a){return a.outerWidth(!1)-a.width()}function j(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function k(c){c.on("mousemove",function(c){var d=L;d!==b&&d.x===c.pageX&&d.y===c.pageY||a(c.target).trigger("mousemove-filtered",c)})}function l(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function m(a,b){var c=l(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){e(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus(),(c.offsetWidth>0||c.offsetHeight>0)&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!I){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);I=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),a(document.body).append(I)}return I.text(b.val()),I.width()}function s(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(f=d(this))&&g.push(f)})),b.attr("class",g.join(" "))}function t(a,b,c,e){var f=d(a.toUpperCase()).indexOf(d(b.toUpperCase())),g=b.length;if(f<0)return void c.push(e(a));c.push(e(a.substring(0,f))),c.push("<span class='select2-match'>"),c.push(e(a.substring(f,f+g))),c.push("</span>"),c.push(e(a.substring(f+g,a.length)))}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)},error:function(a,b,c){var d={hasError:!0,jqXHR:a,textStatus:b,errorThrown:c};i.callback(d)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={results:d}),!1===a.isFunction(e)&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={results:[]};if(""===d)return void b.callback(e());c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),b.callback(g)}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function z(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var f,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;i<j&&(k=e.tokenSeparators[i],!((h=a.indexOf(k))>=0));i++);if(h<0)break;if(f=a.substring(0,h),a=a.substring(h+k.length),f.length>0&&(f=e.createSearchChoice.call(this,f,c))!==b&&null!==f&&e.id(f)!==b&&null!==e.id(f)){for(m=!1,i=0,j=c.length;i<j;i++)if(g(e.id(f),e.id(c[i]))){m=!0;break}m||d(f)}}return l!==a?a:void 0}function C(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function D(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var E,F,G,H,I,J,K,L={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!a.metaKey},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&a<=123}},N="<div class='select2-measure-scrollbar'></div>",O={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e",
"\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};J=a(document),H=function(){var a=1;return function(){return a++}}(),E=D(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,g=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+H()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a(document.body),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss,this.opts.element)),this.container.addClass(z(c.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=d=this.container.find(g),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),k(this.results),this.dropdown.on("mousemove-filtered",g,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",g,this.bind(function(a){this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",g,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",g,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(a){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),m(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&f-e<=0?(d.scrollTop(0),p(a)):e<0&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),j(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.lastSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),K=K||f(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2"),d=this;this.close(),a.length&&a[0].detachEvent&&d._sync&&a.each(function(){d._sync&&this.detachEvent("onpropertychange",d._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeData("select2").off(".select2"),a.is("input[type='hidden']")?a.css("display",""):(a.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())),C.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c.debug=c.debug||a.fn.select2.defaults.debug,c.debug&&console&&console.warn&&(c.id,c.text,c.sortResults,c.selectOnBlur,null!=c.ajax&&c.ajax.results,c.formatNoResults,c.formatSearching,c.formatInputTooShort,c.formatInputTooLong,c.formatLoading,c.formatSelectionTooBig,c.element.data("select2Tags")),null!=c.element.data("tags")){var k=c.element.data("tags");a.isArray(k)||(k=[]),c.element.data("select2Tags",k)}if(null!=c.sorter&&(c.sortResults=c.sorter),null!=c.selectOnClose&&(c.selectOnBlur=c.selectOnClose),null!=c.ajax&&a.isFunction(c.ajax.processResults)&&(c.ajax.results=c.ajax.processResults),null!=c.language){var l=c.language;a.isFunction(l.noMatches)&&(c.formatNoMatches=l.noMatches),a.isFunction(l.searching)&&(c.formatSearching=l.searching),a.isFunction(l.inputTooShort)&&(c.formatInputTooShort=l.inputTooShort),a.isFunction(l.inputTooLong)&&(c.formatInputTooLong=l.inputTooLong),a.isFunction(l.loadingMore)&&(c.formatLoading=l.loadingMore),a.isFunction(l.maximumSelected)&&(c.formatSelectionTooBig=l.maximumSelected)}if(c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id,i=this.liveRegion;(g=function(d,e,k){var l,m,n,o,p,q,r,s,t,u;d=c.sortResults(d,e,f);var v=[];for(l=0,m=d.length;l<m;l+=1)n=d[l],p=!0===n.disabled,o=!p&&h(n)!==b,q=n.children&&n.children.length>0,r=a("<li></li>"),r.addClass("select2-results-dept-"+k),r.addClass("select2-result"),r.addClass(o?"select2-result-selectable":"select2-result-unselectable"),p&&r.addClass("select2-disabled"),q&&r.addClass("select2-result-with-children"),r.addClass(j.opts.formatResultCssClass(n)),r.attr("role","presentation"),s=a(document.createElement("div")),s.addClass("select2-result-label"),s.attr("id","select2-result-label-"+H()),s.attr("role","option"),u=c.formatResult(n,s,f,j.opts.escapeMarkup),u!==b&&(s.html(u),r.append(s)),q&&(t=a("<ul></ul>"),t.addClass("select2-result-sub"),g(n.children,t,k+1),r.append(t)),r.data("select2-data",n),v.push(r[0]);e.append(v),i.text(c.formatMatches(d.length))})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={results:[],more:!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption())&&(c=c.not(e)),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(h(b.val(),c.separator,c.transformVal)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){if(g(this.id,b.id))return b=this,!1}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var c,d=this.opts.element,e=this;d.on("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var a=d.prop("disabled");a===b&&(a=!1),this.enable(!a);var c=d.prop("readonly");c===b&&(c=!1),this.readonly(c),this.container&&(s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass,this.opts.element)))}),d.length&&d[0].attachEvent&&d.each(function(){this.attachEvent("onpropertychange",e._sync)}),(c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(d.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b,c,d,e,f,g=this.dropdown,h=this.container,i=h.offset(),j=h.outerHeight(!1),k=h.outerWidth(!1),l=g.outerHeight(!1),m=a(window),n=m.width(),o=m.height(),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,t=r+l<=q,u=i.top-l>=m.scrollTop(),v=g.outerWidth(!1),w=function(){return s+v<=p},x=function(){return i.left+p+h.outerWidth(!1)>v},y=g.hasClass("select2-drop-above");y?(c=!0,!u&&t&&(d=!0,c=!1)):(c=!1,!t&&u&&(d=!0,c=!0)),d&&(g.hide(),i=this.container.offset(),j=this.container.outerHeight(!1),k=this.container.outerWidth(!1),l=g.outerHeight(!1),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,v=g.outerWidth(!1),g.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(f=a(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),v=g.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:K.width),v>k?k=v:v=k,l=g.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b=this.body.offset(),r-=b.top,s-=b.left),!w()&&x()&&(s=i.left+this.container.outerWidth(!1)-v),e={left:s,width:k},c?(this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above"),l=g.outerHeight(!1),e.top=i.top-l,e.bottom="auto"):(e.top=r,e.bottom="auto",this.container.removeClass("select2-drop-above"),g.removeClass("select2-drop-above")),e=a.extend(e,z(this.opts.dropdownCss,this.opts.element)),g.css(e)},shouldOpen:function(){var b;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),J.on("mousemove.select2Event",function(a){L.x=a.pageX,L.y=a.pageY}),!0)},opening:function(){var b,d=this.containerEventName,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),b=a("#select2-drop-mask"),0===b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body),b.on("mousedown touchstart click",function(d){c(b);var e,f=a("#select2-drop");f.length>0&&(e=f.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),d.preventDefault(),d.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){a(this).on(f+" "+e+" "+g,function(a){h.opened()&&h.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),J.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var a=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return a!==b&&(this.search.val(a),this.search.select(),!0)},getMaximumSelectionSize:function(){return z(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i,j=this.results;if(!((c=this.highlight())<0)){if(0==c)return void j.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),i=(d.offset()||{}).top||0,e=i+d.outerHeight(!0),c===b.length-1&&(h=j.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=j.offset().top+j.outerHeight(!1),e>f&&j.scrollTop(j.scrollTop()+(e-f)),g=i-j.offset().top,g<0&&"none"!=d.css("display")&&j.scrollTop(j.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c,d,f=this.findHighlightableChoices();if(0===arguments.length)return e(f.filter(".select2-highlighted")[0],f.get());b>=f.length&&(b=f.length-1),b<0&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",c.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(c.text()),(d=c.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(d),choice:d})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c=this.resultsPage+1,d=this,e=this.search.val(),f=this.context;0!==b.length&&b.offset().top-a.offset().top-a.height()<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:e,page:c,context:f,matcher:this.opts.matcher,callback:this.bind(function(g){d.opened()&&(d.opts.populateResults.call(this,a,g.results,{term:e,page:c,context:f}),d.postprocessResults(g,!1,!1),!0===g.more?(b.detach().appendTo(a).html(d.opts.escapeMarkup(z(d.opts.formatLoadMore,d.opts.element,c+1))),window.setTimeout(function(){d.loadMoreIfNeeded()},10)):b.remove(),d.positionDropdown(),d.resultsPage=c,d.context=g.context,this.opts.element.trigger({type:"select2-loaded",items:g}))})}))},tokenize:function(){},updateResults:function(c){function d(){j.removeClass("select2-active"),m.positionDropdown(),k.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?m.liveRegion.text(k.text()):m.liveRegion.text(m.opts.formatMatches(k.find('.select2-result-selectable:not(".select2-selected")').length))}function e(a){k.html(a),d()}var f,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((!0===c||!o||!g(n,o))&&(a.data(this.container,"select2-last-term",n),!0===c||!1!==this.showSearchInput&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(f=this.data(),a.isArray(f)&&f.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class='select2-selection-limit'>"+z(l.formatSelectionTooBig,l.element,p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+z(l.formatInputTooShort,l.element,j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+z(l.formatInputTooLong,l.element,j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+z(l.formatSearching,l.element)+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({element:l.element,term:j.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(f){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(f.hasError!==b&&y(l.formatAjaxError,"formatAjaxError"))return void e("<li class='select2-ajax-error'>"+z(l.formatAjaxError,l.element,f.jqXHR,f.textStatus,f.errorThrown)+"</li>");if(this.context=f.context===b?null:f.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),f.results))!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(f.results).filter(function(){return g(m.id(this),m.id(h))}).length&&this.opts.createSearchChoicePosition(f.results,h),0===f.results.length&&y(l.formatNoMatches,"formatNoMatches"))return e("<li class='select2-no-results'>"+z(l.formatNoMatches,l.element,j.val())+"</li>"),void(this.showSearch&&this.showSearch(j.val()));k.empty(),m.opts.populateResults.call(this,k,f.results,{term:j.val(),page:this.resultsPage,context:null}),!0===f.more&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class='select2-more-results'>"+l.escapeMarkup(z(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(f,c),d(),this.opts.element.trigger({type:"select2-loaded",items:f})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){n(this.search)},selectHighlighted:function(a){if(this._touchMoved)return void this.clearTouchMoved();var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function b(){var b,c,d,e,f,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(b=this.opts.element.attr("style")))for(c=b.split(";"),e=0,f=c.length;e<f;e+=1)if(g=c[e].replace(/\s/g,""),null!==(d=g.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&d.length>=1)return d[1];return"resolve"===this.opts.width?(b=this.opts.element.css("width"),b.indexOf("%")>0?b:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var c=b.call(this);null!==c&&this.container.css("width",c)}}),F=D(E,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var b,c,d;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),b=this.search.get(0),b.createTextRange?(c=b.createTextRange(),c.collapse(!1),c.select()):b.setSelectionRange&&(d=this.search.val().length,b.setSelectionRange(d,d))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"selection","focusser")},initContainer:function(){var b,d,e=this.container,f=this.dropdown,g=H();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+g),this.focusser.attr("aria-labelledby","select2-chosen-"+g),this.results.attr("id","select2-results-"+g),this.search.attr("aria-owns","select2-results-"+g),this.focusser.attr("id","s2id_autogen"+g),d=a("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(d.text()).attr("for",this.focusser.attr("id"));var h=this.opts.element.attr("title");this.opts.element.attr("title",h||d.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===M.PAGE_UP||a.which===M.PAGE_DOWN)return void p(a);switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(a){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.ESC){if(!1===this.opts.openOnEnter&&a.which===M.ENTER)return void p(a);if(a.which==M.DOWN||a.which==M.UP||a.which==M.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==M.DELETE||a.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),j(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection&&this.selection.focus())})),
b.on("mousedown touchstart",this.bind(function(d){c(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(d)})),f.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==b&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder(),a.lastSearchTerm=a.search.val())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()!==b&&((a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val())},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var h=g(e,b.id(d));return h&&(f=d),h},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){if(g(e.id(b.data("select2-data")),e.opts.element.val()))return d=a,!1}),!1!==c&&(!0===b&&d>=0?this.highlight(d):this.highlight(0)),!0===b){var f=this.opts.minimumResultsForSearch;f>=0&&this.showSearch(A(a.results)>=f)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.lastSearchTerm=this.search.val(),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1],this.opts.debug&&console&&console.warn),this.select)this.opts.debug&&console&&console.warn,this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;if(0===arguments.length)return c=this.selection.data("select2-data"),c==b&&(c=null),c;this.opts.debug&&console&&console.warn,arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)}}),G=D(E,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=h(c.val(),b.separator,b.transformVal),f=[];b.query({matcher:function(c,d,h){var i=a.grep(e,function(a){return g(a,b.id(h))}).length;return i&&f.push(h),i},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var h=e[c],i=0;i<f.length;i++){var j=f[i];if(g(h,b.id(j))){a.push(j),f.splice(i,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"searchContainer","selection")},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(b){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+H()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==M.LEFT||a.which==M.RIGHT||a.which==M.BACKSPACE||a.which==M.DELETE||a.which==M.ENTER)){var g=c;return a.which==M.LEFT&&d.length?g=d:a.which==M.RIGHT?g=e.length?e:null:a.which===M.BACKSPACE?this.unselect(c.first())&&(this.search.width(10),g=d.length?d:e):a.which==M.DELETE?this.unselect(c.first())&&(this.search.width(10),g=e.length?e:null):a.which==M.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===M.BACKSPACE&&1==this.keydowns||a.which==M.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(a),void p(a)}if(a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.BACKSPACE&&a.which!==M.ESC){if(a.which===M.ENTER){if(!1===this.opts.openOnEnter)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),a.which!==M.PAGE_UP&&a.which!==M.PAGE_DOWN||p(a),a.which===M.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(a){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c={},d=[],e=this;a(b).each(function(){e.id(this)in c||(c[e.id(this)]=0,d.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(d),e.postprocessResults()},tokenize:function(){var a=this.search.val();null!=(a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts))&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(b){var c=this.getVal(),d=this;a(b).each(function(){c.push(d.createChoice(this))}),this.setVal(c)},createChoice:function(c){var d,e,f=!c.locked,g=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),h=a("<li class='select2-search-choice select2-locked'><div></div></li>"),i=f?g:h,j=this.id(c);return d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&i.find("div").replaceWith(a("<div></div>").html(d)),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),p(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),j},unselect:function(b){var c,d,f=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(c=b.data("select2-data")){var g=a.Event("select2-removing");if(g.val=this.id(c),g.choice=c,this.opts.element.trigger(g),g.isDefaultPrevented())return!1;for(;(d=e(this.id(c),f))>=0;)f.splice(d,1),this.setVal(f),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){e(h.id(b.data("select2-data")),d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&!1!==c&&!0===this.opts.closeOnSelect&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+z(h.opts.formatNoMatches,h.opts.element,h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-i(this.search)},resizeSearch:function(){var a,b,c,d,e,f=i(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,e<a&&(e=c-f),e<40&&(e=c-f),e<=0&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),h(a,this.opts.separator,this.opts.transformVal))},setVal:function(b){if(this.select)this.select.val(b);else{var c=[],d={};a(b).each(function(){this in d||(c.push(this),d[this]=0)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator))}},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)if(g(this.opts.id(b[c]),this.opts.id(a[d]))){b.splice(c,1),c--,a.splice(d,1);break}return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var d,e,f=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data()))}}),a.fn.select2=function(){var c,d,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new window.Select2.class.multi:new window.Select2.class.single,d.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,(d=a(this).data("select2"))===b)return;if(f=i[0],"container"===f?g=d.container:"dropdown"===f?g=d.dropdown:(m[f]&&(f=m[f]),g=d[f].apply(d,i.slice(1))),e(i[0],k)>=0||e(i[0],l)>=0&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return t(this.text(a),c.term,e,d),e.join("")},transformVal:function(b){return a.trim(b)},formatSelection:function(a,c,d){return a?d(this.text(a)):b},sortResults:function(a,b,c){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,c){return b},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},text:function(b){return b&&this.data&&this.data.text?a.isFunction(this.data.text)?this.data.text(b):b[this.data.text]:b.text},matcher:function(a,b){return d(""+b).toUpperCase().indexOf(d(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:B,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&a.opts.minimumResultsForSearch<0)}},a.fn.select2.locales=[],a.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(a,b,c){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},a.extend(a.fn.select2.defaults,a.fn.select2.locales.en),a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:w,tags:x},util:{debounce:l,markMatch:t,escapeMarkup:u,stripDiacritics:d},class:{abstract:E,single:F,multi:G}}}}(jQuery),define("select2",["jquery","bootstrap"],function(){}),define("browse/owlclass",["underscore","string","backbone","egad","metadata/metadata","bootstrap","underscore.mixins","select2","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e){"use strict";var f={};return f.DisplayView=c.Layout.extend({template:"browse/classesList",className:"resourceType",serialize:function(){var b=[];return this.collection?(b=this.collection.filter(function(b){var c=a.expandURI(b.id,d.config.namespaces());return c!=a.expandURI("owl:Thing",d.config.namespaces())&&c!=a.expandURI("owl:NamedIndividual",d.config.namespaces())}),this.collection.reset(b),this.collection.toJSON()):b}}),f.EditView=c.Layout.extend({template:"browse/classesListEdit",className:"resourceType",initialize:function(){a.bindAll(this),a.extend(this,c.Events)},beforeRender:function(){var c=this;this.selectOptions={placeholder:"Select a class",minimumInputLength:3,multiple:!0,initSelection:function(a,c){var e=[];$(a.val().split(",")).each(function(){var a=this,f=new d.model.Resource({"@id":encodeURIComponent(a)});f.fetch({async:!0}).done(function(){f.getLabel()?e.push({id:a,text:f.getLabel()}):e.push({id:a,text:b(a).truncate(70)}),c(e)}).fail(function(){e.push({id:a,text:b(a).truncate(70)}),c(e)})})},query:function(f){if(f.term&&null!==f.term&&f.term.length>0){var g=f.term?b(f.term).trim().s:"",h=g+"*?limit=10&offset="+10*(f.page-1);if(c.range){h+="&type="+encodeURIComponent(c.range)}var i=d.ajax.searchUrl("class",h),j=[],k=!1;$.ajax({url:i+"&searchable="+e.IS_SEARCHABLE,dataType:"json",headers:{Accept:"application/json"}}).done(function(b){b.results&&(a.each(b.results,function(a){j.push(c.getSelectOption(a.uri))}),10==b.results&&(k=!0));var d={more:k,results:j};f.callback(d)})}else{var l={more:!1,results:[]};f.callback(l)}},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]}},serialize:function(){if(this.collection){return{types:this.collection.map(function(a){return a.id}).join(",")}}return{}},afterRender:function(){this.$selectIn=this.$el.find("input.select2"),this.$selectIn.select2(this.selectOptions),this.$selectIn.on("change",this.inputChangedHandler)},setClasses:function(a){this.$selectIn&&(this.$selectIn.select2("val",a),this.trigger("change",{val:a}))},getSelectOption:function(a){var c=new d.model.Resource({"@id":encodeURIComponent(a)});return c.fetch({async:!1}),c&&c.getLabel()?{id:a,text:c.getLabel()}:{id:a,text:b(a).truncate(70)}},inputChangedHandler:function(a){this.trigger("change",a)},getSelectedClasses:function(){for(var b=this.$el.find("input.select2").select2("val"),c=b||[],e=[],f=0;f<c.length;f++)e.push(a.expandURI(c[f],d.config.namespaces()));return e}}),f}),define("browse/resource.modal",["underscore","egad","backbone","metadata/metadata","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d){"use strict";var e={};return e.DeleteModal=c.Layout.extend({template:"browse/deleteModal",tagName:"div",events:{"click #btnUndo":"undoDelete","click #btnOk":"deleteInstance"},initialize:function(){a.bindAll(this),this.undoCallback="function"==typeof this.options.undoCallback?this.options.undoCallback:$.noop,this.deleteCallback="function"==typeof this.options.deleteCallback?this.options.deleteCallback:$.noop},serialize:function(){if(this.model)return this.model.toJSON()},afterRender:function(){this.$el.find("#deleteModal").modal({keyboard:!0,show:!0})},show:function(){this.$el.find("#deleteModal").modal("show")},hide:function(){this.$el.find("#deleteModal").modal("hide")},toggle:function(){this.$el.find("#deleteModal").modal("toggle")},undoDelete:function(a){a&&a.preventDefault(),this.undoCallback()},deleteInstance:function(a){a&&a.preventDefault(),this.deleteCallback()}}),e.AddAttributeModal=c.Layout.extend({template:"browse/addAttributeModal",tagName:"div",events:{"click #btnCancelAdd":"clickCancelAdd","click #btnSelect":"clickSelect"},initialize:function(b){a.bindAll(this),this.domain=b.domain||"",this.cancelCallback="function"==typeof this.options.cancelCallback?this.options.cancelCallback:$.noop,this.selectCallback="function"==typeof this.options.selectCallback?this.options.selectCallback:$.noop},serialize:function(){if(this.model)return this.model.toJSON()},afterRender:function(){var c=this;this.selectPropsOpts={minimumInputLength:2,placeholder:"Select a property",query:function(e){var f=c.domain?"&domain="+encodeURIComponent(c.domain):"";if(e.term&&null!==e.term&&e.term.length>0){var g=b.ajax.searchUrl("property",e.term+"?limit=10&offset="+10*(e.page-1)+f),h=[],i=!1;$.ajax({url:g+"&searchable="+d.IS_SEARCHABLE,dataType:"json",headers:{Accept:"application/json"}}).done(function(c){c.results&&(a.each(c.results,function(c){var d={id:c.uri,text:c.label?c.label:a.compactURI(c.uri,b.config.namespaces())};"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==d.id&&h.push(d)}),10==c.results.length&&(i=!0));var d={more:i,results:h};e.callback(d)})}else{var j={more:!1,results:[]};e.callback(j)}},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]};var e=this.$el.find(".propField");e.select2(this.selectPropsOpts);var f=this.$el.find("#addAttributeModal");f.modal({keyboard:!0,show:!0}),f.on("shown.bs.modal",function(){e.select2("open")})},show:function(){this.$el.find("#addAttributeModal").modal("show")},hide:function(){this.$el.find("#addAttributeModal").modal("hide")},toggle:function(){this.$el.find("#addAttributeModal").modal("toggle")},clickCancelAdd:function(a){a&&a.preventDefault(),this.cancelCallback()},clickSelect:function(a){a&&a.preventDefault();var b=this.$el.find("input.propField").val();this.selectCallback(b)}}),e.SelectClassModal=c.Layout.extend({template:"browse/selectClassModal",tagName:"div",events:{"click #btnCancelAdd":"clickCancelAdd","click #btnSelect":"clickSelect"},initialize:function(){a.bindAll(this),this.cancelCallback="function"==typeof this.options.cancelCallback?this.options.cancelCallback:$.noop,this.selectCallback="function"==typeof this.options.selectCallback?this.options.selectCallback:$.noop},serialize:function(){if(this.model)return this.model.toJSON()},afterRender:function(){this.selectPropsOpts={minimumInputLength:3,placeholder:"Select a class",query:function(c){if(c.term&&null!==c.term&&c.term.length>0){var e=b.ajax.searchUrl("class",c.term+"?limit=10&offset="+10*(c.page-1)),f=[],g=!1;$.ajax({url:e+"&searchable="+d.IS_SEARCHABLE,dataType:"json",headers:{Accept:"application/json"}}).done(function(d){d.results&&(a.each(d.results,function(c){var d={id:c.uri,text:c.label?c.label:a.compactURI(c.uri,b.config.namespaces())};f.push(d)}),10==d.results.length&&(g=!0));var e={more:g,results:f};c.callback(e)})}else{var h={more:!1,results:[]};c.callback(h)}},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]};var c=this.$el.find(".selectedClass");c.select2(this.selectPropsOpts);var e=this.$el.find("#selectClassModal");e.modal({keyboard:!1,show:!0}),e.on("shown.bs.modal",function(){c.select2("open")})},show:function(){this.$el.find("#selectClassModal").modal("show")},hide:function(){this.$el.find("#selectClassModal").modal("hide")},toggle:function(){this.$el.find("#selectClassModal").modal("toggle")},clickCancelAdd:function(a){a&&a.preventDefault(),this.cancelCallback()},clickSelect:function(a){a&&a.preventDefault();var b=this.$el.find("input.selectedClass").val();this.selectCallback(b)}}),e}),function(){!function(a,b){"function"==typeof define&&define.amd?define("salvattore",b):"object"==typeof exports?module.exports=b():a.salvattore=b()}(this,function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;return b=function(a,b,c){var d;return d=a.dataset,d?d[b]=c:a.setAttribute("data-"+b,c)},function(a,b){var c;return c=a.dataset,c?c[b]:a.getAttribute("data-"+b)},k=function(a){var b,c,d,e,f,g;return c=a.getAttribute("salvattore"),d=c.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),d?(e=d[1],b=(null!=(f=d[2])?f.split("."):void 0)||["column"]):(d=c.match(/^\s*\.(.+)\s+(\d+)\s*$/),b=d[1],e=null!=(g=d[2])?g.split("."):void 0),{numberOfColumns:e,columnClasses:b}},a=function(a,c){var d,e,f,g,h,i,j,l;for(l=k(a),h=l.numberOfColumns,d=l.columnClasses,f=new Array(+h),c||(c=a,i=document.createRange(),i.selectNodeContents(c),c=document.createElement("div"),c.appendChild(i.extractContents()),b(c,"columns",0),Array.prototype.filter.call(c.childNodes,function(a){return a instanceof HTMLElement})),g=h;0!=g--;)j="[data-columns] > *:nth-child("+h+"n-"+g+")",f.push(c.querySelectorAll(j));return e=document.createDocumentFragment(),f.forEach(function(a){var b,c;return b=document.createElement("div"),b.className=d.join(" "),c=document.createDocumentFragment(),Array.prototype.forEach.call(a,function(a){return c.appendChild(a)}),b.appendChild(c),e.appendChild(b)}),a.appendChild(e),b(a,"columns",h)},n=function(a){var c,d,e,f,g,h;return g=document.createRange(),g.selectNodeContents(a),a=g.extractContents(),c=Array.prototype.filter.call(a.childNodes,function(a){return a instanceof HTMLElement}),e=c.length,f=c[0].childNodes.length,h=new Array(f*e),Array.prototype.forEach.call(c,function(a,b){return Array.prototype.forEach.call(a.children,function(a,c){return h[c*e+b]=a})}),d=document.createElement("div"),b(d,"columns",0),h.filter(function(a){return null!=a}).forEach(function(a){return d.appendChild(a)}),d},m=function(b){return a(b,n(b))},h=function(a){if(a.matches)return Array.prototype.forEach.call(g,m)},e=function(a){var b;try{b=a.sheet.cssRules}catch(a){return a,[]}return b||[]},f=function(){return Array.prototype.concat.call(Array.prototype.slice.call(document.querySelectorAll('style[type="text/css"]')),Array.prototype.slice.call(document.querySelectorAll('link[rel="stylesheet"]')))},i=function(a){var b,c;for(b=a.length;b--;)if(c=a[b],c.selectorText&&c.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},o=function(){var a
;if("undefined"!=typeof matchMedia&&null!==matchMedia)return a=[],f().forEach(function(b){return Array.prototype.forEach.call(e(b),function(b){if(null!=b.media&&b.styleSheet&&i(b.styleSheet.cssRules))return a.push(matchMedia(b.media.mediaText))})}),a.forEach(function(a){return a.addListener(h)})},j=function(a,b){var c,d,e,f,g,h,i,j;for(d=a.children,h=d.length,g=i=0,j=d.length;i<j&&(c=d[g],e=c.children.length,!(0!==g&&f>e));g=++i){if(g+1===h){g=0;break}f=e}return g},d=function(a){var b,c;for(b=new Array(a),c=0;c!==a;)b[c]=document.createDocumentFragment(),c++;return b},c=function(a,b){var c,e,f,g;return e=a.children,g=e.length,f=d(g),c=j(a,b[0]),b.forEach(function(a){return f[c].appendChild(a),c===g-1?c=0:c++}),Array.prototype.forEach.call(e,function(a,b){return a.appendChild(f[b])})},l=function(a,b){var c,e,f,g,h,i;for(e=a.children,h=e.length,g=d(h),c=h-1,b.forEach(function(a){var b;return b=g[c],b.insertBefore(a,b.firstChild),0===c?c=h-1:c--}),Array.prototype.forEach.call(e,function(a,b){return a.insertBefore(g[b],a.firstChild)}),f=document.createDocumentFragment(),i=b.length%h;0!=i--;)f.appendChild(a.lastChild);return a.insertBefore(f,a.firstChild)},g=null,p=function(){return window.getComputedStyle?(g=document.querySelectorAll("[data-columns]"),Array.prototype.forEach.call(g,function(b){return a(b)}),o()):void 0},{setup:p,append_elements:c,prepend_elements:l}})}.call(this),define("browse/resource.view",["underscore","egad","backbone","burry","browse/properties","browse/owlclass","browse/resource.modal","salvattore","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f,g,h){"use strict";var i={},j=new d.Store("egad:fields:changed",5);return i.Individual=c.Layout.extend({template:"browse/resource",tagName:"div",className:"results instance module",initialize:function(c){a.bindAll(this),c.template&&(this.template=c.template),this.layout=c.layout||"columns",this.properties=this.model.getProperties(),this.dataSource=this.model.get("dataSource"),this.egad=b},events:{"click #btnEdit":"editIndividual","click #btnTree":"viewTreeBrowser","click #btnDelete":"deleteIndividual"},getResults:function(c,d){function e(d){var e={query:c};return g||(e=a.extend(e,{url:b.config.sparqlEndpoint()})),a.extend(e,d)}function f(){return{reasoning:!1}}var g=b.config.isStardogEmbedded(),h={Accept:"application/sparql-results+json"},i=function(a,c){$.ajax({type:"POST",url:b.ajax.sparqlEndpointUrl(),async:!1,headers:a,data:e(c),contentType:"application/x-www-form-urlencoded"}).done(function(a){d(a)}).fail(function(a){if(406===a.status){i({Accept:"application/ld+json"},f())}else 400===a.status?b.api.Mediator.publish("QueryDataSource:error",{message:a.responseText}):500===a.status&&b.api.Mediator.publish("QueryDataSource:error",{message:a.statusText})})};i(h,f())},beforeRender:function(){function d(c,d){var f=c.get("@value"),g=d?f[0]:f,h=$(f).is(function(c,d){return a.isNumber(d)||a.has(d,"@type")&&b.vocabulary.xsd.isNumeric(d["@type"])}),i=$(f).is(function(c,d){return a.isBoolean(d)||a.has(d,"@type")&&b.vocabulary.xsd.isBoolean(d["@type"])}),j=$(f).is(function(c,d){return a.has(d,"@language")||b.vocabulary.rdf.isLangLiteral(d["@type"])}),k=$(f).is(function(c,d){return a.has(d,"@type")&&b.vocabulary.xsd.isString(d["@type"])});return h?d?new e.Views.DatatypeNumericArrayView({model:c}):new e.Views.DatatypeNumericView({model:c}):i?(d&&c.set("@value",g),new e.Views.DatatypeBooleanView({model:c})):j?d?new e.Views.DatatypeLangPropArrayView({model:c}):new e.Views.DatatypeLangPropView({model:c}):k?d?new e.Views.DatatypeStringArrayView({model:c}):new e.Views.DatatypeStringView({model:c}):d?new e.Views.DatatypePropArrayView({model:c}):new e.Views.DatatypePropView({model:c})}var f=this,g=j.get(this.model.id);if(this.getResults("select ?s ?p where { ?s ?p <"+this.model.id+"> . filter (!isBlank(?s)) } order by ?p LIMIT 20",function(b){window.results=b;var c=null,d=[],g=new f.egad.model.Properties;b.results.bindings.forEach(function(a){var b=a.s,e=a.p,h=null;c&&c==e.value||(d=[],h=new f.egad.model.Property({"@id":encodeURI(e.value)}),h.fetch({async:!1}),h.set("@value",d),h.set("@type",["owl:ObjectProperty"]),h.set("@id",e.value),g.add(h)),d.push({"@id":b.value})}),g.length>0&&($("#incoming").append("<h3>Reference</h3>"),f.$el.append("<h3>Reference This way</h3>"),g.comparator=function(a,b){var c=null!=a.get("@egadLabel")?a.get("@egadLabel"):null!=a.getLabel()?a.getLabel():a.get("@id"),d=null!=b.get("@egadLabel")?b.get("@egadLabel"):null!=b.getLabel()?b.getLabel():b.get("@id");return c.localeCompare(d)},g.sort(),g.each(function(b){var c,d=b.get("@value");a.isArray(d)&&d.length>0?c=new e.Views.ObjectPropArrayView({model:b}):!a.isArray(d)&&d&&(c=new e.Views.ObjectPropView({model:b})),c&&f.insertView("#refsForm",c)}))}),this.insertClassList(),this.properties&&this.properties.length>0)this.properties.comparator=function(a,b){var c=null!=a.get("@egadLabel")?a.get("@egadLabel"):null!=a.getLabel()?a.getLabel():a.get("@id"),d=null!=b.get("@egadLabel")?b.get("@egadLabel"):null!=b.getLabel()?b.getLabel():b.get("@id");return c.localeCompare(d)},this.properties.sort(),this.properties.each(function(b){var h,i=b.get("@value");a.isArray(i)&&i.length>0?h=!a.isObject(i[0])||a.isObject(i[0])&&a.has(i[0],"@value")?d(b,!0):new e.Views.ObjectPropArrayView({model:b}):a.isArray(i)||(!a.isObject(i)||a.isObject(i)&&a.has(i,"@value")?h=d(b,!1):i&&(h=new e.Views.ObjectPropView({model:b}))),h&&(a.extend(h,c.Events),h.on("modified",f.changeModelProp),a.contains(g,h.model.id)&&h.highlight(),f.insertView("#propsForm",h))}),j.remove(this.model.id);else{var h="<strong>No properties!</strong> To add properties to this instance, click 'Edit' (if enabled) and start adding them.<br/>If this is a external resource, you can access it using the following link: <a href='"+decodeURIComponent(f.model.id)+"' target='_blank'>"+decodeURIComponent(f.model.id)+"</a>";b.event.CommManager.sendMessage("alerts","showInfoAlert",{message:h,isBlock:!0})}},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.toJSON()},afterRender:function(){"columns"===this.layout&&h.setup(),$("#refsForm .property").size()>0&&$("#incoming").append("<h3 title='The list of individuals and their properties that refer to \""+this.model.getLabel()+"\"'>References</h3>")},insertClassList:function(){var c=this,d=this.model.get("@type"),e=new b.model.ResourceCollection;if(d){var g=a.asArray(d);a.each(g,function(a){if(a){var c=new b.model.ResourceLabel({"@id":encodeURIComponent(a)});e.add({"@id":c.getId(),"rdfs:label":c.getLabel()})}})}c.insertView("#classType",new f.DisplayView({collection:e}))},editIndividual:function(a){a.preventDefault();var b=this.model.get("@type")||"owl:Thing";b instanceof Array&&(b=b[0]),c.history.navigate("#!/browse/"+encodeURIComponent(b)+"/"+encodeURIComponent(this.model.id)+"/edit",{trigger:!0})},viewTreeBrowser:function(a){a.preventDefault(),c.history.navigate("#!/treebrowser/"+encodeURIComponent(this.model.id),{trigger:!0})},deleteIndividual:function(a){a.preventDefault();var d=this,e=function(){var a=d.model.get("@type");a instanceof Array&&(a=a[0]),this.hide(),d.model.id=encodeURIComponent(decodeURIComponent(d.model.id)),d.model.destroy().done(function(){c.history.navigate("#!/browse/"+encodeURIComponent(a),{trigger:!0})}).fail(function(a){403==a.status&&b.event.CommManager.sendMessage("alerts","showErrorAlert",{message:"<strong>You don't have permission to modify data.</strong>",isBlock:!0})})},f=new g.DeleteModal({model:this.model,deleteCallback:e});return this.insertView(f).render(),!1}}),i}),define("browse/breadcrumbs",["underscore","egad","backbone","burry","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c){"use strict";return c.Layout.extend({template:"browse/breadcrumbs",initialize:function(b){var c=a.defaults(b,{items:[]});this.items=c.items},serialize:function(){return{items:this.items.slice(0,-1),active:this.items.slice(-1)[0]}}})}),define("browse/resource.edit",["underscore","egad","backbone","burry","browse/properties","browse/owlclass","browse/resource.modal","salvattore","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){this.message=a,this.fields=b,this.name="ValidationException"}var j=new d.Store("egad:fields:changed",5);return c.Layout.extend({template:"browse/resourceEdit",tagName:"div",className:"results instance module",initialize:function(c){a.bindAll(this),c=a.defaults(c,{allowNestedCreation:!1}),this.allowNestedCreation=c.allowNestedCreation,c.fieldsTemplate&&(this.fieldsTemplate=c.fieldsTemplate),this.model&&this.model.has("@type")&&(this.originalType=a.map(this.model.getType(),function(c){return a.expandURI(c,b.config.namespaces())})),this.properties=this.model.getProperties(),this.fieldsTemplate=this._getClassTemplate(this._getClassClosure(this.model.getType()))},events:{"click #btnSave":"saveIndividual","click #btnCancel":"cancelIndividual","click #addProperty":"addProperty"},_literalEditView:function(c,d){var f=a.isArray(d)&&d.length>0?d[0]:d;if(!a.isObject(f)||a.isObject(f)&&a.has(f,"@value")){var g;return a.has(f,"@type")&&(g=f["@type"]),b.vocabulary.xsd.isDateTime(g)?new e.Views.EditDateTimePropView({model:c}):a.isNumber(f)||b.vocabulary.xsd.isNumeric(g)?new e.Views.DatatypeNumericEdit({model:c}):a.isBoolean(f)||b.vocabulary.xsd.isBoolean(g)?(a.isArray(d)&&a.has(c,"@value")&&c.set("@value",f),new e.Views.DatatypeBooleanEdit({model:c})):b.vocabulary.xsd.isString(g)?new e.Views.DatatypeStringEdit({model:c}):a.has(f,"@language")||b.vocabulary.rdf.isLangLiteral(g)?new e.Views.EditDatatypeLangPropView({model:c}):new e.Views.EditDatatypePropView({model:c})}},beforeRender:function(){var c=this;if(this.properties&&this.properties.length>0)this.properties.comparator=function(a,b){var c=null!=a.get("@egadLabel")?a.get("@egadLabel"):null!=a.getLabel()?a.getLabel():a.get("@id"),d=null!=b.get("@egadLabel")?b.get("@egadLabel"):null!=b.getLabel()?b.getLabel():b.get("@id");return c.localeCompare(d)},this.properties.sort(),this.properties.each(function(b){var d,f=b.get("@value"),g=a.isArray(f)&&f.length>0?f[0]:f;!a.isObject(g)||a.isObject(g)&&a.has(g,"@value")?d=c._literalEditView(b,f):(d=new e.Views.EditObjectPropView({model:b,showNew:c.allowNestedCreation}),d.on("request-new",c.triggerNewIndividual)),d&&(d.on("closing",function(a){c.model.unsetProperty(a)}),c._addPropertyView(d))});else if(!this.fieldsTemplate||0===this.fieldsTemplate.length){var d='<strong>No properties!</strong> To add properties to this new instance, click [<i class="icon-plus"></i> Add attribute] in the contextual menu to the right <i class="icon-arrow-right"></i>';b.event.CommManager.sendMessage("alerts","showInfoAlert",{message:d,isBlock:!0})}},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.toJSON()},afterRender:function(){var a=this;h.setup();var b=this.insertClassListEditor();a.insertView("#classType",b).render().promise().done(function(){a.model.on("change:@type",function(b,c){var d=a._getClassClosure(c),e=a._getClassTemplate(d);a._applyClassTemplate(e)}),a.fieldsTemplate&&a.fieldsTemplate.length>0&&a._applyClassTemplate(a.fieldsTemplate)})},insertClassListEditor:function(){var c=this,d=this.model.getType(),e=new b.model.ResourceCollection;a.each(d,function(a){if(a){var c=new b.model.ResourceLabel({"@id":encodeURIComponent(a)});e.add({"@id":c.getId(),"rdfs:label":c.getLabel()})}});var g=new f.EditView({collection:e});return g.on("change",function(b){var d=b.val;(!d||a.isArray(d)&&0===d.length)&&(d=["owl:Thing"]),c.model.setType(d)}),g},_getClassClosure:function(c){var d=[],e=a.asArray(c);return a.each(e,function(c){d=a.union(d,b.ajax.getSuperClasses(c),a.asArray(a.expandURI(c,b.config.namespaces())))}),d},_getClassTemplate:function(a){var c=this._getClassClosure(a);return b.config.getTemplateFor(c)},_applyClassTemplate:function(a,b){if(a){var c=this;this.fieldsTemplate=a,this.fieldsTemplate.forEach(function(a){c.addPropertyToForm(a,b)})}},_registerChange:function(a){var b=j.get(this.model.id)||[];b.push(a),j.set(this.model.id,b)},_validateDatatypeProperty:function(b){var c=function(b){return!isNaN(b)||("string"==typeof b&&b.length>0||a.isObject(b)&&a.has(b,"@value"))};if(b instanceof Array){var d=!0;return a.each(b,function(a){d=d&&c(a)}),d}return c(b)},_validateObjectProperty:function(b){var c=!0;return b instanceof Array?a.each(b,function(b){c=c&&a.isUri(b["@id"])}):c=a.isUri(b["@id"]),c},_getPropertyViews:function(){return this.getViews("#propsForm").value()},_getPropertyView:function(c){return a.find(this._getPropertyViews(),function(d){if(d.model&&d.model.id){var e=decodeURIComponent(d.model.id);return a.expandURI(c,b.config.namespaces())===a.expandURI(e,b.config.namespaces())}})},_hasPropertyView:function(a){return!!this._getPropertyView(a)},_addPropertyView:function(a){this.insertView("#propsForm",a)},_removePropertyView:function(a){var b=this._getPropertyView(a);b&&b.remove()},getStateModel:function(){var c=this.model.clone(),d=this,e=[];if(a.each(this._getPropertyViews(),function(f){if(f.getPropertyName){var g=c.getProperty(f.getPropertyName()),h=f.getPropertyValue();g&&"ObjectProperty"===f.getPropertyType()&&(g=a.isArray(g)?a.map(g,function(c){return{"@id":a.expandURI(c["@id"],b.config.namespaces())}}):a.asArray({"@id":a.expandURI(g["@id"],b.config.namespaces())}));var i=null;if("DatatypeProperty"===f.getPropertyType()?d._validateDatatypeProperty(h)||(i={field:a.localName(decodeURIComponent(f.getPropertyLabel())),reason:"Value should not be empty or null"},f.highlightError()):d._validateObjectProperty(h)||(i={field:a.localName(decodeURIComponent(f.getPropertyLabel())),reason:"Value should be a URI element"},f.highlightError()),i)e.push(i);else if(a.isDiff(g,h)){var j=decodeURIComponent(f.getPropertyName());c.setProperty(j,h),d._registerChange(j)}}}),0!==e.length)throw new i("Validation errors where found in the data.",e);c.unset("@egadLabel"),c.unset("@value");var f=a.expandURI(c.getType(),b.config.namespaces());if(c.has("rdf:type")){var g=a.expandURI(c.get("rdf:type"),b.config.namespaces());f=a.union(g,f),c.unset("rdf:type")}var h="resource";return f&&f.length>=1&&(h=encodeURIComponent(a.compactURI(f[0],b.config.namespaces()))),c.url=function(){return this.id?(this.id=decodeURIComponent(this.id),b.ajax.graphUrl(h,encodeURIComponent(this.id))):b.ajax.graphUrl(h)},c.set("@context",a.invert(b.config.namespaces())),c},saveIndividual:function(c){c.preventDefault(),c.stopPropagation();var d=this;try{var e=this.getStateModel(),f=a.expandURI(e.getType(),b.config.namespaces()),g="resource";f&&f.length>=1&&(g=encodeURIComponent(a.compactURI(f[0],b.config.namespaces()))),e.on("invalid",function(a,c){b.event.CommManager.sendMessage("alerts","showErrorAlert",{title:"Invalid data",message:c,isBlock:!0})}),e.save(null,{fieldsTemplate:this.fieldsTemplate,success:function(){d.trigger("saved",decodeURIComponent(g),e.id)},error:function(a){403==a.status&&b.event.CommManager.sendMessage("alerts","showErrorAlert",{message:"<strong>You don't have permission to modify data.</strong>",isBlock:!0})}})}catch(c){var h="<strong>The following validation errors were found: </strong><br/><ul>";a.each(c.fields,function(a){h=h+"<li><strong>"+a.field+"</strong> - "+a.reason+"</li>"}),h+="</ul>",b.event.CommManager.sendMessage("alerts","showErrorAlert",{message:h,isBlock:!0})}},cancelIndividual:function(a){a.preventDefault();var b=this.model.getType();b=b.length>0?b[0]:"resource",this.trigger("cancelled",b,this.model.id)},addProperty:function(a){a.preventDefault();var c;b.config.get("modules").browse.enforceDomain&&(c=this.model.getType(),c=c.length>0?c[0]:"resource");var d=new g.AddAttributeModal({domain:c,selectCallback:this.addPropertyToForm});this.insertView(d).render()},_addClass:function(c){var d=this.getView("#classType"),e=a.expandURI(this.model.getType(),b.config.namespaces()),f=a.map(a.asArray(c),function(c){var d;if(a.isString(c))d=c;else{if(!a.isObject(c)||!a.has(c,"@id"))throw new Error("Resource object must contain @id property");d=c["@id"]}return a.expandURI(d,b.config.namespaces())});f=a.flatten(f),d.setClasses(a.union(f,e))},addPropertyToForm:function(d,f){var g=this,i=d;if(i&&0!==i.length){var j,k;if(a.isString(i)?(j=i.indexOf(":")<0?":"+i:i,j=a.expandURI(decodeURIComponent(i),b.config.namespaces())):a.isObject(i)&&i instanceof c.Model&&(j=a.expandURI(decodeURIComponent(i.id),b.config.namespaces()),k=i.get("value")),!this._hasPropertyView(j)){if(j===b.vocabulary.rdf.TYPE)return void(k&&this._addClass(k));var l=new b.model.Property({"@id":encodeURIComponent(j)});l.fetch({async:!1}),k&&l.set("@value",k);var m,n=l.get("@type"),o=!1;if(n){var p=[];p.push(n),p=a.flatten(p);for(var q=0;q<p.length&&!(o=/objectproperty/i.test(p[q]));q+=1);o?(m=new e.Views.EditObjectPropView({model:l,showNew:g.allowNestedCreation}),m.on("request-new",g.triggerNewIndividual)):m=new e.Views.EditDatatypePropView({model:l})}else{var r=new b.model.ResourceCollection;r.url=b.ajax.graphUrl("using",l.id+"?limit=1"),r.fetch({async:!1}).done(function(){if(r.length>0){var c=r.at(0),d=decodeURIComponent(l.id),f=c.has(d)?c.get(d):c.get(a.compactURI(d,b.config.namespaces()));if(f=a.isArray(f)&&f.length>0?f[0]:f,a.isObject(f)&&a.has(f,"@id"))o=!0,m=new e.Views.EditObjectPropView({model:l,showNew:g.allowNestedCreation}),m.on("request-new",g.triggerNewIndividual);else{var h=a.isArray(f)&&f.length>0?f[0]:f;m=!a.isObject(h)||a.isObject(h&&a.has(h,"@value"))?g._literalEditView(l,h):new e.Views.EditDatatypePropView({model:l})}}}).fail(function(){})}if(m||(m=new e.Views.EditDatatypePropView({model:l})),window.getComputedStyle&&!f){var s=document.querySelector("#propsForm");h.append_elements(s,[m.el]),o?m.bind("component-loaded",function(){this.$el.find(".propertyInput").select2("container").find(".select2-input").focus()}):m.bind("component-loaded",function(){this.$el.find(".propertyInput").focus()})}m.on("closing",function(a){g.model.unsetProperty(a)}),this._addPropertyView(m),m.render()}}},removePropertyFromForm:function(d){var e=d;if(e&&0!==e.length){var f;a.isString(e)?f=a.compactURI(decodeURIComponent(e),b.config.namespaces()):a.isObject(e)&&e instanceof c.Model&&(f=a.compactURI(decodeURIComponent(e.id),b.config.namespaces())),f.indexOf(":")<0&&(f=":"+f),this._removePropertyView(f),this.model.unsetProperty(f)}},triggerNewIndividual:function(a){this.trigger("new-individual",a)}})}),define("browse/resource.edit.manager",["underscore","egad","backbone","burry","browse/breadcrumbs","browse/resource.edit","browse/resource.modal","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c,d,e,f,g){"use strict";return c.Layout.extend({template:"browse/resourceEditManager",initialize:function(c){a.bindAll(this),c=a.defaults({},c),this.models=new b.model.ResourceCollection,this.currentModel=null,this.currentView=null,this.nestingLimit=c.nestingLimit||10},beforeRender:function(){if(this.currentModel=this.models.pop(),this.currentModel&&(this.currentView=new f({model:this.currentModel,allowNestedCreation:!0}),this.currentView.on("new-individual",this.createNewIndividualHandler),this.currentView.once("saved",this.savedHandler),this.currentView.once("cancelled",this.cancelledHandler),this.insertView("#edit-area",this.currentView)),this.models.length>=1){var a=this.getBreadcrumbsLabels();this.insertView("#breadcrumbs-area",new e({items:a}))}b.event.CommManager.sendMessage("alerts","removeAlerts")},serialize:function(){return{}},cleanup:function(){this.models.lenght>0&&(this.models.reset(),this.models=void 0)},getBreadcrumbsLabels:function(){function c(a){var c=a.id?a.id:a.getType(),d=function(a,d,e){return d=d||"",e=e||"",d+new b.model.ResourceLabel({"@id":encodeURIComponent(c)}).getLabel()+e};return a.id?d(c):d(c,"New ")}var d=this.models.models.concat(this.currentModel);return a.map(d,c)},newIndividual:function(a){var c=encodeURIComponent(a),d=new b.model.Resource;d.setType(a),d.url=function(){return this.id?b.ajax.graphUrl(c,this.id):b.ajax.graphUrl(c)},this.models.push(d)},editIndividual:function(a,c){var d=encodeURIComponent(a),e=encodeURIComponent(c),f=new b.model.Resource({"@id":e});f.url=function(){return this.id?b.ajax.graphUrl(d,this.id):b.ajax.graphUrl(d)},f.fetch({async:!1,error:function(){f=new b.model.Resource({"@id":c}),f.setType(a)}}),this.models.push(f)},_createTypedIndividual:function(a){this.newIndividual(a),this.render()},createNewIndividualHandler:function(c){function d(c){setTimeout(function(){c?e._createTypedIndividual(c):e._createTypedIndividual(a.compactURI(b.vocabulary.owl.THING,b.config.namespaces()))},500)}var e=this;if(this.models.length<this.nestingLimit)try{if(this.models.push(this.currentView.getStateModel()),this.currentView.remove(),"owl:Thing"===c||c===b.vocabulary.owl.THING){var f=new g.SelectClassModal({selectCallback:function(a){d(a),this.hide()},cancelCallback:function(){d(),this.hide()}});this.insertView(f).render()}else d(c)}catch(a){}else{var h={isBlock:!0};h.message="<p>You've reached the limit of nested object creation.</p><p>Please start saving your objects or open another browser window to create objects individually.</p>",b.event.CommManager.sendMessage("alerts","showWarningAlert",h)}},savedHandler:function(a,b){0===this.models.length?c.history.navigate("#!/browse/"+encodeURIComponent(a)+"/"+encodeURIComponent(b),{trigger:!0}):this.render()},cancelledHandler:function(a,b){0===this.models.length?b?c.history.navigate("#!/browse/"+encodeURIComponent(a)+"/"+encodeURIComponent(b),{trigger:!0}):c.history.navigate("#!/browse/"+encodeURIComponent(a),{trigger:!0}):this.render()}})}),define("browse/main",["jquery","underscore","backbone","egad","browse/resource.list","browse/resource.view","browse/resource.edit.manager"],function(a,b,c,d,e,f,g){"use strict";return d.api.Module.extend({name:"browse",routes:{"!/browse/using/:property":"browseUsingProperty","!/browse/using/:property/p/:page":"browseUsingProperty","!/browse/:collection":"browseCollection","!/browse/:collection/p/:page":"browseCollection","!/browse/:collection/new":"newIndividual","!/browse/:collection/:individual":"browseIndividual","!/browse/:collection/:ind/edit":"editIndividual"},browseUsingProperty:function(b,c){var f=new d.model.ResourceCollection(null,{page:c,usingProperty:b});f.fetch().done(function(){var b=new e.List({collection:f});a(".pageContainer").html(b.$el),b.render()}).fail(function(){})},browseCollection:function(b,c){var f=d.config.getOrderFor(b),g=new d.model.ResourceCollection(null,{page:c,rdfType:b,order:f});g.fetch().done(function(){var b=new e.List({collection:g});a(".pageContainer").html(b.$el),b.render()}).fail(function(){})},browseIndividual:function(b,c){var e=encodeURIComponent(b),g=encodeURIComponent(c),h=new d.model.Resource({"@id":g});h.url=function(){return d.config.get("modules").browse&&d.config.get("modules").browse.reasoning?this.id?d.ajax.graphReasoningUrl(e,this.id):d.ajax.graphReasoningUrl(e):this.id?d.ajax.graphUrl(e,this.id):d.ajax.graphUrl(e)},h.fetch({async:!1}).fail(function(){h.id=decodeURIComponent(h.id)});var i=new f.Individual({model:h});a(".pageContainer").html(i.$el),i.render()},newIndividual:function(b){var c=new g({nestingLimit:d.config.get("modules").browse.nestingLimit});c.newIndividual(b),a(".pageContainer").html(c.$el),c.render()},editIndividual:function(b,c){var e=new g({nestingLimit:d.config.get("modules").browse.nestingLimit});e.editIndividual(b,c),a(".pageContainer").html(e.$el),e.render()}})}),define("browse",["browse/main"],function(a){return a}),define("metadata/datasetinfo",["underscore","backbone","egad","metadata/metadata","bootstrap","handlebars.helpers"],function(a,b,c,d){"use strict";var e=b.Model.extend({});return b.Layout.extend({template:"metadata/datasetInfo",tagName:"div",id:"dataset-widget",datasetInfoModel:null,initialize:function(b){a.bindAll(this),b&&b.template&&(this.template=b.template),this.datasetInfoModel=new e({embeddedInStardog:c.config.isStardogEmbedded(),name:c.config.get("name"),sparqlEndpoint:c.config.get("sparqlEndpoint"),apiEndpoint:c.config.get("apiEndpoint")})},beforeRender:function(){this.metadata=new d.Settings,this.initMetadata(this.metadata.getAll())},afterRender:function(){c.api.Mediator.publish("metadata:datasetinfo:afterRender",{})},initMetadata:function(b){var c=String.fromCharCode(parseInt("02",16));if(b&&b["database.namespaces"]&&a.isString(b["database.namespaces"])){var d=b["database.namespaces"].split(c);d=a.collect(d,function(a){return a.replace("=",": <")+">"}),b["database.namespaces"]=d}this.datasetInfoModel.set(b)},serialize:function(){return this.datasetInfoModel.toJSON()}})}),define("query/prefix",["jquery","underscore","egad","string","bootstrap","select2"],function(a,b,c,d){"use strict";var e=/prefix\s+\w*:\s+<.*>/gi,f=/\s+(\w*):/,g=/<.*>/;return{clean:function(a,b){if(b&&b.length>0||""===b&&a)return b;var c=a.substring(0,a.length-1),d=c.lastIndexOf("/");return d>0?c.substring(d+1,c.length):void 0},_toFlatPrefixesJson:function(a){return b.map(a,function(a){var b={};return b[a.id]=a.text,b})},asArray:function(a){var d=this,e=[],f=a||c.config.namespaces();return b.each(f,function(a,b){var c={id:b,text:d.clean(b,a)};e.push(c)}),e},asArrayFullText:function(a){var d=this,e=[],f=a||c.config.namespaces();return b.each(f,function(a,b){var c=d.clean(b,a)+": &lt;"+b+"&gt;",f={id:b,text:c};e.push(f)}),e},asString:function(a,c){if(0===a.length)return"";var d=[],e=this.asArray(c),f=this._toFlatPrefixesJson(e);return d=b.map(f,function(c){for(var d=0;d<a.length;d++)if(b.has(c,a[d]))return"prefix "+c[a[d]]+": <"+a[d]+">"}),d=b.compact(d),d.join("\n")},fromQueryString:function(a){var c={},h=a?a.match(e):null;return h&&b.each(h,function(a){var b=a.match(f);b=d(b[0].substring(0,b[0].lastIndexOf(":"))).trim().s;var e=a.match(g);e=d(e[0].substring(1,e[0].lastIndexOf(">"))).trim().s,c[e]=b}),c},nonGlobalPrefixes:function(a,c){var f=a?a.match(e):null,g=b.collect(this._toFlatPrefixesJson(this.asArray(c)),function(a){return b.values(a)});if(g=b.flatten(g),f){var h=b.filter(f,function(a){var c=a.match(/\s+(\w*):/),e=c[0],f=d(e.substring(0,e.lastIndexOf(":"))).trim().s;return b.indexOf(g,f)<0}),i=b.reduce(h,function(a,b){return a&&b?a+"\n"+b:b||""});return i||""}return""},getGlobalNSFromStr:function(a,f){var g=a?a.match(e):null,h=b.collect(this._toFlatPrefixesJson(this.asArray(f)),function(a){return b.values(a)});h=b.flatten(h);var i=[];g&&b.each(g,function(a){var c=a.match(/\s+(\w*):/),e=c[0],f=d(e.substring(0,e.lastIndexOf(":"))).trim().s;b.indexOf(h,f)>=0&&i.push(f)});var j=f||c.config.namespaces(),k=b.invert(j),l=[];return b.each(i,function(a){l.push(k[a])}),l},stripPrefixes:function(a){var b=a.match(e),c=0;if(b){var f=b[b.length-1];c=a.lastIndexOf(f)+f.length}return d(a.substring(c)).trimLeft().s}}}),window.CodeMirror=function(){"use strict";function a(c,d){if(!(this instanceof a))return new a(c,d);this.options=d=d||{};for(var e in fe)!d.hasOwnProperty(e)&&fe.hasOwnProperty(e)&&(d[e]=fe[e]);m(d);var f="string"==typeof d.value?0:d.value.first,g=this.display=b(c,f);g.wrapper.CodeMirror=this,j(this),d.autofocus&&!Nd&&oa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Vc},h(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var i=d.value;"string"==typeof i&&(i=new te(d.value,d.mode)),ga(this,mc)(this,i),Ad&&setTimeout(cd(na,this,!0),20),qa(this);var k;try{k=document.activeElement==g.input}catch(a){}k||d.autofocus&&!Nd?setTimeout(cd(Ia,this),20):Ja(this),ga(this,function(){for(var a in ee)ee.propertyIsEnumerable(a)&&ee[a](this,d[a],ge);for(var b=0;b<ke.length;++b)ke[b](this)})()}function b(a,b){var c={},d=c.input=fd("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Dd?d.style.width="1000px":d.setAttribute("wrap","off"),Md&&(d.style.border="1px solid black"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck","false"),c.inputDiv=fd("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=fd("div",[fd("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=fd("div",[fd("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=fd("div",null,"CodeMirror-scrollbar-filler"),c.gutterFiller=fd("div",null,"CodeMirror-gutter-filler"),c.lineDiv=fd("div",null,"CodeMirror-code"),c.selectionDiv=fd("div",null,null,"position: relative; z-index: 1"),c.cursor=fd("div","\xa0","CodeMirror-cursor"),c.otherCursor=fd("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"),c.measure=fd("div",null,"CodeMirror-measure"),c.lineSpace=fd("div",[c.measure,c.selectionDiv,c.lineDiv,c.cursor,c.otherCursor],null,"position: relative; outline: none"),c.mover=fd("div",[fd("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=fd("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=fd("div",null,null,"position: absolute; height: "+ye+"px; width: 1px;"),c.gutters=fd("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=fd("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=fd("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),Bd&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),Md&&(d.style.width="0px"),Dd||(c.scroller.draggable=!0),Id?(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"):Bd&&(c.scrollbarH.style.minWidth=c.scrollbarV.style.minWidth="18px"),c.viewOffset=c.lastSizeC=0,c.showingFrom=c.showingTo=b,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new Vc,c.cachedCharWidth=c.cachedTextHeight=null,c.measureLineCache=[],c.measureLineCachePos=0,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c}function c(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption),b.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),b.doc.frontier=b.doc.first,G(b,100),b.state.modeGen++,b.curOp&&ja(b)}function d(a){a.options.lineWrapping?(a.display.wrapper.className+=" CodeMirror-wrap",a.display.sizer.style.minWidth=""):(a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-wrap",""),l(a)),f(a),ja(a),U(a),setTimeout(function(){n(a)},100)}function e(a){var b=ca(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/da(a.display)-3);return function(e){return Qb(a.doc,e)?0:c?(Math.ceil(e.text.length/d)||1)*b:b}}function f(a){var b=a.doc,c=e(a);b.iter(function(a){var b=c(a);b!=a.height&&qc(a,b)})}function g(a){var b=ne[a.options.keyMap],c=b.style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(c?" cm-keymap-"+c:""),a.state.disableInput=b.disableInput}function h(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),U(a)}function i(a){j(a),ja(a),setTimeout(function(){p(a)},20)}function j(a){var b=a.display.gutters,c=a.options.gutters;gd(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(fd("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none"}function k(a,b){if(0==b.height)return 0;for(var c,d=b.text.length,e=b;c=Nb(e);){var f=c.find();e=nc(a,f.from.line),d+=f.from.ch-f.to.ch}for(e=b;c=Ob(e);){var f=c.find();d-=e.text.length-f.from.ch,e=nc(a,f.to.line),d+=e.text.length-f.to.ch}return d}function l(a){var b=a.display,c=a.doc;b.maxLine=nc(c,c.first),
b.maxLineLength=k(c,b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var d=k(c,a);d>b.maxLineLength&&(b.maxLineLength=d,b.maxLine=a)})}function m(a){var b=$c(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function n(a){var b=a.display,c=a.doc.height,d=c+L(b);b.sizer.style.minHeight=b.heightForcer.style.top=d+"px",b.gutters.style.height=Math.max(d,b.scroller.clientHeight-ye)+"px";var e=Math.max(d,b.scroller.scrollHeight),f=b.scroller.scrollWidth>b.scroller.clientWidth+1,g=e>b.scroller.clientHeight+1;g?(b.scrollbarV.style.display="block",b.scrollbarV.style.bottom=f?ld(b.measure)+"px":"0",b.scrollbarV.firstChild.style.height=e-b.scroller.clientHeight+b.scrollbarV.clientHeight+"px"):(b.scrollbarV.style.display="",b.scrollbarV.firstChild.style.height="0"),f?(b.scrollbarH.style.display="block",b.scrollbarH.style.right=g?ld(b.measure)+"px":"0",b.scrollbarH.firstChild.style.width=b.scroller.scrollWidth-b.scroller.clientWidth+b.scrollbarH.clientWidth+"px"):(b.scrollbarH.style.display="",b.scrollbarH.firstChild.style.width="0"),f&&g?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=b.scrollbarFiller.style.width=ld(b.measure)+"px"):b.scrollbarFiller.style.display="",f&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=ld(b.measure)+"px",b.gutterFiller.style.width=b.gutters.offsetWidth+"px"):b.gutterFiller.style.display="",Jd&&0===ld(b.measure)&&(b.scrollbarV.style.minWidth=b.scrollbarH.style.minHeight=Kd?"18px":"12px",b.scrollbarV.style.pointerEvents=b.scrollbarH.style.pointerEvents="none")}function o(a,b,c){var d=a.scroller.scrollTop,e=a.wrapper.clientHeight;"number"==typeof c?d=c:c&&(d=c.top,e=c.bottom-c.top),d=Math.floor(d-K(a));var f=Math.ceil(d+e);return{from:sc(b,d),to:sc(b,f)}}function p(a){var b=a.display;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var c=s(b)-b.scroller.scrollLeft+a.doc.scrollLeft,d=b.gutters.offsetWidth,e=c+"px",f=b.lineDiv.firstChild;f;f=f.nextSibling)if(f.alignable)for(var g=0,h=f.alignable;g<h.length;++g)h[g].style.left=e;a.options.fixedGutter&&(b.gutters.style.left=c+d+"px")}}function q(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=r(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(fd("div",[fd("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",!0}return!1}function r(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function s(a){return jd(a.scroller).left-jd(a.sizer).left}function t(a,b,c,d){for(var e,f=a.display.showingFrom,g=a.display.showingTo,h=o(a.display,a.doc,c),i=!0;;i=!1){var j=a.display.scroller.clientWidth;if(!u(a,b,h,d))break;if(e=!0,b=[],C(a),n(a),i&&a.options.lineWrapping&&j!=a.display.scroller.clientWidth)d=!0;else if(d=!1,c&&(c=Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,"number"==typeof c?c:c.top)),h=o(a.display,a.doc,c),h.from>=a.display.showingFrom&&h.to<=a.display.showingTo)break}return e&&(Qc(a,"update",a),a.display.showingFrom==f&&a.display.showingTo==g||Qc(a,"viewportChange",a,a.display.showingFrom,a.display.showingTo)),e}function u(a,b,c,d){var e=a.display,f=a.doc;if(!e.wrapper.clientWidth)return e.showingFrom=e.showingTo=f.first,void(e.viewOffset=0);if(!(!d&&0==b.length&&c.from>e.showingFrom&&c.to<e.showingTo)){q(a)&&(b=[{from:f.first,to:f.first+f.size}]);var g=e.sizer.style.marginLeft=e.gutters.offsetWidth+"px";e.scrollbarH.style.left=a.options.fixedGutter?g:"0";var h=1/0;if(a.options.lineNumbers)for(var i=0;i<b.length;++i)b[i].diff&&b[i].from<h&&(h=b[i].from);var j=f.first+f.size,k=Math.max(c.from-a.options.viewportMargin,f.first),l=Math.min(j,c.to+a.options.viewportMargin);if(e.showingFrom<k&&k-e.showingFrom<20&&(k=Math.max(f.first,e.showingFrom)),e.showingTo>l&&e.showingTo-l<20&&(l=Math.min(j,e.showingTo)),Xd)for(k=rc(Pb(f,nc(f,k)));l<j&&Qb(f,nc(f,l));)++l;var m=[{from:Math.max(e.showingFrom,f.first),to:Math.min(e.showingTo,j)}];if(m=m[0].from>=m[0].to?[]:x(m,b),Xd)for(var i=0;i<m.length;++i)for(var n,o=m[i];n=Ob(nc(f,o.to-1));){var p=n.find().from.line;if(!(p>o.from)){m.splice(i--,1);break}o.to=p}for(var r=0,i=0;i<m.length;++i){var o=m[i];o.from<k&&(o.from=k),o.to>l&&(o.to=l),o.from>=o.to?m.splice(i--,1):r+=o.to-o.from}if(!d&&r==l-k&&k==e.showingFrom&&l==e.showingTo)return void w(a);m.sort(function(a,b){return a.from-b.from});try{var s=document.activeElement}catch(a){}r<.7*(l-k)&&(e.lineDiv.style.display="none"),z(a,k,l,m,h),e.lineDiv.style.display="",s&&document.activeElement!=s&&s.offsetHeight&&s.focus();return(k!=e.showingFrom||l!=e.showingTo||e.lastSizeC!=e.wrapper.clientHeight)&&(e.lastSizeC=e.wrapper.clientHeight,G(a,400)),e.showingFrom=k,e.showingTo=l,v(a),w(a),!0}}function v(a){for(var b,c=a.display,d=c.lineDiv.offsetTop,e=c.lineDiv.firstChild;e;e=e.nextSibling)if(e.lineObj){if(Bd){var f=e.offsetTop+e.offsetHeight;b=f-d,d=f}else{var g=jd(e);b=g.bottom-g.top}var h=e.lineObj.height-b;if(b<2&&(b=ca(c)),h>.001||h<-.001){qc(e.lineObj,b);var i=e.lineObj.widgets;if(i)for(var j=0;j<i.length;++j)i[j].height=i[j].node.offsetHeight}}}function w(a){var b=a.display.viewOffset=tc(a,nc(a.doc,a.display.showingFrom));a.display.mover.style.top=b+"px"}function x(a,b){for(var c=0,d=b.length||0;c<d;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,i=a.length;h<i;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g}))}a=f}return a}function y(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:s(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function z(a,b,c,d,e){function f(b){var c=b.nextSibling;return Dd&&Od&&a.display.currentWheelTarget==b?(b.style.display="none",b.lineObj=null):b.parentNode.removeChild(b),c}var g=y(a),h=a.display,i=a.options.lineNumbers;d.length||Dd&&a.display.currentWheelTarget||gd(h.lineDiv);var j=h.lineDiv,k=j.firstChild,l=d.shift(),m=b;for(a.doc.iter(b,c,function(b){if(l&&l.to==m&&(l=d.shift()),Qb(a.doc,b)){if(0!=b.height&&qc(b,0),b.widgets&&k&&k.previousSibling)for(var c=0;c<b.widgets.length;++c){var h=b.widgets[c];if(h.showIfHidden){var n=k.previousSibling;if(/pre/i.test(n.nodeName)){var o=fd("div",null,null,"position: relative");n.parentNode.replaceChild(o,n),o.appendChild(n),n=o}var p=n.appendChild(fd("div",[h.node],"CodeMirror-linewidget"));h.handleMouseEvents||(p.ignoreEvents=!0),B(h,p,n,g)}}}else if(l&&l.from<=m&&l.to>m){for(;k.lineObj!=b;)k=f(k);i&&e<=m&&k.lineNumber&&id(k.lineNumber,r(a.options,m)),k=k.nextSibling}else{if(b.widgets)for(var q,s=0,t=k;t&&s<20;++s,t=t.nextSibling)if(t.lineObj==b&&/div/i.test(t.nodeName)){q=t;break}var u=A(a,b,m,g,q);if(u!=q)j.insertBefore(u,k);else{for(;k!=q;)k=f(k);k=k.nextSibling}u.lineObj=b}++m});k;)k=f(k)}function A(a,b,c,d,e){var f,g=cc(a,b),h=g.pre,i=b.gutterMarkers,j=a.display,k=g.bgClass?g.bgClass+" "+(b.bgClass||""):b.bgClass;if(!(a.options.lineNumbers||i||k||b.wrapClass||b.widgets))return h;if(e){e.alignable=null;for(var l,m=!0,n=0,o=null,p=e.firstChild;p;p=l)if(l=p.nextSibling,/\bCodeMirror-linewidget\b/.test(p.className)){for(var q=0;q<b.widgets.length;++q){var s=b.widgets[q];if(s.node==p.firstChild){s.above||o||(o=p),B(s,p,e,d),++n;break}}if(q==b.widgets.length){m=!1;break}}else e.removeChild(p);e.insertBefore(h,o),m&&n==b.widgets.length&&(f=e,e.className=b.wrapClass||"")}if(f||(f=fd("div",null,b.wrapClass,"position: relative"),f.appendChild(h)),k&&f.insertBefore(fd("div",null,k+" CodeMirror-linebackground"),f.firstChild),a.options.lineNumbers||i){var t=f.insertBefore(fd("div",null,null,"position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),f.firstChild);if(a.options.fixedGutter&&(f.alignable||(f.alignable=[])).push(t),!a.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(f.lineNumber=t.appendChild(fd("div",r(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+j.lineNumInnerWidth+"px"))),i)for(var u=0;u<a.options.gutters.length;++u){var v=a.options.gutters[u],w=i.hasOwnProperty(v)&&i[v];w&&t.appendChild(fd("div",[w],"CodeMirror-gutter-elt","left: "+d.gutterLeft[v]+"px; width: "+d.gutterWidth[v]+"px"))}}if(Bd&&(f.style.zIndex=2),b.widgets&&f!=e)for(var q=0,x=b.widgets;q<x.length;++q){var s=x[q],y=fd("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||(y.ignoreEvents=!0),B(s,y,f,d),s.above?f.insertBefore(y,a.options.lineNumbers&&0!=b.height?t:h):f.appendChild(y),Qc(s,"redraw")}return f}function B(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function C(a){var b=a.display,c=Wa(a.doc.sel.from,a.doc.sel.to);if(c||a.options.showCursorWhenSelecting?D(a):b.cursor.style.display=b.otherCursor.style.display="none",c?b.selectionDiv.style.display="none":E(a),a.options.moveInputWithCursor){var d=$(a,a.doc.sel.head,"div"),e=jd(b.wrapper),f=jd(b.lineDiv);b.inputDiv.style.top=Math.max(0,Math.min(b.wrapper.clientHeight-10,d.top+f.top-e.top))+"px",b.inputDiv.style.left=Math.max(0,Math.min(b.wrapper.clientWidth-10,d.left+f.left-e.left))+"px"}}function D(a){var b=a.display,c=$(a,a.doc.sel.head,"div");b.cursor.style.left=c.left+"px",b.cursor.style.top=c.top+"px",b.cursor.style.height=Math.max(0,c.bottom-c.top)*a.options.cursorHeight+"px",b.cursor.style.display="",c.other?(b.otherCursor.style.display="",b.otherCursor.style.left=c.other.left+"px",b.otherCursor.style.top=c.other.top+"px",b.otherCursor.style.height=.85*(c.other.bottom-c.other.top)+"px"):b.otherCursor.style.display="none"}function E(a){function b(a,b,c,d){b<0&&(b=0),g.appendChild(fd("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?h-a:c)+"px; height: "+(d-b)+"px"))}function c(c,d,f){function g(b,d){return Z(a,Va(c,b),"div",l,d)}var j,k,l=nc(e,c),m=l.text.length;return nd(uc(l),d||0,null==f?m:f,function(a,c,e){var l,n,o,p=g(a,"left");if(a==c)l=p,n=o=p.left;else{if(l=g(c-1,"right"),"rtl"==e){var q=p;p=l,l=q}n=p.left,o=l.right}null==d&&0==a&&(n=i),l.top-p.top>3&&(b(n,p.top,null,p.bottom),n=i,p.bottom<l.top&&b(n,p.bottom,null,l.top)),null==f&&c==m&&(o=h),(!j||p.top<j.top||p.top==j.top&&p.left<j.left)&&(j=p),(!k||l.bottom>k.bottom||l.bottom==k.bottom&&l.right>k.right)&&(k=l),n<i+1&&(n=i),b(n,l.top,o-n,l.bottom)}),{start:j,end:k}}var d=a.display,e=a.doc,f=a.doc.sel,g=document.createDocumentFragment(),h=d.lineSpace.offsetWidth,i=M(a.display);if(f.from.line==f.to.line)c(f.from.line,f.from.ch,f.to.ch);else{var j=nc(e,f.from.line),k=nc(e,f.to.line),l=Pb(e,j)==Pb(e,k),m=c(f.from.line,f.from.ch,l?j.text.length:null).end,n=c(f.to.line,l?0:null,f.to.ch).start;l&&(m.top<n.top-2?(b(m.right,m.top,null,m.bottom),b(i,n.top,n.left,n.bottom)):b(m.right,m.top,n.left-m.right,m.bottom)),m.bottom<n.top&&b(i,m.bottom,null,n.top)}hd(d.selectionDiv,g),d.selectionDiv.style.display=""}function F(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursor.style.visibility=b.otherCursor.style.visibility="",a.options.cursorBlinkRate>0&&(b.blinker=setInterval(function(){b.cursor.style.visibility=b.otherCursor.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate))}}function G(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.showingTo&&a.state.highlight.set(b,cd(H,a))}function H(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.showingTo)){var c,d=+new Date+a.options.workTime,e=tb(b.mode,J(a,b.frontier)),f=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.showingTo+500),function(g){if(b.frontier>=a.display.showingFrom){var h=g.styles;g.styles=$b(a,g,e);for(var i=!h||h.length!=g.styles.length,j=0;!i&&j<h.length;++j)i=h[j]!=g.styles[j];i&&(c&&c.end==b.frontier?c.end++:f.push(c={start:b.frontier,end:b.frontier+1})),g.stateAfter=tb(b.mode,e)}else ac(a,g,e),g.stateAfter=b.frontier%5==0?tb(b.mode,e):null;if(++b.frontier,+new Date>d)return G(a,a.options.workDelay),!0}),f.length&&ga(a,function(){for(var a=0;a<f.length;++a)ja(this,f[a].start,f[a].end)})()}}function I(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=nc(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=Wc(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function J(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=I(a,b,c),g=f>d.first&&nc(d,f-1).stateAfter;return g=g?tb(d.mode,g):ub(d.mode),d.iter(f,b,function(c){ac(a,c,g);var h=f==b-1||f%5==0||f>=e.showingFrom&&f<e.showingTo;c.stateAfter=h?tb(d.mode,g):null,++f}),c&&(d.frontier=f),g}function K(a){return a.lineSpace.offsetTop}function L(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function M(a){return hd(a.measure,fd("pre",null,null,"text-align: left")).appendChild(fd("span","x")).offsetLeft}function N(a,b,c,d,e){var f=-1;if(d=d||Q(a,b),d.crude){var g=d.left+c*d.width;return{left:g,right:g+d.width,top:d.top,bottom:d.bottom}}for(var h=c;;h+=f){var i=d[h];if(i)break;f<0&&0==h&&(f=1)}return e=h>c?"left":h<c?"right":e,"left"==e&&i.leftSide?i=i.leftSide:"right"==e&&i.rightSide&&(i=i.rightSide),{left:h<c?i.right:i.left,right:h>c?i.left:i.right,top:i.top,bottom:i.bottom}}function O(a,b){for(var c=a.display.measureLineCache,d=0;d<c.length;++d){var e=c[d];if(e.text==b.text&&e.markedSpans==b.markedSpans&&a.display.scroller.clientWidth==e.width&&e.classes==b.textClass+"|"+b.wrapClass)return e}}function P(a,b){var c=O(a,b);c&&(c.text=c.measure=c.markedSpans=null)}function Q(a,b){var c=O(a,b);if(c)return c.measure;var d=R(a,b),e=a.display.measureLineCache,f={text:b.text,width:a.display.scroller.clientWidth,markedSpans:b.markedSpans,measure:d,classes:b.textClass+"|"+b.wrapClass};return 16==e.length?e[++a.display.measureLineCachePos%16]=f:e.push(f),d}function R(a,b){function c(a){var b=a.top-o.top,c=a.bottom-o.top;c>r&&(c=r),b<0&&(b=0);for(var d=p.length-2;d>=0;d-=2){var e=p[d],f=p[d+1];if(!(e>c||f<b)&&(e<=b&&f>=c||b<=e&&c>=f||Math.min(c,f)-Math.max(b,e)>=c-b>>1)){p[d]=Math.min(b,e),p[d+1]=Math.max(c,f);break}}return d<0&&(d=p.length,p.push(b,c)),{left:a.left-o.left,right:a.right-o.left,top:d,bottom:null}}function d(a){a.bottom=p[a.top+1],a.top=p[a.top]}if(!a.options.lineWrapping&&b.text.length>=a.options.crudeMeasuringFrom)return S(a,b);var e=a.display,f=bd(b.text.length),g=cc(a,b,f,!0).pre;if(Ad&&!Bd&&!a.options.lineWrapping&&g.childNodes.length>100){for(var h=document.createDocumentFragment(),i=10,j=g.childNodes.length,k=0,l=Math.ceil(j/i);k<l;++k){for(var m=fd("div",null,null,"display: inline-block"),n=0;n<i&&j;++n)m.appendChild(g.firstChild),--j;h.appendChild(m)}g.appendChild(h)}hd(e.measure,g);var o=jd(e.lineDiv),p=[],q=bd(b.text.length),r=g.offsetHeight;Cd&&e.measure.first!=g&&hd(e.measure,g);for(var s,k=0;k<f.length;++k)if(s=f[k]){var t=s,u=null;if(/\bCodeMirror-widget\b/.test(s.className)&&s.getClientRects){1==s.firstChild.nodeType&&(t=s.firstChild);var v=t.getClientRects();v.length>1&&(u=q[k]=c(v[0]),u.rightSide=c(v[v.length-1]))}u||(u=q[k]=c(jd(t))),s.measureRight&&(u.right=jd(s.measureRight).left),s.leftSide&&(u.leftSide=c(jd(s.leftSide)))}gd(a.display.measure);for(var s,k=0;k<q.length;++k)(s=q[k])&&(d(s),s.leftSide&&d(s.leftSide),s.rightSide&&d(s.rightSide));return q}function S(a,b){var c=new pe(b.text.slice(0,100),null);b.textClass&&(c.textClass=b.textClass);var d=R(a,c),e=N(a,c,0,d,"left"),f=N(a,c,99,d,"right");return{crude:!0,top:e.top,left:e.left,bottom:e.bottom,width:(f.right-e.left)/100}}function T(a,b){var c=!1;if(b.markedSpans)for(var d=0;d<b.markedSpans;++d){var e=b.markedSpans[d];!e.collapsed||null!=e.to&&e.to!=b.text.length||(c=!0)}var f=!c&&O(a,b);if(f||b.text.length>=a.options.crudeMeasuringFrom)return N(a,b,b.text.length,f&&f.measure,"right").right;var g=cc(a,b,null,!0).pre,h=g.appendChild(md(a.display.measure));return hd(a.display.measure,g),jd(h).right-jd(a.display.lineDiv).left}function U(a){a.display.measureLineCache.length=a.display.measureLineCachePos=0,a.display.cachedCharWidth=a.display.cachedTextHeight=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function V(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function W(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function X(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Vb(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=tc(a,b);if("local"==d?g+=K(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=jd(a.display.lineSpace);g+=h.top+("window"==d?0:W());var i=h.left+("window"==d?0:V());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function Y(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=V(),e-=W();else if("local"==c||!c){var f=jd(a.display.sizer);d+=f.left,e+=f.top}var g=jd(a.display.lineSpace);return{left:d-g.left,top:e-g.top}}function Z(a,b,c,d,e){return d||(d=nc(a.doc,b.line)),X(a,d,N(a,d,b.ch,null,e),c)}function $(a,b,c,d,e){function f(b,f){var g=N(a,d,b,e,f?"right":"left");return f?g.left=g.right:g.right=g.left,X(a,d,g,c)}function g(a,b){var c=h[b],d=c.level%2;return a==od(c)&&b&&c.level<h[b-1].level?(c=h[--b],a=pd(c)-(c.level%2?0:1),d=!0):a==pd(c)&&b<h.length-1&&c.level<h[b+1].level&&(c=h[++b],a=od(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?f(a-1):f(a,d)}d=d||nc(a.doc,b.line),e||(e=Q(a,d));var h=uc(d),i=b.ch;if(!h)return f(i);var j=vd(h,i),k=g(i,j);return null!=Ke&&(k.other=g(i,Ke)),k}function _(a,b,c,d){var e=new Va(a,b);return e.xRel=d,c&&(e.outside=!0),e}function aa(a,b,c){var d=a.doc;if((c+=a.display.viewOffset)<0)return _(d.first,0,!0,-1);var e=sc(d,c),f=d.first+d.size-1;if(e>f)return _(d.first+d.size-1,nc(d,f).text.length,!0,1);for(b<0&&(b=0);;){var g=nc(d,e),h=ba(a,g,e,b,c),i=Ob(g),j=i&&i.find();if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=j.to.line}}function ba(a,b,c,d,e){function f(d){var e=$(a,Va(c,d),"line",b,j);return h=!0,g>e.bottom?e.left-i:g<e.top?e.left+i:(h=!1,e.left)}var g=e-tc(a,b),h=!1,i=2*a.display.wrapper.clientWidth,j=Q(a,b),k=uc(b),l=b.text.length,m=qd(b),n=rd(b),o=f(m),p=h,q=f(n),r=h;if(d>q)return _(c,n,r,1);for(;;){if(k?n==m||n==xd(b,m,1):n-m<=1){for(var s=d<o||d-o<=q-d?m:n,t=d-(s==m?o:q);Ce.test(b.text.charAt(s));)++s;return _(c,s,s==m?p:r,t<0?-1:t?1:0)}var u=Math.ceil(l/2),v=m+u;if(k){v=m;for(var w=0;w<u;++w)v=xd(b,v,1)}var x=f(v);x>d?(n=v,q=x,(r=h)&&(q+=1e3),l=u):(m=v,o=x,p=h,l-=u)}}function ca(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Rd){Rd=fd("pre");for(var b=0;b<49;++b)Rd.appendChild(document.createTextNode("x")),Rd.appendChild(fd("br"));Rd.appendChild(document.createTextNode("x"))}hd(a.measure,Rd);var c=Rd.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),gd(a.measure),c||1}function da(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=fd("span","x"),c=fd("pre",[b]);hd(a.measure,c);var d=b.offsetWidth;return d>2&&(a.cachedCharWidth=d),d||10}function ea(a){a.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Yd},xe++||(we=[])}function fa(a){var b=a.curOp,c=a.doc,d=a.display;if(a.curOp=null,b.updateMaxLine&&l(a),d.maxLineChanged&&!a.options.lineWrapping&&d.maxLine){var e=T(a,d.maxLine);d.sizer.style.minWidth=Math.max(0,e+3+ye)+"px",d.maxLineChanged=!1;var f=Math.max(0,d.sizer.offsetLeft+d.sizer.offsetWidth-d.scroller.clientWidth);f<c.scrollLeft&&!b.updateScrollPos&&Aa(a,Math.min(d.scroller.scrollLeft,f),!0)}var g,h;if(b.updateScrollPos)g=b.updateScrollPos;else if(b.selectionChanged&&d.scroller.clientHeight){var i=$(a,c.sel.head);g=jb(a,i.left,i.top,i.left,i.bottom)}(b.changes.length||b.forceUpdate||g&&null!=g.scrollTop)&&(h=t(a,b.changes,g&&g.scrollTop,b.forceUpdate),a.display.scroller.offsetHeight&&(a.doc.scrollTop=a.display.scroller.scrollTop)),!h&&b.selectionChanged&&C(a),b.updateScrollPos?(d.scroller.scrollTop=d.scrollbarV.scrollTop=c.scrollTop=g.scrollTop,d.scroller.scrollLeft=d.scrollbarH.scrollLeft=c.scrollLeft=g.scrollLeft,p(a),b.scrollToPos&&hb(a,$a(a.doc,b.scrollToPos.from),$a(a.doc,b.scrollToPos.to),b.scrollToPos.margin)):g&&gb(a),b.selectionChanged&&F(a),a.state.focused&&b.updateInput&&na(a,b.userSelChange);var j=b.maybeHiddenMarkers,k=b.maybeUnhiddenMarkers;if(j)for(var m=0;m<j.length;++m)j[m].lines.length||Pc(j[m],"hide");if(k)for(var m=0;m<k.length;++m)k[m].lines.length&&Pc(k[m],"unhide");var n;if(--xe||(n=we,we=null),b.textChanged&&Pc(a,"change",a,b.textChanged),b.cursorActivity&&Pc(a,"cursorActivity",a),n)for(var m=0;m<n.length;++m)n[m]()}function ga(a,b){return function(){var c=a||this,d=!c.curOp;d&&ea(c);try{var e=b.apply(c,arguments)}finally{d&&fa(c)}return e}}function ha(a){return function(){var b,c=this.cm&&!this.cm.curOp;c&&ea(this.cm);try{b=a.apply(this,arguments)}finally{c&&fa(this.cm)}return b}}function ia(a,b){var c,d=!a.curOp;d&&ea(a);try{c=b()}finally{d&&fa(a)}return c}function ja(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),a.curOp.changes.push({from:b,to:c,diff:d})}function ka(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){ma(a),a.state.focused&&ka(a)})}function la(a){function b(){ma(a)||c?(a.display.pollingFast=!1,ka(a)):(c=!0,a.display.poll.set(60,b))}var c=!1;a.display.pollingFast=!0,a.display.poll.set(20,b)}function ma(a){var b=a.display.input,c=a.display.prevInput,d=a.doc,e=d.sel;if(!a.state.focused||He(b)||pa(a)||a.state.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var f=b.value;if(f==c&&Wa(e.from,e.to))return!1;if(Ad&&!Cd&&a.display.inputHasSelection===f)return na(a,!0),!1;var g=!a.curOp;g&&ea(a),e.shift=!1;for(var h=0,i=Math.min(c.length,f.length);h<i&&c.charCodeAt(h)==f.charCodeAt(h);)++h;var j=e.from,k=e.to;h<c.length?j=Va(j.line,j.ch-(c.length-h)):a.state.overwrite&&Wa(j,k)&&!a.state.pasteIncoming&&(k=Va(k.line,Math.min(nc(d,k.line).text.length,k.ch+(f.length-h))));var l=a.curOp.updateInput,m={from:j,to:k,text:Ge(f.slice(h)),origin:a.state.pasteIncoming?"paste":"+input"};return Oa(a.doc,m,"end"),a.curOp.updateInput=l,Qc(a,"inputRead",a,m),f.length>1e3||f.indexOf("\n")>-1?b.value=a.display.prevInput="":a.display.prevInput=f,g&&fa(a),a.state.pasteIncoming=!1,!0}function na(a,b){var c,d,e=a.doc;if(Wa(e.sel.from,e.sel.to))b&&(a.display.prevInput=a.display.input.value="",Ad&&!Cd&&(a.display.inputHasSelection=null));else{a.display.prevInput="",c=Ie&&(e.sel.to.line-e.sel.from.line>100||(d=a.getSelection()).length>1e3);var f=c?"-":d||a.getSelection();a.display.input.value=f,a.state.focused&&Zc(a.display.input),Ad&&!Cd&&(a.display.inputHasSelection=f)}a.display.inaccurateSelection=c}function oa(a){"nocursor"==a.options.readOnly||Nd&&document.activeElement==a.display.input||a.display.input.focus()}function pa(a){return a.options.readOnly||a.doc.cantEdit}function qa(a){function b(){a.state.focused&&setTimeout(cd(oa,a),0)}function c(){null==h&&(h=setTimeout(function(){h=null,g.cachedCharWidth=g.cachedTextHeight=Ee=null,U(a),ia(a,cd(ja,a))},100))}function d(){for(var a=g.wrapper.parentNode;a&&a!=document.body;a=a.parentNode);a?setTimeout(d,5e3):Oc(window,"resize",c)}function e(b){Rc(a,b)||a.options.onDragEvent&&a.options.onDragEvent(a,Gc(b))||Kc(b)}function f(){g.inaccurateSelection&&(g.prevInput="",g.inaccurateSelection=!1,g.input.value=a.getSelection(),Zc(g.input))}var g=a.display;Nc(g.scroller,"mousedown",ga(a,ta)),Ad?Nc(g.scroller,"dblclick",ga(a,function(b){if(!Rc(a,b)){var c=sa(a,b);if(c&&!wa(a,b)&&!ra(a.display,b)){Hc(b);var d=qb(nc(a.doc,c.line).text,c);bb(a.doc,d.from,d.to)}}})):Nc(g.scroller,"dblclick",function(b){Rc(a,b)||Hc(b)}),Nc(g.lineSpace,"selectstart",function(a){ra(g,a)||Hc(a)}),Vd||Nc(g.scroller,"contextmenu",function(b){Ka(a,b)}),Nc(g.scroller,"scroll",function(){g.scroller.clientHeight&&(za(a,g.scroller.scrollTop),Aa(a,g.scroller.scrollLeft,!0),Pc(a,"scroll",a))}),Nc(g.scrollbarV,"scroll",function(){g.scroller.clientHeight&&za(a,g.scrollbarV.scrollTop)}),Nc(g.scrollbarH,"scroll",function(){g.scroller.clientHeight&&Aa(a,g.scrollbarH.scrollLeft)}),Nc(g.scroller,"mousewheel",function(b){Ba(a,b)}),Nc(g.scroller,"DOMMouseScroll",function(b){Ba(a,b)}),Nc(g.scrollbarH,"mousedown",b),Nc(g.scrollbarV,"mousedown",b),Nc(g.wrapper,"scroll",function(){g.wrapper.scrollTop=g.wrapper.scrollLeft=0});var h;Nc(window,"resize",c),setTimeout(d,5e3),Nc(g.input,"keyup",ga(a,function(b){Rc(a,b)||a.options.onKeyEvent&&a.options.onKeyEvent(a,Gc(b))||16==b.keyCode&&(a.doc.sel.shift=!1)})),Nc(g.input,"input",function(){Ad&&!Cd&&a.display.inputHasSelection&&(a.display.inputHasSelection=null),la(a)}),Nc(g.input,"keydown",ga(a,Ga)),Nc(g.input,"keypress",ga(a,Ha)),Nc(g.input,"focus",cd(Ia,a)),Nc(g.input,"blur",cd(Ja,a)),a.options.dragDrop&&(Nc(g.scroller,"dragstart",function(b){ya(a,b)}),Nc(g.scroller,"dragenter",e),Nc(g.scroller,"dragover",e),Nc(g.scroller,"drop",ga(a,xa))),Nc(g.scroller,"paste",function(b){ra(g,b)||(oa(a),la(a))}),Nc(g.input,"paste",function(){if(Dd&&!a.state.fakedLastChar&&!(new Date-a.state.lastMiddleDown<200)){var b=g.input.selectionStart,c=g.input.selectionEnd;g.input.value+="$",g.input.selectionStart=b,g.input.selectionEnd=c,a.state.fakedLastChar=!0}a.state.pasteIncoming=!0,la(a)}),Nc(g.input,"cut",f),Nc(g.input,"copy",f),Id&&Nc(g.sizer,"mouseup",function(){document.activeElement==g.input&&g.input.blur(),oa(a)})}function ra(a,b){for(var c=Lc(b);c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function sa(a,b,c){var d=a.display;if(!c){var e=Lc(b);if(e==d.scrollbarH||e==d.scrollbarH.firstChild||e==d.scrollbarV||e==d.scrollbarV.firstChild||e==d.scrollbarFiller||e==d.gutterFiller)return null}var f,g,h=jd(d.lineSpace);try{f=b.clientX,g=b.clientY}catch(b){return null}return aa(a,f-h.left,g-h.top)}function ta(a){function b(a){if(!Wa(r,a)){if(r=a,"single"==k)return void bb(e.doc,$a(g,i),a);if(p=$a(g,p),q=$a(g,q),"double"==k){var b=qb(nc(g,a.line).text,a);Xa(a,p)?bb(e.doc,b.from,q):bb(e.doc,p,b.to)}else"triple"==k&&(Xa(a,p)?bb(e.doc,q,$a(g,Va(a.line,0))):bb(e.doc,p,$a(g,Va(a.line+1,0))))}}function c(a){var d=++t,h=sa(e,a,!0);if(h)if(Wa(h,m)){var i=a.clientY<s.top?-20:a.clientY>s.bottom?20:0;i&&setTimeout(ga(e,function(){t==d&&(f.scroller.scrollTop+=i,c(a))}),50)}else{e.state.focused||Ia(e),m=h,b(h);var j=o(f,g);(h.line>=j.to||h.line<j.from)&&setTimeout(ga(e,function(){t==d&&c(a)}),150)}}function d(a){t=1/0,Hc(a),oa(e),Oc(document,"mousemove",u),Oc(document,"mouseup",v)}if(!Rc(this,a)){var e=this,f=e.display,g=e.doc,h=g.sel;if(h.shift=a.shiftKey,ra(f,a))return void(Dd||(f.scroller.draggable=!1,setTimeout(function(){f.scroller.draggable=!0},100)));if(!wa(e,a)){var i=sa(e,a);switch(Mc(a)){case 3:return void(Vd&&Ka.call(e,e,a));case 2:return Dd&&(e.state.lastMiddleDown=+new Date),i&&bb(e.doc,i),setTimeout(cd(oa,e),20),void Hc(a)}if(!i)return void(Lc(a)==f.scroller&&Hc(a));e.state.focused||Ia(e);var j=+new Date,k="single";if(Td&&Td.time>j-400&&Wa(Td.pos,i))k="triple",Hc(a),setTimeout(cd(oa,e),20),rb(e,i.line);else if(Sd&&Sd.time>j-400&&Wa(Sd.pos,i)){k="double",Td={time:j,pos:i},Hc(a);var l=qb(nc(g,i.line).text,i);bb(e.doc,l.from,l.to)}else Sd={time:j,pos:i};var m=i;if(e.options.dragDrop&&De&&!pa(e)&&!Wa(h.from,h.to)&&!Xa(i,h.from)&&!Xa(h.to,i)&&"single"==k){var n=ga(e,function(b){Dd&&(f.scroller.draggable=!1),e.state.draggingText=!1,Oc(document,"mouseup",n),Oc(f.scroller,"drop",n),Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)<10&&(Hc(b),bb(e.doc,i),oa(e))});return Dd&&(f.scroller.draggable=!0),e.state.draggingText=n,f.scroller.dragDrop&&f.scroller.dragDrop(),Nc(document,"mouseup",n),void Nc(f.scroller,"drop",n)}Hc(a),"single"==k&&bb(e.doc,$a(g,i));var p=h.from,q=h.to,r=i,s=jd(f.wrapper),t=0,u=ga(e,function(a){Ad||Mc(a)?c(a):d(a)}),v=ga(e,d);Nc(document,"mousemove",u),Nc(document,"mouseup",v)}}}function ua(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(jd(a.display.gutters).right))return!1;d&&Hc(b);var h=a.display,i=jd(h.lineDiv);if(g>i.bottom||!Tc(a,c))return Jc(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&jd(k).right>=f){return e(a,c,a,sc(a.doc,g),a.options.gutters[j],b),Jc(b)}}}function va(a,b){return!!Tc(a,"gutterContextMenu")&&ua(a,b,"gutterContextMenu",!1,Pc)}function wa(a,b){return ua(a,b,"gutterClick",!0,Qc)}function xa(a){var b=this;if(!(Rc(b,a)||ra(b.display,a)||b.options.onDragEvent&&b.options.onDragEvent(b,Gc(a)))){Hc(a),Ad&&(Zd=+new Date);var c=sa(b,a,!0),d=a.dataTransfer.files;if(c&&!pa(b))if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){var h=new FileReader;h.onload=function(){f[d]=h.result,++g==e&&(c=$a(b.doc,c),Oa(b.doc,{from:c,to:c,text:Ge(f.join("\n")),origin:"paste"},"around"))},h.readAsText(a)},i=0;i<e;++i)h(d[i],i);else{if(b.state.draggingText&&!Xa(c,b.doc.sel.from)&&!Xa(b.doc.sel.to,c))return b.state.draggingText(a),void setTimeout(cd(oa,b),20);try{var f=a.dataTransfer.getData("Text");if(f){var j=b.doc.sel.from,k=b.doc.sel.to;db(b.doc,c,c),b.state.draggingText&&Ua(b.doc,"",j,k,"paste"),b.replaceSelection(f,null,"paste"),oa(b),Ia(b)}}catch(a){}}}}function ya(a,b){if(Ad&&(!a.state.draggingText||+new Date-Zd<100))return void Kc(b);if(!Rc(a,b)&&!ra(a.display,b)){var c=a.getSelection();if(b.dataTransfer.setData("Text",c),b.dataTransfer.setDragImage&&!Hd){var d=fd("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Gd&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),b.dataTransfer.setDragImage(d,0,0),Gd&&d.parentNode.removeChild(d)}}}function za(a,b){Math.abs(a.doc.scrollTop-b)<2||(a.doc.scrollTop=b,zd||t(a,[],b),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),zd&&t(a,[]),G(a,100))}function Aa(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,p(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function Ba(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail),null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&Od&&Dd)for(var g=b.target;g!=f;g=g.parentNode)if(g.lineObj){a.display.currentWheelTarget=g;break}if(c&&!zd&&!Gd&&null!=_d)return d&&za(a,Math.max(0,Math.min(f.scrollTop+d*_d,f.scrollHeight-f.clientHeight))),Aa(a,Math.max(0,Math.min(f.scrollLeft+c*_d,f.scrollWidth-f.clientWidth))),Hc(b),void(e.wheelStartX=null);if(d&&null!=_d){var h=d*_d,i=a.doc.scrollTop,j=i+e.wrapper.clientHeight;h<0?i=Math.max(0,i+h-50):j=Math.min(a.doc.height,j+h+50),t(a,[],{top:i,bottom:j})}$d<20&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,
e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,c=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null,c&&(_d=(_d*$d+c)/($d+1),++$d)}},200)):(e.wheelDX+=c,e.wheelDY+=d))}}function Ca(a,b,c){if("string"==typeof b&&!(b=me[b]))return!1;a.display.pollingFast&&ma(a)&&(a.display.pollingFast=!1);var d=a.doc,e=d.sel.shift,f=!1;try{pa(a)&&(a.state.suppressEdits=!0),c&&(d.sel.shift=!1),f=b(a)!=ze}finally{d.sel.shift=e,a.state.suppressEdits=!1}return f}function Da(a){var b=a.state.keyMaps.slice(0);return a.options.extraKeys&&b.push(a.options.extraKeys),b.push(a.options.keyMap),b}function Ea(a,b){var c=vb(a.options.keyMap),d=c.auto;clearTimeout(ae),d&&!xb(b)&&(ae=setTimeout(function(){vb(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,g(a))},50));var e=yb(b,!0),f=!1;if(!e)return!1;var h=Da(a);return f=b.shiftKey?wb("Shift-"+e,h,function(b){return Ca(a,b,!0)})||wb(e,h,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return Ca(a,b)}):wb(e,h,function(b){return Ca(a,b)}),f&&(Hc(b),F(a),Cd&&(b.oldKeyCode=b.keyCode,b.keyCode=0),Qc(a,"keyHandled",a,e,b)),f}function Fa(a,b,c){var d=wb("'"+c+"'",Da(a),function(b){return Ca(a,b,!0)});return d&&(Hc(b),F(a),Qc(a,"keyHandled",a,"'"+c+"'",b)),d}function Ga(a){var b=this;if(b.state.focused||Ia(b),!(Rc(b,a)||b.options.onKeyEvent&&b.options.onKeyEvent(b,Gc(a)))){Ad&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.doc.sel.shift=16==c||a.shiftKey;var d=Ea(b,a);Gd&&(ce=d?c:null,!d&&88==c&&!Ie&&(Od?a.metaKey:a.ctrlKey)&&b.replaceSelection(""))}}function Ha(a){var b=this;if(!(Rc(b,a)||b.options.onKeyEvent&&b.options.onKeyEvent(b,Gc(a)))){var c=a.keyCode,d=a.charCode;if(Gd&&c==ce)return ce=null,void Hc(a);if(!(Gd&&(!a.which||a.which<10)||Id)||!Ea(b,a)){var e=String.fromCharCode(null==d?c:d);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!pa(this)&&this.doc.mode.electricChars.indexOf(e)>-1&&setTimeout(ga(b,function(){mb(b,b.doc.sel.to.line,"smart")}),75),Fa(b,a,e)||(Ad&&!Cd&&(b.display.inputHasSelection=null),la(b))}}}function Ia(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(Pc(a,"focus",a),a.state.focused=!0,-1==a.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(a.display.wrapper.className+=" CodeMirror-focused"),a.curOp||(na(a,!0),Dd&&setTimeout(cd(na,a,!0),0))),ka(a),F(a))}function Ja(a){a.state.focused&&(Pc(a,"blur",a),a.state.focused=!1,a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.doc.sel.shift=!1)},150)}function Ka(a,b){function c(){if(null!=e.input.selectionStart){var a=e.input.value="\u200b"+(Wa(f.from,f.to)?"":e.input.value);e.prevInput="\u200b",e.input.selectionStart=1,e.input.selectionEnd=a.length}}function d(){if(e.inputDiv.style.position="relative",e.input.style.cssText=i,Cd&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=h),ka(a),null!=e.input.selectionStart){Ad&&!Cd||c(),clearTimeout(be);var b=0,d=function(){" "==e.prevInput&&0==e.input.selectionStart?ga(a,me.selectAll)(a):b++<10?be=setTimeout(d,500):na(a)};be=setTimeout(d,200)}}if(!Rc(a,b,"contextmenu")){var e=a.display,f=a.doc.sel;if(!ra(e,b)&&!va(a,b)){var g=sa(a,b),h=e.scroller.scrollTop;if(g&&!Gd){a.options.resetSelectionOnContextMenu&&(Wa(f.from,f.to)||Xa(g,f.from)||!Xa(g,f.to))&&ga(a,db)(a.doc,g,g);var i=e.input.style.cssText;if(e.inputDiv.style.position="absolute",e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",oa(a),na(a,!0),Wa(f.from,f.to)&&(e.input.value=e.prevInput=" "),Ad&&!Cd&&c(),Vd){Kc(b);var j=function(){Oc(window,"mouseup",j),setTimeout(d,20)};Nc(window,"mouseup",j)}else setTimeout(d,50)}}}}function La(a,b,c){if(!Xa(b.from,c))return $a(a,c);var d=b.text.length-1-(b.to.line-b.from.line);if(c.line>b.to.line+d){var e=c.line-d,f=a.first+a.size-1;return e>f?Va(f,nc(a,f).text.length):_a(c,nc(a,e).text.length)}if(c.line==b.to.line+d)return _a(c,Yc(b.text).length+(1==b.text.length?b.from.ch:0)+nc(a,b.to.line).text.length-b.to.ch);var g=c.line-b.from.line;return _a(c,b.text[g].length+(g?0:b.from.ch))}function Ma(a,b,c){if(c&&"object"==typeof c)return{anchor:La(a,b,c.anchor),head:La(a,b,c.head)};if("start"==c)return{anchor:b.from,head:b.from};var d=de(b);if("around"==c)return{anchor:b.from,head:d};if("end"==c)return{anchor:d,head:d};var e=function(a){if(Xa(a,b.from))return a;if(!Xa(b.to,a))return d;var c=a.line+b.text.length-(b.to.line-b.from.line)-1,e=a.ch;return a.line==b.to.line&&(e+=d.ch-b.to.ch),Va(c,e)};return{anchor:e(a.sel.anchor),head:e(a.sel.head)}}function Na(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=$a(a,b)),c&&(this.to=$a(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),Pc(a,"beforeChange",a,d),a.cm&&Pc(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Oa(a,b,c,d){if(a.cm){if(!a.cm.curOp)return ga(a.cm,Oa)(a,b,c,d);if(a.cm.state.suppressEdits)return}if(!(Tc(a,"beforeChange")||a.cm&&Tc(a.cm,"beforeChange"))||(b=Na(a,b,!0))){var e=Wd&&!d&&Lb(a,b.from,b.to);if(e){for(var f=e.length-1;f>=1;--f)Pa(a,{from:e[f].from,to:e[f].to,text:[""]});e.length&&Pa(a,{from:e[0].from,to:e[0].to,text:b.text},c)}else Pa(a,b,c)}}function Pa(a,b,c){if(1!=b.text.length||""!=b.text[0]||!Wa(b.from,b.to)){var d=Ma(a,b,c);yc(a,b,d,a.cm?a.cm.curOp.id:NaN),Sa(a,b,d,Jb(a,b));var e=[];lc(a,function(a,c){c||-1!=$c(e,a.history)||(Ec(a.history,b),e.push(a.history)),Sa(a,b,null,Jb(a,b))})}}function Qa(a,b){if(!a.cm||!a.cm.state.suppressEdits){var c=a.history,d=("undo"==b?c.done:c.undone).pop();if(d){var e={changes:[],anchorBefore:d.anchorAfter,headBefore:d.headAfter,anchorAfter:d.anchorBefore,headAfter:d.headBefore,generation:c.generation};("undo"==b?c.undone:c.done).push(e),c.generation=d.generation||++c.maxGeneration;for(var f=Tc(a,"beforeChange")||a.cm&&Tc(a.cm,"beforeChange"),g=d.changes.length-1;g>=0;--g){var h=d.changes[g];if(h.origin=b,f&&!Na(a,h,!1))return void(("undo"==b?c.done:c.undone).length=0);e.changes.push(xc(a,h));var i=g?Ma(a,h,null):{anchor:d.anchorBefore,head:d.headBefore};Sa(a,h,i,Kb(a,h));var j=[];lc(a,function(a,b){b||-1!=$c(j,a.history)||(Ec(a.history,h),j.push(a.history)),Sa(a,h,null,Kb(a,h))})}}}}function Ra(a,b){function c(a){return Va(a.line+b,a.ch)}a.first+=b,a.cm&&ja(a.cm,a.first,a.first,b),a.sel.head=c(a.sel.head),a.sel.anchor=c(a.sel.anchor),a.sel.from=c(a.sel.from),a.sel.to=c(a.sel.to)}function Sa(a,b,c,d){if(a.cm&&!a.cm.curOp)return ga(a.cm,Sa)(a,b,c,d);if(b.to.line<a.first)return void Ra(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Ra(a,e),b={from:Va(a.first,0),to:Va(b.to.line+e,b.to.ch),text:[Yc(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:Va(f,nc(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=oc(a,b.from,b.to),c||(c=Ma(a,b,null)),a.cm?Ta(a.cm,b,d,c):ic(a,b,d,c)}}function Ta(a,b,c,d){var f=a.doc,g=a.display,h=b.from,i=b.to,j=!1,l=h.line;a.options.lineWrapping||(l=rc(Pb(f,nc(f,h.line))),f.iter(l,i.line+1,function(a){if(a==g.maxLine)return j=!0,!0})),Xa(f.sel.head,b.from)||Xa(b.to,f.sel.head)||(a.curOp.cursorActivity=!0),ic(f,b,c,d,e(a)),a.options.lineWrapping||(f.iter(l,h.line+b.text.length,function(a){var b=k(f,a);b>g.maxLineLength&&(g.maxLine=a,g.maxLineLength=b,g.maxLineChanged=!0,j=!1)}),j&&(a.curOp.updateMaxLine=!0)),f.frontier=Math.min(f.frontier,h.line),G(a,400);var m=b.text.length-(i.line-h.line)-1;if(ja(a,h.line,i.line+1,m),Tc(a,"change")){var n={from:h,to:i,text:b.text,removed:b.removed,origin:b.origin};if(a.curOp.textChanged){for(var o=a.curOp.textChanged;o.next;o=o.next);o.next=n}else a.curOp.textChanged=n}}function Ua(a,b,c,d,e){if(d||(d=c),Xa(d,c)){var f=d;d=c,c=f}"string"==typeof b&&(b=Ge(b)),Oa(a,{from:c,to:d,text:b,origin:e},null)}function Va(a,b){if(!(this instanceof Va))return new Va(a,b);this.line=a,this.ch=b}function Wa(a,b){return a.line==b.line&&a.ch==b.ch}function Xa(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function Ya(a){return Va(a.line,a.ch)}function Za(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function $a(a,b){if(b.line<a.first)return Va(a.first,0);var c=a.first+a.size-1;return b.line>c?Va(c,nc(a,c).text.length):_a(b,nc(a,b.line).text.length)}function _a(a,b){var c=a.ch;return null==c||c>b?Va(a.line,b):c<0?Va(a.line,0):a}function ab(a,b){return b>=a.first&&b<a.first+a.size}function bb(a,b,c,d){if(a.sel.shift||a.sel.extend){var e=a.sel.anchor;if(c){var f=Xa(b,e);f!=Xa(c,e)?(e=b,b=c):f!=Xa(b,c)&&(b=c)}db(a,e,b,d)}else db(a,b,c||b,d);a.cm&&(a.cm.curOp.userSelChange=!0)}function cb(a,b,c){var d={anchor:b,head:c};return Pc(a,"beforeSelectionChange",a,d),a.cm&&Pc(a.cm,"beforeSelectionChange",a.cm,d),d.anchor=$a(a,d.anchor),d.head=$a(a,d.head),d}function db(a,b,c,d,e){if(!e&&Tc(a,"beforeSelectionChange")||a.cm&&Tc(a.cm,"beforeSelectionChange")){var f=cb(a,b,c);c=f.head,b=f.anchor}var g=a.sel;if(g.goalColumn=null,null==d&&(d=Xa(c,g.head)?-1:1),!e&&Wa(b,g.anchor)||(b=fb(a,b,d,"push"!=e)),!e&&Wa(c,g.head)||(c=fb(a,c,d,"push"!=e)),!Wa(g.anchor,b)||!Wa(g.head,c)){g.anchor=b,g.head=c;var h=Xa(c,b);g.from=h?c:b,g.to=h?b:c,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=a.cm.curOp.cursorActivity=!0),Qc(a,"cursorActivity",a)}}function eb(a){db(a.doc,a.doc.sel.from,a.doc.sel.to,null,"push")}function fb(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=nc(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&(Pc(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find()[g<0?"from":"to"];if(Wa(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?$a(a,Va(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?Va(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,Va(a.first,0)):fb(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function gb(a){var b=hb(a,a.doc.sel.head,null,a.options.cursorScrollMargin);if(a.state.focused){var c=a.display,d=jd(c.sizer),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!Ld){var f="none"==c.cursor.style.display;f&&(c.cursor.style.display="",c.cursor.style.left=b.left+"px",c.cursor.style.top=b.top-c.viewOffset+"px"),c.cursor.scrollIntoView(e),f&&(c.cursor.style.display="none")}}}function hb(a,b,c,d){for(null==d&&(d=0);;){var e=!1,f=$(a,b),g=c&&c!=b?$(a,c):f,h=jb(a,Math.min(f.left,g.left),Math.min(f.top,g.top)-d,Math.max(f.left,g.left),Math.max(f.bottom,g.bottom)+d),i=a.doc.scrollTop,j=a.doc.scrollLeft;if(null!=h.scrollTop&&(za(a,h.scrollTop),Math.abs(a.doc.scrollTop-i)>1&&(e=!0)),null!=h.scrollLeft&&(Aa(a,h.scrollLeft),Math.abs(a.doc.scrollLeft-j)>1&&(e=!0)),!e)return f}}function ib(a,b,c,d,e){var f=jb(a,b,c,d,e);null!=f.scrollTop&&za(a,f.scrollTop),null!=f.scrollLeft&&Aa(a,f.scrollLeft)}function jb(a,b,c,d,e){var f=a.display,g=ca(a.display);c<0&&(c=0);var h=f.scroller.clientHeight-ye,i=f.scroller.scrollTop,j={},k=a.doc.height+L(f),l=c<g,m=e>k-g;if(c<i)j.scrollTop=l?0:c;else if(e>i+h){var n=Math.min(c,(m?k:e)-h);n!=i&&(j.scrollTop=n)}var o=f.scroller.clientWidth-ye,p=f.scroller.scrollLeft;b+=f.gutters.offsetWidth,d+=f.gutters.offsetWidth;var q=f.gutters.offsetWidth,r=b<q+10;return b<p+q||r?(r&&(b=0),j.scrollLeft=Math.max(0,b-10-q)):d>o+p-3&&(j.scrollLeft=d+10-o),j}function kb(a,b,c){a.curOp.updateScrollPos={scrollLeft:null==b?a.doc.scrollLeft:b,scrollTop:null==c?a.doc.scrollTop:c}}function lb(a,b,c){var d=a.curOp.updateScrollPos||(a.curOp.updateScrollPos={scrollLeft:a.doc.scrollLeft,scrollTop:a.doc.scrollTop}),e=a.display.scroller;d.scrollTop=Math.max(0,Math.min(e.scrollHeight-e.clientHeight,d.scrollTop+c)),d.scrollLeft=Math.max(0,Math.min(e.scrollWidth-e.clientWidth,d.scrollLeft+b))}function mb(a,b,c,d){var e=a.doc;if(null==c&&(c="add"),"smart"==c)if(a.doc.mode.indent)var f=J(a,b);else c="prev";var g,h=a.options.tabSize,i=nc(e,b),j=Wc(i.text,null,h),k=i.text.match(/^\s*/)[0];if("smart"==c&&(g=a.doc.mode.indent(f,i.text.slice(k.length),i.text))==ze){if(!d)return;c="prev"}"prev"==c?g=b>e.first?Wc(nc(e,b-1).text,null,h):0:"add"==c?g=j+a.options.indentUnit:"subtract"==c?g=j-a.options.indentUnit:"number"==typeof c&&(g=j+c),g=Math.max(0,g);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(g/h);n;--n)m+=h,l+="\t";m<g&&(l+=Xc(g-m)),l!=k&&Ua(a.doc,l,Va(b,0),Va(b,k.length),"+input"),i.stateAfter=null}function nb(a,b,c){var d=b,e=b,f=a.doc;return"number"==typeof b?e=nc(f,Za(f,b)):d=rc(b),null==d?null:c(e,d)?(ja(a,d,d+1),e):null}function ob(a,b,c,d,e){function f(){var b=h+c;return b<a.first||b>=a.first+a.size?l=!1:(h=b,k=nc(a,b))}function g(a){var b=(e?xd:yd)(k,i,c,!0);if(null==b){if(a||!f())return l=!1;i=e?(c<0?rd:qd)(k):c<0?k.text.length:0}else i=b;return!0}var h=b.line,i=b.ch,j=c,k=nc(a,h),l=!0;if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=!0;!(c<0)||g(!o);o=!1){var p=k.text.charAt(i)||"\n",q=dd(p)?"w":n?/\s/.test(p)?null:"p":null;if(m&&m!=q){c<0&&(c=1,g());break}if(q&&(m=q),c>0&&!g(!o))break}var r=fb(a,Va(h,i),j,!0);return l||(r.hitSide=!0),r}function pb(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(c<0?1.5:.5)*ca(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=aa(a,g,e);if(!i.outside)break;if(c<0?e<=0:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}function qb(a,b){var c=b.ch,d=b.ch;if(a){(b.xRel<0||d==a.length)&&c?--c:++d;for(var e=a.charAt(c),f=dd(e)?dd:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!dd(a)};c>0&&f(a.charAt(c-1));)--c;for(;d<a.length&&f(a.charAt(d));)++d}return{from:Va(b.line,c),to:Va(b.line,d)}}function rb(a,b){bb(a.doc,Va(b,0),$a(a.doc,Va(b+1,0)))}function sb(b,c,d,e){a.defaults[b]=c,d&&(ee[b]=e?function(a,b,c){c!=ge&&d(a,b,c)}:d)}function tb(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function ub(a,b,c){return!a.startState||a.startState(b,c)}function vb(a){return"string"==typeof a?ne[a]:a}function wb(a,b,c){function d(b){b=vb(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(null==f)return!1;if("[object Array]"!=Object.prototype.toString.call(f))return d(f);for(var g=0,h=f.length;g<h;++g){var i=d(f[g]);if(i)return i}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}}function xb(a){var b=Je[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function yb(a,b){if(Gd&&34==a.keyCode&&a.char)return!1;var c=Je[a.keyCode];return null!=c&&!a.altGraphKey&&(a.altKey&&(c="Alt-"+c),(Ud?a.metaKey:a.ctrlKey)&&(c="Ctrl-"+c),(Ud?a.ctrlKey:a.metaKey)&&(c="Cmd-"+c),!b&&a.shiftKey&&(c="Shift-"+c),c)}function zb(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0}function Ab(a,b){this.lines=[],this.type=b,this.doc=a}function Bb(a,b,c,d,e){if(d&&d.shared)return Db(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return ga(a.cm,Bb)(a,b,c,d,e);var f=new Ab(a,e);if("range"==e&&!Xa(b,c))return f;d&&ad(d,f),f.replacedWith&&(f.collapsed=!0,f.replacedWith=fd("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.replacedWith.ignoreEvents=!0)),f.collapsed&&(Xd=!0),f.addToHistory&&yc(a,{from:b,to:c,origin:"markText"},{head:a.sel.head,anchor:a.sel.anchor},NaN);var g,h,i,j=b.line,k=0,l=a.cm;if(a.iter(j,c.line+1,function(d){l&&f.collapsed&&!l.options.lineWrapping&&Pb(a,d)==l.display.maxLine&&(i=!0);var e={from:null,to:null,marker:f};k+=d.text.length,j==b.line&&(e.from=b.ch,k-=b.ch),j==c.line&&(e.to=c.ch,k-=d.text.length-c.ch),f.collapsed&&(j==c.line&&(h=Mb(d,c.ch)),j==b.line?g=Mb(d,b.ch):qc(d,0)),Gb(d,e),++j}),f.collapsed&&a.iter(b.line,c.line+1,function(b){Qb(a,b)&&qc(b,0)}),f.clearOnEnter&&Nc(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(Wd=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed){if(g!=h)throw new Error("Inserting collapsed marker overlapping an existing one");f.size=k,f.atomic=!0}return l&&(i&&(l.curOp.updateMaxLine=!0),(f.className||f.title||f.startStyle||f.endStyle||f.collapsed)&&ja(l,b.line,c.line+1),f.atomic&&eb(l)),f}function Cb(a,b){this.markers=a,this.primary=b;for(var c=0,d=this;c<a.length;++c)a[c].parent=this,Nc(a[c],"clear",function(){d.clear()})}function Db(a,b,c,d,e){d=ad(d),d.shared=!1;var f=[Bb(a,b,c,d,e)],g=f[0],h=d.replacedWith;return lc(a,function(a){h&&(d.replacedWith=h.cloneNode(!0)),f.push(Bb(a,$a(a,b),$a(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=Yc(f)}),new Cb(f,g)}function Eb(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Fb(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Gb(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function Hb(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||"bookmark"==g.type&&f.from==b&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push({from:f.from,to:i?null:f.to,marker:g})}}return d}function Ib(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||"bookmark"==g.type&&f.from==b&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push({from:i?null:f.from-b,to:null==f.to?null:f.to-b,marker:g})}}return d}function Jb(a,b){var c=ab(a,b.from.line)&&nc(a,b.from.line).markedSpans,d=ab(a,b.to.line)&&nc(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=Wa(b.from,b.to),h=Hb(c,e,g),i=Ib(d,f,g),j=1==b.text.length,k=Yc(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=Eb(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=Eb(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}if(j&&h){for(var l=0;l<h.length;++l)null!=h[l].from&&h[l].from==h[l].to&&"bookmark"!=h[l].marker.type&&h.splice(l--,1);h.length||(h=null)}var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push({from:null,to:null,marker:h[l].marker});for(var l=0;l<q;++l)o.push(p);o.push(i)}return o}function Kb(a,b){var c=Ac(a,b),d=Jb(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function Lb(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=$c(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(),i=0;i<e.length;++i){var j=e[i];if(!Xa(j.to,h.from)&&!Xa(h.to,j.from)){var k=[i,1];(Xa(j.from,h.from)||!g.inclusiveLeft&&Wa(j.from,h.from))&&k.push({from:j.from,to:h.from}),(Xa(h.to,j.to)||!g.inclusiveRight&&Wa(j.to,h.to))&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function Mb(a,b){var c,d=Xd&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&(null==e.from||e.from<b)&&(null==e.to||e.to>b)&&(!c||c.width<e.marker.width)&&(c=e.marker);return c}function Nb(a){return Mb(a,-1)}function Ob(a){return Mb(a,a.text.length+1)}function Pb(a,b){for(var c;c=Nb(b);)b=nc(a,c.find().from.line);return b}function Qb(a,b){var c=Xd&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.replacedWith&&0==d.from&&d.marker.inclusiveLeft&&Rb(a,b,d))return!0}}function Rb(a,b,c){if(null==c.to){var d=c.marker.find().to,e=nc(a,d.line);return Rb(a,e,Eb(e.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var f,g=0;g<b.markedSpans.length;++g)if(f=b.markedSpans[g],f.marker.collapsed&&!f.marker.replacedWith&&f.from==c.to&&(f.marker.inclusiveLeft||c.marker.inclusiveRight)&&Rb(a,b,f))return!0}function Sb(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Tb(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Ub(a){return function(){var b=!this.cm.curOp;b&&ea(this.cm);try{var c=a.apply(this,arguments)}finally{b&&fa(this.cm)}return c}}function Vb(a){return null!=a.height?a.height:(a.node.parentNode&&1==a.node.parentNode.nodeType||hd(a.cm.display.measure,fd("div",[a.node],null,"position: relative")),a.height=a.node.offsetHeight)}function Wb(a,b,c,d){var e=new oe(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),nb(a,b,function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,!Qb(a.doc,b)||e.showIfHidden){var d=tc(a,b)<a.doc.scrollTop;qc(b,b.height+Vb(e)),d&&lb(a,0,e.height)}return!0}),e}function Xb(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Sb(a),Tb(a,c);var e=d?d(a):1;e!=a.height&&qc(a,e)}function Yb(a){a.parent=null,Sb(a)}function Zb(a,b,c,d,e){var f=c.flattenSpans;null==f&&(f=a.options.flattenSpans);var g,h=0,i=null,j=new zb(b,a.options.tabSize);for(""==b&&c.blankLine&&c.blankLine(d);!j.eol();)j.pos>a.options.maxHighlightLength?(f=!1,j.pos=b.length,g=null):g=c.token(j,d),f&&i==g||(h<j.start&&e(j.start,i),h=j.start,i=g),j.start=j.pos;for(;h<j.pos;){var k=Math.min(j.pos,h+5e4);e(k,i),h=k}}function $b(a,b,c){var d=[a.state.modeGen];Zb(a,b.text,a.doc.mode,c,function(a,b){d.push(a,b)});for(var e=0;e<a.state.overlays.length;++e){var f=a.state.overlays[e],g=1,h=0;Zb(a,b.text,f.mode,!0,function(a,b){for(var c=g;h<a;){var e=d[g];e>a&&d.splice(g,1,a,d[g+1],e),g+=2,h=Math.min(a,e)}if(b)if(f.opaque)d.splice(c,g-c,a,b),g=c+2;else for(;c<g;c+=2){var i=d[c+1];d[c+1]=i?i+" "+b:b}})}return d}function _b(a,b){return b.styles&&b.styles[0]==a.state.modeGen||(b.styles=$b(a,b,b.stateAfter=J(a,rc(b)))),b.styles}function ac(a,b,c){var d=a.doc.mode,e=new zb(b.text,a.options.tabSize);for(""==b.text&&d.blankLine&&d.blankLine(c);!e.eol()&&e.pos<=a.options.maxHighlightLength;)d.token(e,c),e.start=e.pos}function bc(a,b){if(!a)return null;for(;;){var c=a.match(/(?:^|\s)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return qe[a]||(qe[a]="cm-"+a.replace(/ +/g," cm-"))}function cc(a,b,c,d){for(var e,f=b,g=!0;e=Nb(f);)f=nc(a.doc,e.find().from.line);var h={pre:fd("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:a,copyWidgets:d};do{f.text&&(g=!1),h.measure=f==b&&c,h.pos=0,h.addToken=h.measure?ec:dc,(Ad||Dd)&&a.getOption("lineWrapping")&&(h.addToken=fc(h.addToken));var i=hc(f,h,_b(a,f));c&&f==b&&!h.measuredSomething&&(c[0]=h.pre.appendChild(md(a.display.measure)),h.measuredSomething=!0),i&&(f=nc(a.doc,i.to.line))}while(i);!c||h.measuredSomething||c[0]||(c[0]=h.pre.appendChild(g?fd("span","\xa0"):md(a.display.measure))),h.pre.firstChild||Qb(a.doc,b)||h.pre.appendChild(document.createTextNode("\xa0"));var j;if(c&&Ad&&(j=uc(f))){var k=j.length-1;j[k].from==j[k].to&&--k;var l=j[k],m=j[k-1];if(l.from+1==l.to&&m&&l.level<m.level){var n=c[h.pos-1];n&&n.parentNode.insertBefore(n.measureRight=md(a.display.measure),n.nextSibling)}}var o=h.textClass?h.textClass+" "+(b.textClass||""):b.textClass;return o&&(h.pre.className=o),Pc(a,"renderLine",a,b,h.pre),h}function dc(a,b,c,d,e,f){if(b){if(re.test(b))for(var g=document.createDocumentFragment(),h=0;;){re.lastIndex=h;var i=re.exec(b),j=i?i.index-h:b.length-h;if(j&&(g.appendChild(document.createTextNode(b.slice(h,h+j))),a.col+=j),!i)break;if(h+=j+1,"\t"==i[0]){var k=a.cm.options.tabSize,l=k-a.col%k;g.appendChild(fd("span",Xc(l),"cm-tab")),a.col+=l}else{var m=fd("span","\u2022","cm-invalidchar");m.title="\\u"+i[0].charCodeAt(0).toString(16),g.appendChild(m),a.col+=1}}else{a.col+=b.length;var g=document.createTextNode(b)}if(c||d||e||a.measure){var n=c||"";d&&(n+=d),e&&(n+=e);var m=fd("span",[g],n);return f&&(m.title=f),a.pre.appendChild(m)}a.pre.appendChild(g)}}function ec(a,b,c,d,e){for(var f=a.cm.options.lineWrapping,g=0;g<b.length;++g){var h=b.charAt(g),i=0==g;h>="\ud800"&&h<"\udbff"&&g<b.length-1?(h=b.slice(g,g+2),++g):g&&f&&kd(b,g)&&a.pre.appendChild(fd("wbr"));var j=a.measure[a.pos],k=a.measure[a.pos]=dc(a,h,c,i&&d,g==b.length-1&&e);j&&(k.leftSide=j.leftSide||j),Ad&&f&&" "==h&&g&&!/\s/.test(b.charAt(g-1))&&g<b.length-1&&!/\s/.test(b.charAt(g+1))&&(k.style.whiteSpace="normal"),a.pos+=h.length}b.length&&(a.measuredSomething=!0)}function fc(a){function b(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":"\xa0";return b+=" "}return function(c,d,e,f,g,h){return a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function gc(a,b,c,d){var e=!d&&c.replacedWith;if(e&&(a.copyWidgets&&(e=e.cloneNode(!0)),a.pre.appendChild(e),a.measure)){if(b)a.measure[a.pos]=e;else{var f=md(a.cm.display.measure);if("bookmark"!=c.type||c.insertLeft){if(a.measure[a.pos])return;a.measure[a.pos]=a.pre.insertBefore(f,e)}else a.measure[a.pos]=a.pre.appendChild(f)}a.measuredSomething=!0}a.pos+=b}function hc(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m=e.length,n=0,o=1,p="",q=0;;){if(q==n){h=i=j=k="",l=null,q=1/0;for(var r=[],s=0;s<d.length;++s){var t=d[s],u=t.marker;t.from<=n&&(null==t.to||t.to>n)?(null!=t.to&&q>t.to&&(q=t.to,i=""),u.className&&(h+=" "+u.className),u.startStyle&&t.from==n&&(j+=" "+u.startStyle),u.endStyle&&t.to==q&&(i+=" "+u.endStyle),u.title&&!k&&(k=u.title),u.collapsed&&(!l||l.marker.size<u.size)&&(l=t)):t.from>n&&q>t.from&&(q=t.from),"bookmark"==u.type&&t.from==n&&u.replacedWith&&r.push(u)}if(l&&(l.from||0)==n&&(gc(b,(null==l.to?m:l.to)-n,l.marker,null==l.from),null==l.to))return l.marker.find();if(!l&&r.length)for(var s=0;s<r.length;++s)gc(b,0,r[s])}if(n>=m)break;for(var v=Math.min(m,q);;){if(p){var w=n+p.length;if(!l){var x=w>v?p.slice(0,v-n):p;b.addToken(b,x,g?g+h:h,j,n+x.length==q?i:"",k)}if(w>=v){p=p.slice(v-n),n=v;break}n=w,j=""}p=e.slice(f,f=c[o++]),g=bc(c[o++],b)}}else for(var o=1;o<c.length;o+=2)b.addToken(b,e.slice(f,f=c[o]),bc(c[o+1],b))}function ic(a,b,c,d,e){function f(a){return c?c[a]:null}function g(a,c,d){Xb(a,c,d,e),Qc(a,"change",a,b)}var h=b.from,i=b.to,j=b.text,k=nc(a,h.line),l=nc(a,i.line),m=Yc(j),n=f(j.length-1),o=i.line-h.line;if(0==h.ch&&0==i.ch&&""==m){for(var p=0,q=j.length-1,r=[];p<q;++p)r.push(new pe(j[p],f(p),e));g(l,l.text,n),o&&a.remove(h.line,o),r.length&&a.insert(h.line,r)}else if(k==l)if(1==j.length)g(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{for(var r=[],p=1,q=j.length-1;p<q;++p)r.push(new pe(j[p],f(p),e));r.push(new pe(m+k.text.slice(i.ch),n,e)),g(k,k.text.slice(0,h.ch)+j[0],f(0)),a.insert(h.line+1,r)}else if(1==j.length)g(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),f(0)),a.remove(h.line+1,o);else{g(k,k.text.slice(0,h.ch)+j[0],f(0)),g(l,m+l.text.slice(i.ch),n);for(var p=1,q=j.length-1,r=[];p<q;++p)r.push(new pe(j[p],f(p),e));o>1&&a.remove(h.line+1,o-1),a.insert(h.line+1,r)}Qc(a,"change",a,b),db(a,d.anchor,d.head,null,!0)}function jc(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function kc(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;d<e;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function lc(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;c&&!i||(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function mc(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,f(a),c(a),a.options.lineWrapping||l(a),a.options.mode=b.modeOption,ja(a)}function nc(a,b){for(b-=a.first;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(b<e){a=d;break}b-=e}return a.lines[b]}function oc(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function pc(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function qc(a,b){for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function rc(a){if(null==a.parent)return null;for(var b=a.parent,c=$c(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function sc(a,b){var c=a.first;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],g=f.height;if(b<g){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;d<e;++d){var h=a.lines[d],i=h.height;if(b<i)break;b-=i}return c+d}function tc(a,b){b=Pb(a.doc,b);for(var c=0,d=b.parent,e=0;e<d.lines.length;++e){var f=d.lines[e];if(f==b)break;c+=f.height}for(var g=d.parent;g;d=g,g=d.parent)for(var e=0;e<g.children.length;++e){var h=g.children[e];if(h==d)break;c+=h.height}return c}function uc(a){var b=a.order;return null==b&&(b=a.order=Le(a.text)),b}function vc(a){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:a||1,maxGeneration:a||1}}function wc(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function xc(a,b){var c={line:b.from.line,ch:b.from.ch},d={from:c,to:de(b),text:oc(a,b.from,b.to)};return wc(a,d,b.from.line,b.to.line+1),lc(a,function(a){wc(a,d,b.from.line,b.to.line+1)},!0),d}function yc(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,g=Yc(e.done);if(g&&(e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))){var h=Yc(g.changes);Wa(b.from,b.to)&&Wa(b.from,h.to)?h.to=de(b):g.changes.push(xc(a,b)),g.anchorAfter=c.anchor,g.headAfter=c.head}else for(g={changes:[xc(a,b)],generation:e.generation,anchorBefore:a.sel.anchor,headBefore:a.sel.head,anchorAfter:c.anchor,headAfter:c.head},e.done.push(g),e.generation=++e.maxGeneration;e.done.length>e.undoDepth;)e.done.shift();e.lastTime=f,e.lastOp=d,e.lastOrigin=b.origin}function zc(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function Ac(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(zc(c[d]));return e}function Bc(a,b){for(var c=0,d=[];c<a.length;++c){var e=a[c],f=e.changes,g=[];d.push({changes:g,anchorBefore:e.anchorBefore,headBefore:e.headBefore,anchorAfter:e.anchorAfter,headAfter:e.headAfter});for(var h=0;h<f.length;++h){var i,j=f[h];if(g.push({from:j.from,to:j.to,text:j.text}),b)for(var k in j)(i=k.match(/^spans_(\d+)$/))&&$c(b,Number(i[1]))>-1&&(Yc(g)[k]=j[k],delete j[k])}}return d}function Cc(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Dc(a,b,c,d){for(var e=0;e<a.length;++e){for(var f=a[e],g=!0,h=0;h<f.changes.length;++h){var i=f.changes[h];if(f.copied||(i.from=Ya(i.from),i.to=Ya(i.to)),c<i.from.line)i.from.line+=d,i.to.line+=d;else if(b<=i.to.line){
g=!1;break}}f.copied||(f.anchorBefore=Ya(f.anchorBefore),f.headBefore=Ya(f.headBefore),f.anchorAfter=Ya(f.anchorAfter),f.readAfter=Ya(f.headAfter),f.copied=!0),g?(Cc(f.anchorBefore),Cc(f.headBefore),Cc(f.anchorAfter),Cc(f.headAfter)):(a.splice(0,e+1),e=0)}}function Ec(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Dc(a.done,c,d,e),Dc(a.undone,c,d,e)}function Fc(){Kc(this)}function Gc(a){return a.stop||(a.stop=Fc),a}function Hc(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ic(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Jc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Kc(a){Hc(a),Ic(a)}function Lc(a){return a.target||a.srcElement}function Mc(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),Od&&a.ctrlKey&&1==b&&(b=3),b}function Nc(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}}function Oc(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}}function Pc(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)}function Qc(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2);we||(++xe,we=[],setTimeout(Sc,0));for(var f=0;f<d.length;++f)we.push(c(d[f]))}}function Rc(a,b,c){return Pc(a,c||b.type,a,b),Jc(b)||b.codemirrorIgnore}function Sc(){--xe;var a=we;we=null;for(var b=0;b<a.length;++b)a[b]()}function Tc(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function Uc(a){a.prototype.on=function(a,b){Nc(this,a,b)},a.prototype.off=function(a,b){Oc(this,a,b)}}function Vc(){this.id=null}function Wc(a,b,c,d,e){null==b&&-1==(b=a.search(/[^\s\u00a0]/))&&(b=a.length);for(var f=d||0,g=e||0;f<b;++f)"\t"==a.charAt(f)?g+=c-g%c:++g;return g}function Xc(a){for(;Ae.length<=a;)Ae.push(Yc(Ae)+" ");return Ae[a]}function Yc(a){return a[a.length-1]}function Zc(a){if(Md)a.selectionStart=0,a.selectionEnd=a.value.length;else try{a.select()}catch(a){}}function $c(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function _c(a,b){function c(){}c.prototype=a;var d=new c;return b&&ad(b,d),d}function ad(a,b){b||(b={});for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function bd(a){for(var b=[],c=0;c<a;++c)b.push(void 0);return b}function cd(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function dd(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Be.test(a))}function ed(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function fd(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)id(e,b);else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function gd(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function hd(a,b){return gd(a).appendChild(b)}function id(a,b){Cd?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function jd(a){return a.getBoundingClientRect()}function kd(){return!1}function ld(a){if(null!=Ee)return Ee;var b=fd("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return hd(a,b),b.offsetWidth&&(Ee=b.offsetHeight-b.clientHeight),Ee||0}function md(a){if(null==Fe){var b=fd("span","\u200b");hd(a,fd("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Fe=b.offsetWidth<=1&&b.offsetHeight>2&&!Bd)}return Fe?fd("span","\u200b"):fd("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function nd(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function od(a){return a.level%2?a.to:a.from}function pd(a){return a.level%2?a.from:a.to}function qd(a){var b=uc(a);return b?od(b[0]):0}function rd(a){var b=uc(a);return b?pd(Yc(b)):a.text.length}function sd(a,b){var c=nc(a.doc,b),d=Pb(a.doc,c);d!=c&&(b=rc(d));var e=uc(d);return Va(b,e?e[0].level%2?rd(d):qd(d):0)}function td(a,b){for(var c,d;c=Ob(d=nc(a.doc,b));)b=c.find().to.line;var e=uc(d);return Va(b,e?e[0].level%2?qd(d):rd(d):d.text.length)}function ud(a,b,c){var d=a[0].level;return b==d||c!=d&&b<c}function vd(a,b){for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return Ke=null,d;if(e.from==b||e.to==b){if(null!=c)return ud(a,e.level,a[c].level)?(Ke=c,d):(Ke=d,c);c=d}}return Ke=null,c}function wd(a,b,c,d){if(!d)return b+c;do{b+=c}while(b>0&&Ce.test(a.text.charAt(b)));return b}function xd(a,b,c,d){var e=uc(a);if(!e)return yd(a,b,c,d);for(var f=vd(e,b),g=e[f],h=wd(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return vd(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(!(g=e[f+=c]))return null;h=c>0==g.level%2?wd(a,g.to,-1,d):wd(a,g.from,1,d)}}function yd(a,b,c,d){var e=b+c;if(d)for(;e>0&&Ce.test(a.text.charAt(e));)e+=c;return e<0||e>a.text.length?null:e}var zd=/gecko\/\d/i.test(navigator.userAgent),Ad=/MSIE \d/.test(navigator.userAgent),Bd=Ad&&(null==document.documentMode||document.documentMode<8),Cd=Ad&&(null==document.documentMode||document.documentMode<9),Dd=/WebKit\//.test(navigator.userAgent),Ed=Dd&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Fd=/Chrome\//.test(navigator.userAgent),Gd=/Opera\//.test(navigator.userAgent),Hd=/Apple Computer/.test(navigator.vendor),Id=/KHTML\//.test(navigator.userAgent),Jd=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Kd=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Ld=/PhantomJS/.test(navigator.userAgent),Md=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Nd=Md||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Od=Md||/Mac/.test(navigator.platform),Pd=/win/i.test(navigator.platform),Qd=Gd&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Qd&&(Qd=Number(Qd[1])),Qd&&Qd>=15&&(Gd=!1,Dd=!0);var Rd,Sd,Td,Ud=Od&&(Ed||Gd&&(null==Qd||Qd<12.11)),Vd=zd||Ad&&!Cd,Wd=!1,Xd=!1,Yd=0,Zd=0,$d=0,_d=null;Ad?_d=-.53:zd?_d=15:Fd?_d=-.7:Hd&&(_d=-1/3);var ae,be,ce=null,de=a.changeEnd=function(a){return a.text?Va(a.from.line+a.text.length-1,Yc(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};a.Pos=Va,a.prototype={constructor:a,focus:function(){window.focus(),oa(this),Ia(this),la(this)},setOption:function(a,b){var c=this.options,d=c[a];c[a]==b&&"mode"!=a||(c[a]=b,ee.hasOwnProperty(a)&&ga(this,ee[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:ga(null,function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:b,opaque:c&&c.opaque}),this.state.modeGen++,ja(this)}),removeOverlay:ga(null,function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void ja(this)}}),indentLine:ga(null,function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),ab(this.doc,a)&&mb(this,a,b,c)}),indentSelection:ga(null,function(a){var b=this.doc.sel;if(Wa(b.from,b.to))return mb(this,b.from.line,a);for(var c=b.to.line-(b.to.ch?0:1),d=b.from.line;d<=c;++d)mb(this,d,a)}),getTokenAt:function(a,b){var c=this.doc;a=$a(c,a);for(var d=J(this,a.line,b),e=this.doc.mode,f=nc(c,a.line),g=new zb(f.text,this.options.tabSize);g.pos<a.ch&&!g.eol();){g.start=g.pos;var h=e.token(g,d)}return{start:g.start,end:g.pos,string:g.current(),className:h||null,type:h||null,state:d}},getTokenTypeAt:function(a){a=$a(this.doc,a);var b=_b(this,nc(this.doc,a.line)),c=0,d=(b.length-1)/2,e=a.ch;if(0==e)return b[2];for(;;){var f=c+d>>1;if((f?b[2*f-1]:0)>=e)d=f;else{if(!(b[2*f+1]<e))return b[2*f+2];c=f+1}}},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){if(le.hasOwnProperty(b)){var c=le[b],d=this.getModeAt(a);return d[b]&&c[d[b]]||d.helperType&&c[d.helperType]||c[d.name]}},getStateAfter:function(a,b){var c=this.doc;return a=Za(c,null==a?c.first+c.size-1:a),J(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel;return c=null==a?d.head:"object"==typeof a?$a(this.doc,a):a?d.from:d.to,$(this,c,b||"page")},charCoords:function(a,b){return Z(this,$a(this.doc,a),b||"page")},coordsChar:function(a,b){return a=Y(this,a,b||"page"),aa(this,a.left,a.top)},lineAtHeight:function(a,b){return a=Y(this,{top:a,left:0},b||"page").top,sc(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=nc(this.doc,a);return X(this,nc(this.doc,a),{top:0,left:0},b||"page").top+(c?e.height:0)},defaultTextHeight:function(){return ca(this.display)},defaultCharWidth:function(){return da(this.display)},setGutterMarker:ga(null,function(a,b,c){return nb(this,a,function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&ed(d)&&(a.gutterMarkers=null),!0})}),clearGutter:ga(null,function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,ja(b,d,d+1),ed(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineClass:ga(null,function(a,b,c){return nb(this,a,function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(new RegExp("(?:^|\\s)"+c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:ga(null,function(a,b,c){return nb(this,a,function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:ga(null,function(a,b,c){return Wb(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!ab(this.doc,a))return null;var b=a;if(!(a=nc(this.doc,a)))return null}else{var b=rc(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=$(this,$a(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&ib(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:ga(null,Ga),execCommand:function(a){return me[a](this)},findPosH:function(a,b,c,d){var e=1;b<0&&(e=-1,b=-b);for(var f=0,g=$a(this.doc,a);f<b&&(g=ob(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:ga(null,function(a,b){var c,d=this.doc.sel;c=d.shift||d.extend||Wa(d.from,d.to)?ob(this.doc,d.head,a,b,this.options.rtlMoveVisually):a<0?d.from:d.to,bb(this.doc,c,c,a)}),deleteH:ga(null,function(a,b){var c=this.doc.sel;Wa(c.from,c.to)?Ua(this.doc,"",c.from,ob(this.doc,c.head,a,b,!1),"+delete"):Ua(this.doc,"",c.from,c.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(a,b,c,d){var e=1,f=d;b<0&&(e=-1,b=-b);for(var g=0,h=$a(this.doc,a);g<b;++g){var i=$(this,h,"div");if(null==f?f=i.left:i.left=f,h=pb(this,i,e,c),h.hitSide)break}return h},moveV:ga(null,function(a,b){var c=this.doc.sel,d=$(this,c.head,"div");null!=c.goalColumn&&(d.left=c.goalColumn);var e=pb(this,d,a,b);"page"==b&&lb(this,0,Z(this,e,"div").top-d.top),bb(this.doc,e,e,a),c.goalColumn=d.left}),toggleOverwrite:function(a){null!=a&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:ga(null,function(a,b){kb(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller,b=ye;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:ga(null,function(a,b){null==a?a={from:this.doc.sel.head,to:null}:"number"==typeof a?a={from:Va(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),b||(b=0);var c=a;null!=a.from.line&&(this.curOp.scrollToPos={from:a.from,to:a.to,margin:b},c={from:$(this,a.from),to:$(this,a.to)});var d=jb(this,Math.min(c.from.left,c.to.left),Math.min(c.from.top,c.to.top)-b,Math.max(c.from.right,c.to.right),Math.max(c.from.bottom,c.to.bottom)+b);kb(this,d.scrollLeft,d.scrollTop)}),setSize:ga(null,function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.wrapper.style.width=c(a)),null!=b&&(this.display.wrapper.style.height=c(b)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(a){return ia(this,a)},refresh:ga(null,function(){var a=null==this.display.cachedTextHeight;U(this),kb(this,this.doc.scrollLeft,this.doc.scrollTop),ja(this),a&&f(this)}),swapDoc:ga(null,function(a){var b=this.doc;return b.cm=null,mc(this,a),U(this),na(this,!0),kb(this,a.scrollLeft,a.scrollTop),Qc(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Uc(a);var ee=a.optionHandlers={},fe=a.defaults={},ge=a.Init={toString:function(){return"CodeMirror.Init"}};sb("value","",function(a,b){a.setValue(b)},!0),sb("mode",null,function(a,b){a.doc.modeOption=b,c(a)},!0),sb("indentUnit",2,c,!0),sb("indentWithTabs",!1),sb("smartIndent",!0),sb("tabSize",4,function(a){c(a),U(a),ja(a)},!0),sb("electricChars",!0),sb("rtlMoveVisually",!Pd),sb("theme","default",function(a){h(a),i(a)},!0),sb("keyMap","default",g),sb("extraKeys",null),sb("onKeyEvent",null),sb("onDragEvent",null),sb("lineWrapping",!1,d,!0),sb("gutters",[],function(a){m(a.options),i(a)},!0),sb("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?s(a.display)+"px":"0",a.refresh()},!0),sb("coverGutterNextToScrollbar",!1,n,!0),sb("lineNumbers",!1,function(a){m(a.options),i(a)},!0),sb("firstLineNumber",1,i,!0),sb("lineNumberFormatter",function(a){return a},i,!0),sb("showCursorWhenSelecting",!1,C,!0),sb("resetSelectionOnContextMenu",!0),sb("readOnly",!1,function(a,b){"nocursor"==b?(Ja(a),a.display.input.blur()):b||na(a,!0)}),sb("dragDrop",!0),sb("cursorBlinkRate",530),sb("cursorScrollMargin",0),sb("cursorHeight",1),sb("workTime",100),sb("workDelay",100),sb("flattenSpans",!0),sb("pollInterval",100),sb("undoDepth",40,function(a,b){a.doc.history.undoDepth=b}),sb("historyEventDelay",500),sb("viewportMargin",10,function(a){a.refresh()},!0),sb("maxHighlightLength",1e4,function(a){c(a),a.refresh()},!0),sb("crudeMeasuringFrom",1e4),sb("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)}),sb("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),sb("autofocus",null);var he=a.modes={},ie=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;d<arguments.length;++d)c.dependencies.push(arguments[d])}he[b]=c},a.defineMIME=function(a,b){ie[a]=b},a.resolveMode=function(b){if("string"==typeof b&&ie.hasOwnProperty(b))b=ie[b];else if(b&&"string"==typeof b.name&&ie.hasOwnProperty(b.name)){var c=ie[b.name];b=_c(c,b),b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=he[c.name];if(!d)return a.getMode(b,"text/plain");var e=d(b,c);if(je.hasOwnProperty(c.name)){var f=je[c.name];for(var g in f)f.hasOwnProperty(g)&&(e.hasOwnProperty(g)&&(e["_"+g]=e[g]),e[g]=f[g])}return e.name=c.name,e},a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var je=a.modeExtensions={};a.extendMode=function(a,b){ad(b,je.hasOwnProperty(a)?je[a]:je[a]={})},a.defineExtension=function(b,c){a.prototype[b]=c},a.defineDocExtension=function(a,b){te.prototype[a]=b},a.defineOption=sb;var ke=[];a.defineInitHook=function(a){ke.push(a)};var le=a.helpers={};a.registerHelper=function(b,c,d){le.hasOwnProperty(b)||(le[b]=a[b]={}),le[b][c]=d},a.isWordChar=dd,a.copyState=tb,a.startState=ub,a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var me=a.commands={selectAll:function(a){a.setSelection(Va(a.firstLine(),0),Va(a.lastLine()))},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!Wa(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:Va(b.line),"+delete"):a.replaceRange("",b,Va(b.line+1,0),"+delete")},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",Va(b,0),Va(b),"+delete")},delLineLeft:function(a){var b=a.getCursor();a.replaceRange("",Va(b.line,0),b,"+delete")},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.extendSelection(Va(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(Va(a.lastLine()))},goLineStart:function(a){a.extendSelection(sd(a,a.getCursor().line))},goLineStartSmart:function(a){var b=a.getCursor(),c=sd(a,b.line),d=a.getLineHandle(c.line),e=uc(d);if(e&&0!=e[0].level)a.extendSelection(c);else{var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;a.extendSelection(Va(c.line,g?0:f))}},goLineEnd:function(a){a.extendSelection(td(a,a.getCursor().line))},goLineRight:function(a){var b=a.charCoords(a.getCursor(),"div").top+5;a.extendSelection(a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div"))},goLineLeft:function(a){var b=a.charCoords(a.getCursor(),"div").top+5;a.extendSelection(a.coordsChar({left:0,top:b},"div"))},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end","+input")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end","+input")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),Va(b.line,b.ch-1),Va(b.line,b.ch+1))},newlineAndIndent:function(a){ga(a,function(){a.replaceSelection("\n","end","+input"),a.indentLine(a.getCursor().line,null,!0)})()},toggleOverwrite:function(a){a.toggleOverwrite()}},ne=a.keyMap={};ne.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ne.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ne.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},ne.default=Od?ne.macDefault:ne.pcDefault,ne.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.lookupKey=wb,a.isModifierKey=xb,a.keyName=yb,a.fromTextArea=function(b,c){function d(){b.value=i.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder),null==c.autofocus){var e=document.body;try{e=document.activeElement}catch(a){}c.autofocus=e==b||null!=b.getAttribute("autofocus")&&e==document.body}if(b.form&&(Nc(b.form,"submit",d),!c.leaveSubmitMethodAlone)){var f=b.form,g=f.submit;try{var h=f.submit=function(){d(),f.submit=g,f.submit(),f.submit=h}}catch(a){}}b.style.display="none";var i=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return i.save=d,i.getTextArea=function(){return b},i.toTextArea=function(){d(),b.parentNode.removeChild(i.getWrapperElement()),b.style.display="",b.form&&(Oc(b.form,"submit",d),"function"==typeof b.form.submit&&(b.form.submit=g))},i},zb.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Wc(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Wc(this.string,null,this.tabSize)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&!1!==b&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a};if(e(this.string.substr(this.pos,a.length))==e(a))return!1!==b&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=zb,a.TextMarker=Ab,Uc(Ab),Ab.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&ea(a),Tc(this,"clear")){var c=this.find();c&&Qc(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=Eb(g.markedSpans,this);null!=h.to&&(e=rc(g)),g.markedSpans=Fb(g.markedSpans,h),null!=h.from?d=rc(g):this.collapsed&&!Qb(this.doc,g)&&a&&qc(g,ca(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=Pb(a.doc,this.lines[f]),j=k(a.doc,i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&ja(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&eb(a)),b&&fa(a)}},Ab.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var d=this.lines[c],e=Eb(d.markedSpans,this);if(null!=e.from||null!=e.to){var f=rc(d);null!=e.from&&(a=Va(f,e.from)),null!=e.to&&(b=Va(f,e.to))}}return"bookmark"==this.type?a:a&&{from:a,to:b}},Ab.prototype.changed=function(){var a=this.find(),b=this.doc.cm;if(a&&b){"bookmark"!=this.type&&(a=a.from);var c=nc(this.doc,a.line);if(P(b,c),a.line>=b.display.showingFrom&&a.line<b.display.showingTo){for(var d=b.display.lineDiv.firstChild;d;d=d.nextSibling)if(d.lineObj==c){d.offsetHeight!=c.height&&qc(c,d.offsetHeight);break}ia(b,function(){b.curOp.selectionChanged=b.curOp.forceUpdate=b.curOp.updateMaxLine=!0})}}},Ab.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=$c(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ab.prototype.detachLine=function(a){if(this.lines.splice($c(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},a.SharedTextMarker=Cb,Uc(Cb),Cb.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Qc(this,"clear")}},Cb.prototype.find=function(){return this.primary.find()};var oe=a.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};Uc(oe),oe.prototype.clear=Ub(function(){var a=this.line.widgets,b=rc(this.line);if(null!=b&&a){for(var c=0;c<a.length;++c)a[c]==this&&a.splice(c--,1);a.length||(this.line.widgets=null);var d=tc(this.cm,this.line)<this.cm.doc.scrollTop;qc(this.line,Math.max(0,this.line.height-Vb(this))),d&&lb(this.cm,0,-this.height),ja(this.cm,b,b+1)}}),oe.prototype.changed=Ub(function(){var a=this.height;this.height=null;var b=Vb(this)-a;if(b){qc(this.line,this.line.height+b);var c=rc(this.line);ja(this.cm,c,c+1)}});var pe=a.Line=function(a,b,c){this.text=a,Tb(this,b),this.height=c?c(this):1};Uc(pe);var qe={},re=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height,Yb(e),Qc(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;d<e;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;a<d;++a)if(c(this.lines[a]))return!0}},kc.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25){var h=[];this.collapse(h),this.children=[new jc(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<=g){if(f.insertInner(a,b,c),f.lines&&f.lines.length>50){for(;f.lines.length>50;){var h=f.lines.splice(f.lines.length-25,25),i=new jc(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new kc(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=$c(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new kc(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<g){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}};var se=0,te=a.Doc=function(a,b,c){if(!(this instanceof te))return new te(a,b,c);null==c&&(c=0),kc.call(this,[new jc([new pe("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=vc(),this.cleanGeneration=1,this.frontier=c;var d=Va(c,0);this.sel={from:d,to:d,head:d,anchor:d,shift:!1,extend:!1,goalColumn:null},this.id=++se,this.modeOption=b,"string"==typeof a&&(a=Ge(a)),ic(this,{from:d,to:d,text:a},null,{head:d,anchor:d})};te.prototype=_c(kc.prototype,{constructor:te,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=pc(this,this.first,this.first+this.size);return!1===a?b:b.join(a||"\n")},setValue:function(a){var b=Va(this.first,0),c=this.first+this.size-1;Oa(this,{from:b,to:Va(c,nc(this,c).text.length),text:Ge(a),origin:"setValue"},{head:b,anchor:b},!0)},replaceRange:function(a,b,c,d){b=$a(this,b),c=c?$a(this,c):b,Ua(this,a,b,c,d)},getRange:function(a,b,c){var d=oc(this,$a(this,a),$a(this,b));return!1===c?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},setLine:function(a,b){ab(this,a)&&Ua(this,b,Va(a,0),$a(this,Va(a)))},removeLine:function(a){a?Ua(this,"",$a(this,Va(a-1)),$a(this,Va(a))):Ua(this,"",Va(0,0),$a(this,Va(1,0)))},getLineHandle:function(a){if(ab(this,a))return nc(this,a)},getLineNumber:function(a){return rc(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=nc(this,a)),Pb(this,a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return $a(this,a)},getCursor:function(a){var b,c=this.sel;return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||!1===a?c.to:c.from,Ya(b)},somethingSelected:function(){return!Wa(this.sel.head,this.sel.anchor)},setCursor:ha(function(a,b,c){var d=$a(this,"number"==typeof a?Va(a,b||0):a);c?bb(this,d):db(this,d,d)}),setSelection:ha(function(a,b,c){db(this,$a(this,a),$a(this,b||a),c)}),
extendSelection:ha(function(a,b,c){bb(this,$a(this,a),b&&$a(this,b),c)}),getSelection:function(a){return this.getRange(this.sel.from,this.sel.to,a)},replaceSelection:function(a,b,c){Oa(this,{from:this.sel.from,to:this.sel.to,text:Ge(a),origin:c},b||"around")},undo:ha(function(){Qa(this,"undo")}),redo:ha(function(){Qa(this,"redo")}),setExtending:function(a){this.sel.extend=a},historySize:function(){var a=this.history;return{undo:a.done.length,redo:a.undone.length}},clearHistory:function(){this.history=vc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Bc(this.history.done),undone:Bc(this.history.undone)}},setHistory:function(a){var b=this.history=vc(this.history.maxGeneration);b.done=a.done.slice(0),b.undone=a.undone.slice(0)},markText:function(a,b,c){return Bb(this,$a(this,a),$a(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft};return a=$a(this,a),Bb(this,a,a,c,"bookmark")},findMarksAt:function(a){a=$a(this,a);var b=[],c=nc(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;if(e>a)return b=a,!0;a-=e,++c}),$a(this,Va(c,b))},indexFromPos:function(a){a=$a(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new te(pc(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new te(pc(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],d},unlinkDoc:function(b){if(b instanceof a&&(b=b.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=this.linked[c];if(d.doc==b){this.linked.splice(c,1),b.unlinkDoc(this);break}}if(b.history==this.history){var e=[b.id];lc(b,function(a){e.push(a.id)},!0),b.history=vc(),b.history.done=Bc(this.history.done,e),b.history.undone=Bc(this.history.undone,e)}},iterLinkedDocs:function(a){lc(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),te.prototype.eachLine=te.prototype.iter;var ue="iter insert remove copy getEditor".split(" ");for(var ve in te.prototype)te.prototype.hasOwnProperty(ve)&&$c(ue,ve)<0&&(a.prototype[ve]=function(a){return function(){return a.apply(this.doc,arguments)}}(te.prototype[ve]));Uc(te),a.e_stop=Kc,a.e_preventDefault=Hc,a.e_stopPropagation=Ic;var we,xe=0;a.on=Nc,a.off=Oc,a.signal=Pc;var ye=30,ze=a.Pass={toString:function(){return"CodeMirror.Pass"}};Vc.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}},a.countColumn=Wc;var Ae=[""],Be=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ce=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;a.replaceGetRect=function(a){jd=a};var De=function(){if(Cd)return!1;var a=fd("div");return"draggable"in a||"dragDrop"in a}();zd?kd=function(a,b){return 36==a.charCodeAt(b-1)&&39==a.charCodeAt(b)}:Hd&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?kd=function(a,b){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(a.slice(b-1,b+1))}:Dd&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)?kd=function(a,b){var c=a.charCodeAt(b-1);return c>=8208&&c<=8212}:Dd&&(kd=function(a,b){if(b>1&&45==a.charCodeAt(b-1)){if(/\w/.test(a.charAt(b-2))&&/[^\-?\.]/.test(a.charAt(b)))return!0;if(b>2&&/[\d\.,]/.test(a.charAt(b-2))&&/[\d\.,]/.test(a.charAt(b)))return!1}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(a.slice(b-1,b+1))});var Ee,Fe,Ge=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)};a.splitLines=Ge;var He=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(a){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(a){}return!(!b||b.parentElement()!=a)&&0!=b.compareEndPoints("StartToEnd",b)},Ie=function(){var a=fd("div");return"oncopy"in a||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),Je={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};a.keyNames=Je,function(){for(var a=0;a<10;a++)Je[a+48]=String(a);for(var a=65;a<=90;a++)Je[a]=String.fromCharCode(a);for(var a=1;a<=12;a++)Je[a+111]=Je[a+63235]="F"+a}();var Ke,Le=function(){function a(a){return a<=255?b.charAt(a):1424<=a&&a<=1524?"R":1536<=a&&a<=1791?c.charAt(a-1536):1792<=a&&a<=2220?"r":"L"}var b="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",c="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/,i="L";return function(b){if(!d.test(b))return!1;for(var c,j=b.length,k=[],l=0;l<j;++l)k.push(c=a(b.charCodeAt(l)));for(var l=0,m=i;l<j;++l){var c=k[l];"m"==c?k[l]=m:m=c}for(var l=0,n=i;l<j;++l){var c=k[l];"1"==c&&"r"==n?k[l]="n":f.test(c)&&(n=c,"r"==c&&(k[l]="R"))}for(var l=1,m=k[0];l<j-1;++l){var c=k[l];"+"==c&&"1"==m&&"1"==k[l+1]?k[l]="1":","!=c||m!=k[l+1]||"1"!=m&&"n"!=m||(k[l]=m),m=c}for(var l=0;l<j;++l){var c=k[l];if(","==c)k[l]="N";else if("%"==c){for(var o=l+1;o<j&&"%"==k[o];++o);for(var p=l&&"!"==k[l-1]||o<j-1&&"1"==k[o]?"1":"N",q=l;q<o;++q)k[q]=p;l=o-1}}for(var l=0,n=i;l<j;++l){var c=k[l];"L"==n&&"1"==c?k[l]="L":f.test(c)&&(n=c)}for(var l=0;l<j;++l)if(e.test(k[l])){for(var o=l+1;o<j&&e.test(k[o]);++o);for(var r="L"==(l?k[l-1]:i),s="L"==(o<j-1?k[o]:i),p=r||s?"L":"R",q=l;q<o;++q)k[q]=p;l=o-1}for(var t,u=[],l=0;l<j;)if(g.test(k[l])){var v=l;for(++l;l<j&&g.test(k[l]);++l);u.push({from:v,to:l,level:0})}else{var w=l,x=u.length;for(++l;l<j&&"L"!=k[l];++l);for(var q=w;q<l;)if(h.test(k[q])){w<q&&u.splice(x,0,{from:w,to:q,level:1});var y=q;for(++q;q<l&&h.test(k[q]);++q);u.splice(x,0,{from:y,to:q,level:2}),w=q}else++q;w<l&&u.splice(x,0,{from:w,to:l,level:1})}return 1==u[0].level&&(t=b.match(/^\s+/))&&(u[0].from=t[0].length,u.unshift({from:0,to:t[0].length,level:0})),1==Yc(u).level&&(t=b.match(/\s+$/))&&(Yc(u).to-=t[0].length,u.push({from:j-t[0].length,to:j,level:0})),u[0].level!=Yc(u).level&&u.push({from:j,to:j,level:u[0].level}),u}}();return a.version="3.19.0",a}(),define("codemirror",function(a){return function(){var b;return b||a.CodeMirror}}(this)),CodeMirror.defineMode("sparql",function(a){function b(a){return new RegExp("^(?:"+a.join("|")+")$","i")}function c(a,b){var c=a.next();if(g=null,"$"==c||"?"==c)return a.match(/^[\w\d]*/),"variable-2";if("<"!=c||a.match(/^[\s\u00a0=]/,!1)){if('"'==c||"'"==c)return b.tokenize=d(c),b.tokenize(a,b);if(/[{}\(\),\.;\[\]]/.test(c))return g=c,null;if("#"==c)return a.skipToEnd(),"comment";if(k.test(c))return a.eatWhile(k),null;if(":"==c)return a.eatWhile(/[\w\d\._\-]/),"atom";if(a.eatWhile(/[_\w\d]/),a.eat(":"))return a.eatWhile(/[\w\d_\-]/),"atom";var e=a.current();return i.test(e)?null:j.test(e)?"keyword":"variable"}return a.match(/^[^\s\u00a0>]*>?/),"atom"}function d(a){return function(b,d){for(var e,f=!1;null!=(e=b.next());){if(e==a&&!f){d.tokenize=c;break}f=!f&&"\\"==e}return"string"}}function e(a,b,c){a.context={prev:a.context,indent:a.indent,col:c,type:b}}function f(a){a.indent=a.context.indent,a.context=a.context.prev}var g,h=a.indentUnit,i=b(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","a"]),j=b(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","data","copy","to","move","add","create","drop","clear","load"]),k=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:c,context:null,indent:0,col:0}},token:function(a,b){if(a.sol()&&(b.context&&null==b.context.align&&(b.context.align=!1),b.indent=a.indentation()),a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"!=c&&b.context&&null==b.context.align&&"pattern"!=b.context.type&&(b.context.align=!0),"("==g)e(b,")",a.column());else if("["==g)e(b,"]",a.column());else if("{"==g)e(b,"}",a.column());else if(/[\]\}\)]/.test(g)){for(;b.context&&"pattern"==b.context.type;)f(b);b.context&&g==b.context.type&&f(b)}else"."==g&&b.context&&"pattern"==b.context.type?f(b):/atom|string|variable/.test(c)&&b.context&&(/[\}\]]/.test(b.context.type)?e(b,"pattern",a.column()):"pattern"!=b.context.type||b.context.align||(b.context.align=!0,b.context.col=a.column()));return c},indent:function(a,b){var c=b&&b.charAt(0),d=a.context;if(/[\]\}]/.test(c))for(;d&&"pattern"==d.type;)d=d.prev;var e=d&&c==d.type;return d?"pattern"==d.type?d.col:d.align?d.col+(e?0:1):d.indent+(e?0:h):0}}}),CodeMirror.defineMIME("application/x-sparql-query","sparql"),define("sparqlMode",["codemirror"],function(){}),function(){"use strict";function a(a,b,c){this.cm=a,this.getHints=b,this.options=c,this.widget=this.onClose=null}function b(a){return"string"==typeof a?a:a.text}function c(a,b){function c(a,c){var f;f="string"!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,e[a]=f}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(1-b.menuSize(),!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Tab:b.pick,Esc:b.close},e=a.customKeys?{}:d;if(a.customKeys)for(var f in a.customKeys)a.customKeys.hasOwnProperty(f)&&c(f,a.customKeys[f]);if(a.extraKeys)for(var f in a.extraKeys)a.extraKeys.hasOwnProperty(f)&&c(f,a.extraKeys[f]);return e}function d(a,d){this.completion=a,this.data=d;var e=this,f=a.cm,g=a.options,h=this.hints=document.createElement("ul");h.className="CodeMirror-hints",this.selectedHint=0;for(var i=d.list,j=0;j<i.length;++j){var k=h.appendChild(document.createElement("li")),l=i[j],m="CodeMirror-hint"+(j?"":" CodeMirror-hint-active");null!=l.className&&(m=l.className+" "+m),k.className=m,l.render?l.render(k,d,l):k.appendChild(document.createTextNode(l.displayText||b(l))),k.hintId=j}var n=f.cursorCoords(!1!==g.alignWithWord?d.from:null),o=n.left,p=n.bottom,q=!0;h.style.left=o+"px",h.style.top=p+"px";var r=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),s=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(g.container||document.body).appendChild(h);var t=h.getBoundingClientRect(),u=t.right-r,v=t.bottom-s;if(u>0&&(t.right-t.left>r&&(h.style.width=r-5+"px",u-=t.right-t.left-r),h.style.left=(o=n.left-u)+"px"),v>0){var w=t.bottom-t.top;t.top-(n.bottom-n.top)-w>0?(v=w+(n.bottom-n.top),q=!1):w>s&&(h.style.height=s-5+"px",v-=w-s),h.style.top=(p=n.bottom-v)+"px"}if(f.addKeyMap(this.keyMap=c(g,{moveFocus:function(a,b){e.changeActive(e.selectedHint+a,b)},setFocus:function(a){e.changeActive(a)},menuSize:function(){return e.screenAmount()},length:i.length,close:function(){a.close()},pick:function(){e.pick()}})),!1!==g.closeOnUnfocus){var x;f.on("blur",this.onBlur=function(){x=setTimeout(function(){a.close()},100)}),f.on("focus",this.onFocus=function(){clearTimeout(x)})}var y=f.getScrollInfo();return f.on("scroll",this.onScroll=function(){var b=f.getScrollInfo(),c=f.getWrapperElement().getBoundingClientRect(),d=p+y.top-b.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(q||(e+=h.offsetHeight),e<=c.top||e>=c.bottom)return a.close();h.style.top=d+"px",h.style.left=o+y.left-b.left+"px"}),CodeMirror.on(h,"dblclick",function(a){var b=a.target||a.srcElement;null!=b.hintId&&(e.changeActive(b.hintId),e.pick())}),CodeMirror.on(h,"click",function(a){var b=a.target||a.srcElement;null!=b.hintId&&e.changeActive(b.hintId)}),CodeMirror.on(h,"mousedown",function(){setTimeout(function(){f.focus()},20)}),CodeMirror.signal(d,"select",i[0],h.firstChild),!0}CodeMirror.showHint=function(b,c,d){if(!b.somethingSelected()&&(null==c&&(c=b.getHelper(b.getCursor(),"hint")),null!=c)){b.state.completionActive&&b.state.completionActive.close();var e=b.state.completionActive=new a(b,c,d||{});if(CodeMirror.signal(b,"startCompletion",b),!e.options.async)return e.showHints(c(b,e.options));c(b,function(a){e.showHints(a)},e.options)}},a.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(a,c){var d=a.list[c];d.hint?d.hint(this.cm,a,d):this.cm.replaceRange(b(d),a.from,a.to),this.close()},showHints:function(a){if(!a||!a.list.length||!this.active())return this.close();0!=this.options.completeSingle&&1==a.list.length?this.pick(a,0):this.showWidget(a)},showWidget:function(a){function b(){g||(g=!0,i.close(),i.cm.off("cursorActivity",f),a&&CodeMirror.signal(a,"close"))}function c(){g||(CodeMirror.signal(a,"update"),i.options.async?i.getHints(i.cm,e,i.options):e(i.getHints(i.cm,i.options)))}function e(c){if(a=c,!g)return a&&a.list.length?void(i.widget=new d(i,a)):b()}function f(){clearTimeout(h);var a=i.cm.getCursor(),b=i.cm.getLine(a.line);a.line!=k.line||b.length-a.ch!=l-k.ch||a.ch<k.ch||i.cm.somethingSelected()||a.ch&&j.test(b.charAt(a.ch-1))?i.close():(h=setTimeout(c,170),i.widget&&i.widget.close())}this.widget=new d(this,a),CodeMirror.signal(a,"shown");var g,h=null,i=this,j=this.options.closeCharacters||/[\s()\[\]{};:>,]/,k=this.cm.getCursor(),l=this.cm.getLine(k.line).length;this.cm.on("cursorActivity",f),this.onClose=b}},d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;!1!==this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus)),a.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(a,b){if(a>=this.data.list.length?a=b?this.data.list.length-1:0:a<0&&(a=b?0:this.data.list.length-1),this.selectedHint!=a){var c=this.hints.childNodes[this.selectedHint];c.className=c.className.replace(" CodeMirror-hint-active",""),c=this.hints.childNodes[this.selectedHint=a],c.className+=" CodeMirror-hint-active",c.offsetTop<this.hints.scrollTop?this.hints.scrollTop=c.offsetTop-3:c.offsetTop+c.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=c.offsetTop+c.offsetHeight-this.hints.clientHeight+3),CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],c)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}}}(),define("showHint",["codemirror"],function(){}),function(){function a(a,b){for(var c=0,d=a.length;c<d;++c)b(a[c])}function b(a,b){if(!Array.prototype.indexOf){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}return-1!=a.indexOf(b)}function c(a,b,c){var d=a.getCursor(),f=c(a,d),i=f;if(g=a.doc.getValue(),h=d,!j)var j=[];j.push(i);var k=e(f,j);return k=k.sort(),1==k.length&&k.push(" "),{list:k,from:CodeMirror.Pos(d.line,f.start),to:CodeMirror.Pos(d.line,f.end)}}function d(a){return c(a,k,function(a,b){return a.getTokenAt(b)})}function e(c,d){function e(a){0!=a.indexOf(h)||b(g,a)||g.push(a)}function f(b){a(m,e),a(n,e),a(j,e),a(k,e),b.indexOf("?")>=0&&a(o(b),e),b.indexOf(":")>=0&&a(p(b),e)}var g=[],h=c.string;if(d){var i,l=d.pop();for("variable"!=l.type&&"variable-2"!=l.type&&"atom"!=l.type||(i=l.string);null!=i&&d.length;)i=i[d.pop().string];null!=i&&f(i)}return g}var f=function(a,b){this.text=a,this.cursor=b};f.prototype.getLine=function(){return this.text.split("\n")[this.cursor.line].substring(0,this.cursor.ch)},f.prototype.getBGPTokens=function(){var a=this.getLine(this.cursor).trim(),b=a.lastIndexOf("."),c=a.lastIndexOf("{"),d=b>c?b:c;return d=d<0?0:d+1,a.substring(d).trim().split(" ")},f.prototype.isProperty=function(){var a=this.getBGPTokens();return 2==a.length?{s:a[0],p:a[1]}:null},f.prototype.isObject=function(){var a=this.getBGPTokens();return 3==a.length?{s:a[0],p:a[1],o:a[2]}:null},f.prototype.getTypeBGPLine=function(a){var b=_.filter(this.text.split("\n"),function(b){return b.indexOf(a)>=0});return b=_.filter(b,function(a){return a.trim().indexOf(" a ")>=0||a.trim().indexOf(" rdf:type ")>=0||a.trim().indexOf(" <http://www.w3.org/1999/02/22-rdf-syntax-ns#> ")>=0}),b[0]||null},f.prototype.getPrefixNamespace=function(a){var b={},c=sessionStorage.getItem("nsMap"),d=_.invert(JSON.parse(c));return _.has(d,a)&&(b.prefix=a,b.namespace=d[a]),b},f.prototype.expandURI=function(a){if(!a)return a;if("<"==a.charAt(0)&&">"==a.charAt(a.length-1))return a.substring(1,a.length-1);var b=a.indexOf(":");return(b=b<0?a.indexOf("/"):b)<0?a:this.getPrefixNamespace(a.substring(0,b)).namespace+a.substring(b+1)},f.prototype.getDomain=function(a){var b=this.getTypeBGPLine(a);if(!b)return null;for(var c=b.trim().split(" "),d=null,e=0;e<c.length;e+=1)if(c[e].trim().indexOf("a")>=0||c[e].trim().indexOf("rdf:type")>=0||c[e].trim().indexOf("<http://www.w3.org/1999/02/22-rdf-syntax-ns#>")>=0){d=c[e+1];break}return this.expandURI(d)},f.prototype.forProperty=function(){var a=this.isObject();return a?this.expandURI(a.p):null},f.prototype.getSchemaCandidates=function(a,b){var c=[],d={},e={};sessionStorage&&(d=sessionStorage.getItem("egad:schema:classes"),d=d?JSON.parse(d):{},d=_.has(d,"classTree")?d.classTree:{},e=sessionStorage.getItem("egad:schema:properties"),e=e?JSON.parse(e):{},e=_.has(e,"propertyTree")?e.propertyTree:{});var f=function(a){a&&!_.isEmpty(a)&&(a.type&&0===a.type.indexOf(b)&&c.push(a.type.replace(b,"")),a.subtypes&&a.subtypes.length>0&&_.each(a.subtypes,function(a){f(a)}))};return this.isProperty()?f(e):(f(d),f(e)),c=_.filter(c,function(a){return a}),_.map(c,function(b){return a+":"+b})};var g,h;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),CodeMirror.sparqlHint=d,CodeMirror.registerHelper("hint","sparql",d);var i="base prefix select distinct reduced construct describe ask from named where order limit offset filter optional graph by asc desc as having undef values group minus in not service silent using insert delete union data copy to move add create drop clear load",j=i.split(" "),k=i.toUpperCase().split(" "),l="count avg bind str lang langmatches datatype bound sameterm isiri isuri isblank isliteral a",m=l.split(" ").join("() ").split(" "),n=l.toUpperCase().split(" ").join("() ").split(" "),o=function(b){var c=g.split(/[\s|\n]+/),d=[];return a(c,function(a){"?"!=a.charAt(0)&&"$"!=a.charAt(0)||a==b||(a=a.replace(/[)|}]/g,""),d.push(a))}),d},p=function(b){var c=g.split(/[\s|\n]+/),d=[],e=function(a,b){return 0==a.indexOf(b)},i=new f(g,h),j=b.substring(0,b.indexOf(":")),k=i.getPrefixNamespace(j),l=_.has(k,"prefix")&&_.has(k,"namespace")?i.getSchemaCandidates(k.prefix,k.namespace):[];return l&&l.length>0?d=d.concat(l):a(c,function(a){e(a,b)&&a!=b&&(a=a.replace(/[)|}|\.]/g,""),d.push(a))}),d}}(),define("sparqlHint",["codemirror","sparqlMode","showHint"],function(){}),function(){function a(a,b,c){function d(b,c,d){if(b.text){var g=m?0:b.text.length-1,i=m?b.text.length:-1;if(b.text.length>h)return null;for(null!=d&&(g=d+n);g!=i;g+=n){var j=b.text.charAt(g);if(r.test(j)&&a.getTokenTypeAt(e(c,g+1))==p){var k=f[j];if(">"==k.charAt(1)==m)q.push(j);else{if(q.pop()!=k.charAt(0))return{pos:g,match:!1};if(!q.length)return{pos:g,match:!0}}}}}}var g=a.state.matchBrackets,h=g&&g.maxScanLineLength||1e4,i=b||a.getCursor(),j=a.getLineHandle(i.line),k=i.ch-1,l=k>=0&&f[j.text.charAt(k)]||f[j.text.charAt(++k)];if(!l)return null;var m=">"==l.charAt(1),n=m?1:-1;if(c&&m!=(k==i.ch))return null;for(var o,p=a.getTokenTypeAt(e(i.line,k+1)),q=[j.text.charAt(k)],r=/[(){}[\]]/,s=i.line,t=m?Math.min(s+100,a.lineCount()):Math.max(-1,s-100);s!=t&&!(o=s==i.line?d(j,s,k):d(a.getLineHandle(s),s));s+=n);return{from:e(i.line,k),to:o&&e(s,o.pos),match:o&&o.match,forward:m}}function b(b,c){var f=b.state.matchBrackets.maxHighlightLineLength||1e3,g=a(b);if(!(!g||b.getLine(g.from.line).length>f||g.to&&b.getLine(g.to.line).length>f)){var h=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",i=b.markText(g.from,e(g.from.line,g.from.ch+1),{className:h}),j=g.to&&b.markText(g.to,e(g.to.line,g.to.ch+1),{className:h});d&&b.state.focused&&b.display.input.focus();var k=function(){b.operation(function(){i.clear(),j&&j.clear()})};if(!c)return k;setTimeout(k,800)}}function c(a){a.operation(function(){g&&(g(),g=null),a.somethingSelected()||(g=b(a,!1))})}var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),e=CodeMirror.Pos,f={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},g=null;CodeMirror.defineOption("matchBrackets",!1,function(a,b,d){d&&d!=CodeMirror.Init&&a.off("cursorActivity",c),b&&(a.state.matchBrackets="object"==typeof b?b:{},a.on("cursorActivity",c))}),CodeMirror.defineExtension("matchBrackets",function(){b(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(b,c){return a(this,b,c)})}(),define("matchbrackets",["codemirror"],function(){}),define("fuelux-datagrid",["require","jquery"],function(a){var b=a("jquery"),c=function(a,c){this.$element=b(a),this.$thead=this.$element.find("thead"),this.$tfoot=this.$element.find("tfoot"),this.$footer=this.$element.find("tfoot th"),this.$footerchildren=this.$footer.children().show().css("visibility","hidden"),this.$topheader=this.$element.find("thead th"),this.$searchcontrol=this.$element.find(".datagrid-search"),this.$filtercontrol=this.$element.find(".filter"),this.$pagesize=this.$element.find(".grid-pagesize"),this.$pageinput=this.$element.find(".grid-pager input"),this.$pagedropdown=this.$element.find(".grid-pager .dropdown-menu"),this.$prevpagebtn=this.$element.find(".grid-prevpage"),this.$nextpagebtn=this.$element.find(".grid-nextpage"),this.$pageslabel=this.$element.find(".grid-pages"),this.$countlabel=this.$element.find(".grid-count"),this.$startlabel=this.$element.find(".grid-start"),this.$endlabel=this.$element.find(".grid-end"),this.$tbody=b("<tbody>").insertAfter(this.$thead),this.$colheader=b("<tr>").appendTo(this.$thead),this.options=b.extend(!0,{},b.fn.datagrid.defaults,c),this.$pagesize.hasClass("select")?this.options.dataOptions.pageSize=parseInt(this.$pagesize.select("selectedItem").value,10):this.options.dataOptions.pageSize=parseInt(this.$pagesize.val(),10),this.$searchcontrol.length<=0&&(this.$searchcontrol=this.$element.find(".search")),this.columns=this.options.dataSource.columns(),this.$nextpagebtn.on("click",b.proxy(this.next,this)),this.$prevpagebtn.on("click",b.proxy(this.previous,this)),this.$searchcontrol.on("searched cleared",b.proxy(this.searchChanged,this)),this.$filtercontrol.on("changed",b.proxy(this.filterChanged,this)),this.$colheader.on("click","th",b.proxy(this.headerClicked,this)),this.$pagesize.hasClass("select")?this.$pagesize.on("changed",b.proxy(this.pagesizeChanged,this)):this.$pagesize.on("change",b.proxy(this.pagesizeChanged,this)),this.$pageinput.on("change",b.proxy(this.pageChanged,this)),this.renderColumns(),this.options.stretchHeight&&this.initStretchHeight(),this.renderData()};c.prototype={constructor:c,renderColumns:function(){var a=this;this.$footer.attr("colspan",this.columns.length),this.$topheader.attr("colspan",this.columns.length);var c="";b.each(this.columns,function(a,b){c+='<th data-property="'+b.property+'"',b.sortable&&(c+=' class="sortable"'),c+=">"+b.label+"</th>"}),a.$colheader.append(c)},updateColumns:function(a,b){this._updateColumns(this.$colheader,a,b),this.$sizingHeader&&this._updateColumns(this.$sizingHeader,this.$sizingHeader.find("th").eq(a.index()),b)},_updateColumns:function(a,c,d){var e="asc"===d?"icon-chevron-up":"icon-chevron-down";a.find("i.datagrid-sort").remove(),a.find("th").removeClass("sorted"),b("<i>").addClass(e+" datagrid-sort").appendTo(c),c.addClass("sorted")},updatePageDropdown:function(a){for(var b="",c=1;c<=a.pages;c++)b+="<li><a>"+c+"</a></li>";this.$pagedropdown.html(b)},updatePageButtons:function(a){1===a.page?this.$prevpagebtn.attr("disabled","disabled"):this.$prevpagebtn.removeAttr("disabled"),a.page===a.pages?this.$nextpagebtn.attr("disabled","disabled"):this.$nextpagebtn.removeAttr("disabled")},renderData:function(){var a=this;this.$tbody.html(this.placeholderRowHTML(this.options.loadingHTML)),this.options.dataSource.data(this.options.dataOptions,function(c){var d=1===c.count?a.options.itemText:a.options.itemsText,e="";a.columns=a.options.dataSource.columns(),a.$footerchildren.css("visibility",function(){return c.count>0?"visible":"hidden"}),a.$pageinput.val(c.page),a.$pageslabel.text(c.pages),a.$countlabel.text(c.count+" "+d),a.$startlabel.text(c.start),a.$endlabel.text(c.end),a.updatePageDropdown(c),a.updatePageButtons(c),b.each(c.data,function(c,d){e+="<tr>",b.each(a.columns,function(a,b){e+="<td>"+d[b.property]+"</td>"}),e+="</tr>"}),e||(e=a.placeholderRowHTML("0 "+a.options.itemsText)),a.renderColumns(),a._updateSizingHeader(),a.$tbody.html(e),a.stretchHeight(),a.$element.trigger("loaded")})},placeholderRowHTML:function(a){return'<tr><td style="text-align:center;padding:20px;border-bottom:none;" colspan="'+this.columns.length+'">'+a+"</td></tr>"},headerClicked:function(a){var c=b(a.target);if(c.hasClass("sortable")){var d=this.options.dataOptions.sortDirection,e=this.options.dataOptions.sortProperty,f=c.data("property");e===f?this.options.dataOptions.sortDirection="asc"===d?"desc":"asc":(this.options.dataOptions.sortDirection="asc",this.options.dataOptions.sortProperty=f),this.options.dataOptions.pageIndex=0,this.updateColumns(c,this.options.dataOptions.sortDirection),this.renderData()}},pagesizeChanged:function(a,c){this.options.dataOptions.pageSize=c?parseInt(c.value,10):parseInt(b(a.target).val(),10),this.options.dataOptions.pageIndex=0,this.renderData()},pageChanged:function(a){var c=parseInt(b(a.target).val(),10);c=isNaN(c)?1:c;var d=this.$pageslabel.text();this.options.dataOptions.pageIndex=c>d?d-1:c-1,this.renderData()},searchChanged:function(a,b){this.options.dataOptions.search=b,this.options.dataOptions.pageIndex=0,this.renderData()},filterChanged:function(a,b){this.options.dataOptions.filter=b,this.options.dataOptions.pageIndex=0,this.renderData()},previous:function(){this.$nextpagebtn.attr("disabled","disabled"),this.$prevpagebtn.attr("disabled","disabled"),this.options.dataOptions.pageIndex--,this.renderData()},next:function(){this.$nextpagebtn.attr("disabled","disabled"),this.$prevpagebtn.attr("disabled","disabled"),this.options.dataOptions.pageIndex++,this.renderData()},reload:function(){this.options.dataOptions.pageIndex=0,this.renderData()},initStretchHeight:function(){this.$gridContainer=this.$element.parent(),this.$element.wrap('<div class="datagrid-stretch-wrapper">'),this.$stretchWrapper=this.$element.parent(),this.$headerTable=b("<table>").attr("class",this.$element.attr("class")),this.$footerTable=this.$headerTable.clone(),this.$headerTable.prependTo(this.$gridContainer).addClass("datagrid-stretch-header"),this.$thead.detach().appendTo(this.$headerTable),this._updateSizingHeader(),this.$footerTable.appendTo(this.$gridContainer).addClass("datagrid-stretch-footer"),this.$tfoot.detach().appendTo(this.$footerTable)},_updateSizingHeader:function(){this.$sizingHeader&&this.$sizingHeader.remove(),this.$sizingHeader=this.$thead.clone(),this.$sizingHeader.find("tr:first").remove()},stretchHeight:function(){if(this.$gridContainer){this.setColumnWidths();var a=this.$gridContainer.height(),b=this.$headerTable.outerHeight(),c=this.$footerTable.outerHeight(),d=b+c;this.$stretchWrapper.height(a-d)}},setColumnWidths:function(){function a(a,e){if(a!==d-1){var f=b(e),g=c.eq(a),h=g.width();g.hasClass("sorted")&&"TD"===f.prop("tagName")&&(h+=22),f.width(h)}}if(this.$sizingHeader){this.$element.prepend(this.$sizingHeader);var c=this.$sizingHeader.find("th"),d=c.length;this.$tbody.find("tr:first > td").each(a),this.$colheader.detach()}}},b.fn.datagrid=function(a){return this.each(function(){var d=b(this),e=d.data("datagrid"),f="object"==typeof a&&a;e||d.data("datagrid",e=new c(this,f)),"string"==typeof a&&e[a]()})},b.fn.datagrid.defaults={dataOptions:{pageIndex:0,pageSize:10},loadingHTML:'<div class="progress progress-striped active" style="width:50%;margin:auto;"><div class="bar" style="width:100%;"></div></div>',itemsText:"items",itemText:"item"},b.fn.datagrid.Constructor=c}),define("query/query.results",["jquery","underscore","backbone","egad","metadata/datasetinfo","query/prefix","codemirror","sparqlMode","showHint","sparqlHint","matchbrackets","bootstrap","select2","fuelux-datagrid","handlebars.helpers"],function(a,b,c,d){"use strict";var e={};return e.Model=c.Model.extend({}),e.View=c.Layout.extend({template:"query/queryResults",tagName:"div",id:"queryResults",className:"fuelux",initialize:function(){b.bindAll(this),this.dataSource=this.model.get("dataSource")},events:{"click button.externalUri":"goWeb","click a.uriDesc":"doDescribe"},afterRender:function(){a("#results-grid").datagrid({dataSource:this.dataSource,stretchHeight:!0})},getQuery:function(){return this.dataSource.getQuery()},getQuerySniffer:function(){return this.dataSource.getQuerySniffer()},_testUri:function(b){var c={Accept:"text/boolean"};return function(b,c){var e,f="ask { <"+b+"> ?p ?o }";return a.ajax(d.ajax.sparqlEndpointUrl(f),{async:!1,headers:c,dataType:"text"}).done(function(a){e=JSON.parse(a)}).fail(function(a){400==a.status&&d.api.Mediator.publish("QueryDataSource:error",{message:a.responseText}),e=!1}),e}(b,c)},doDescribe:function(b){b.preventDefault();var d=a(b.target).attr("href"),e="";sessionStorage&&(e=sessionStorage.getItem("queryReasoningLevel"))
;var f="select (<"+d+"> as ?s) ?p ?o ?g { \n  { <"+d+"> ?p ?o } \nunion \n  { graph ?g { <"+d+"> ?p ?o } } \n}";e?c.history.navigate("#!/query/"+encodeURIComponent(f)+"/reasoning/"+e,{trigger:!0}):c.history.navigate("#!/query/"+encodeURIComponent(f),{trigger:!0})},goWeb:function(b){b.preventDefault();var c=a(b.target).parents("td").find("a").attr("href");window.open(c)}}),e}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("sparqler",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.sparqljs=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){var b="";for(var c in a.prefixes)b+="PREFIX "+c+": <"+a.prefixes[c]+">\n";return a.queryType&&(b+=a.queryType.toUpperCase()+" "),a.reduced&&(b+="REDUCED "),a.distinct&&(b+="DISTINCT "),a.variables?b+=j(a.variables,function(a){return i(a)?g(a):"("+f(a.expression)+" AS "+a.variable+")"})+" ":a.template&&(b+=m.group(a.template,!0)+"\n"),a.from&&(b+=j(a.from.default||[],function(a){return"FROM "+g(a)+"\n"},"")+j(a.from.named||[],function(a){return"FROM NAMED "+g(a)+"\n"},"")),a.where&&(b+="WHERE "+m.group(a.where,!0)+"\n"),a.updates?b+=j(a.updates,h,";\n"):a.values&&(b+=m.values(a)),a.order&&(b+="ORDER BY "+j(a.order,function(a){var b=f(a.expression);return a.descending?"DESC("+b+")":b})+"\n"),a.group&&(b+="GROUP BY "+j(a.group,function(a){return i(a.expression)?a.expression:"("+f(a.expression)+")"})+"\n"),a.having&&(b+="HAVING ("+j(a.having,f)+")\n"),a.offset&&(b+="OFFSET "+a.offset+"\n"),a.limit&&(b+="LIMIT "+a.limit+"\n"),b.trim()}function e(a){var b=a.type||a instanceof Array&&"array"||(a.subject&&a.predicate&&a.object?"triple":"");if(!(b in m))throw new Error("Unknown entry type: "+b);return m[b](a)}function f(a){if(i(a))return g(a);switch(a.type.toLowerCase()){case"aggregate":return a.aggregation.toUpperCase()+"("+(a.distinct?"DISTINCT ":"")+f(a.expression)+(a.separator?"; SEPARATOR = "+g('"'+a.separator+'"'):"")+")";case"functioncall":return g(a.function)+"("+j(a.args,f,", ")+")";case"operation":var b=a.operator.toUpperCase(),c=a.args||[],d=c[0];switch(a.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return j(c,function(a){return i(a)?g(a):"("+f(a)+")"}," "+b+" ");case"!":return"!"+f(d);case"notin":b="NOT IN";case"in":return f(d)+" "+b+"("+(i(d=c[1])?d:j(d,f,", "))+")";case"notexists":b="NOT EXISTS";case"exists":return b+" "+m.group(d,!0);default:return b+"("+j(c,f,", ")+")"}default:throw new Error("Unknown expression type: "+a.type)}}function g(a){if(i(a))switch(a[0]){case"?":case"$":case"*":case"_":return a;case'"':var b=a.match(/^"(.*)"(?:(@.+)|\^\^(.+))?$/)||{},c=b[1]||"",d=b[2]||"",e=b[3];if(a='"'+c.replace(n,o)+'"'+d,e){if(e===l&&/^\d+$/.test(c))return c;a+="^^<"+e+">"}return a;default:return"<"+a+">"}else{var f=a.items.map(g),h=a.pathType;switch(h){case"^":case"!":return h+f[0];case"*":case"+":case"?":return f[0]+h;default:return"("+f.join(h)+")"}}}function h(a){switch(a.type||a.updateType){case"load":return"LOAD"+(a.source?" "+g(a.source):"")+(a.destination?" INTO GRAPH "+g(a.destination):"");case"insert":return"INSERT DATA "+m.group(a.insert,!0);case"delete":return"DELETE DATA "+m.group(a.delete,!0);case"deletewhere":return"DELETE WHERE "+m.group(a.delete,!0);case"insertdelete":return(a.graph?"WITH "+g(a.graph)+"\n":"")+(a.delete.length?"DELETE "+m.group(a.delete,!0)+"\n":"")+(a.insert.length?"INSERT "+m.group(a.insert,!0)+"\n":"")+"WHERE "+m.group(a.where,!0);case"add":case"copy":case"move":return a.type.toUpperCase()+(a.source.default?" DEFAULT ":" ")+"TO "+g(a.destination.name);default:throw new Error("Unknown update query type: "+a.type)}}function i(a){return"string"==typeof a}function j(a,b,c){return a.map(b).join(i(c)?c:" ")}function k(a){return a.replace(/^/gm,"  ")}var l="http://www.w3.org/2001/XMLSchema#integer";b.exports=function(){return{stringify:d}};var m={triple:function(a){return g(a.subject)+" "+g(a.predicate)+" "+g(a.object)+"."},array:function(a){return j(a,e,"\n")},bgp:function(a){return j(a.triples,m.triple,"\n")},graph:function(a){return"GRAPH "+g(a.name)+" "+m.group(a)},group:function(a,b){return a=!0!==b?m.array(a.patterns||a.triples):e("group"!==a.type?a:a.patterns),-1===a.indexOf("\n")?"{ "+a+" }":"{\n"+k(a)+"\n}"},query:function(a){return"{\n"+k(d(a))+"\n}"},filter:function(a){return"FILTER("+f(a.expression)+")"},bind:function(a){return"BIND("+f(a.expression)+" AS "+a.variable+")"},optional:function(a){return"OPTIONAL "+m.group(a)},union:function(a){return j(a.patterns,function(a){return m.group(a,!0)},"\nUNION\n")},minus:function(a){return"MINUS "+m.group(a)},values:function(a){var b=Object.keys(a.values.reduce(function(a,b){for(var c in b)a[c]=!0;return a},{}));return"VALUES ("+b.join(" ")+") {\n"+j(a.values,function(a){return"  ("+j(b,function(b){return void 0!==a[b]?g(a[b]):"UNDEF"})+")"},"\n")+"\n}"},service:function(a){return"SERVICE "+(a.silent?"SILENT ":"")+g(a.name)+" "+m.group(a)}},n=/["\\\t\n\r\b\f]/g,o=function(a){return p[a]},p={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"}},{}],2:[function(a,b,c){(function(d){var e=function(){function a(a){return a.toLowerCase()}function b(a,b){return a.push(b),a}function c(a,b){return a.push.apply(a,b),a}function d(a){a||(a={});for(var b,c=1,d=arguments.length;c<d&&(b=arguments[c]||{});c++)for(var e in b)a[e]=b[e];return a}function e(){for(var a=[],b=0,c=arguments.length;b<c;b++)a=a.concat.apply(a,arguments[b]);return a}function f(a){switch("<"===a[0]&&(a=a.substring(1,a.length-1)),a[0]){case void 0:return Hc;case"#":return Hc+a;case"?":return Hc.replace(/(?:\?.*)?$/,a);case"/":return Jc+a;default:return/^[a-z]+:/.test(a)?a:Ic+a}}function g(a){if(a){var b=a[0];if("?"===b)return a;if("$"===b)return"?"+a.substr(1)}return a}function h(a,b){return{type:"operation",operator:a,args:b||[]}}function i(a,b){var c={expression:a};if(b)for(var d in b)c[d]=b[d];return c}function j(a,b){return{type:"path",pathType:a,items:b}}function k(a,b){for(var c,d=0,e=b.length;d<e&&(c=b[d]);d++)a=h(c[0],[a,c[1]]);return a}function l(a){for(var b,c=[],d=[],e=a.length,f=0;f<e&&(b=a[f]);f++)(b.named?d:c).push(b.iri);return e?{from:{default:c,named:d}}:null}function m(a){return parseInt(a,10)}function n(a){return"group"===a.type&&1===a.patterns.length?a.patterns[0]:a}function o(a,b){return'"'+a+'"^^'+b}function p(a,b,c){var d={};return null!=a&&(d.subject=a),null!=b&&(d.predicate=b),null!=c&&(d.object=c),d}function q(){return"_:b"+Kc++}function r(a,b){a=a.substring(b,a.length-b);try{a=a.replace(Lc,function(a,b,c,d){var e;if(b){if(e=parseInt(b,16),isNaN(e))throw new Error;return Nc(e)}if(c){if(e=parseInt(c,16),isNaN(e))throw new Error;return e<65535?Nc(e):Nc(55296+((e-=65536)>>10),56320+(1023&e))}var f=Mc[d];if(!f)throw new Error;return f})}catch(a){return""}return'"'+a+'"'}function s(a){var b,d=q(),e=d,f=[],g=[];a.forEach(function(a){f.push(a.entity),c(g,a.triples)});for(var h=0,i=0,j=f.length,b=Array(2*j);h<j;)b[i++]=p(e,xc,f[h]),b[i++]=p(e,yc,e=++h<j?q():zc);return{entity:d,triples:c(b,g)}}function t(a){var b=q();return{entity:b,triples:a.map(function(a){return d(p(b),a)})}}function u(a,b,d){var f=[],g=[];return b.forEach(function(b){f.push(p(null,a,b.entity)),c(g,b.triples)}),e(f,d||[],g)}function v(){this.yy={}}var w=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},x=[11,14,23,33,42,47,95,105,108,110,111,120,121,126,288,289,290,291,292],y=[95,105,108,110,111,120,121,126,288,289,290,291,292],z=[1,21],A=[1,25],B=[6,82],C=[37,38,50],D=[37,50],E=[1,55],F=[1,57],G=[1,53],H=[1,56],I=[27,28,283],J=[12,15,277],K=[107,129,286,293],L=[12,15,107,129,277],M=[1,76],N=[1,80],O=[1,82],P=[107,129,286,287,293],Q=[12,15,107,129,277,287],R=[1,89],S=[2,229],T=[1,88],U=[12,15,27,28,79,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],V=[6,37,38,50,60,67,70,78,80,82],W=[6,12,15,27,37,38,50,60,67,70,78,80,82,277],X=[6,12,15,27,28,30,31,37,38,40,50,60,67,70,78,79,80,82,89,104,107,120,121,123,128,155,156,158,161,162,163,181,192,203,208,210,211,213,214,222,237,242,259,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,297,298,300,301,302,303,304,305,306,307,308,309],Y=[1,104],Z=[1,105],$=[6,12,15,27,28,38,40,79,82,107,155,156,158,161,162,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294],_=[27,31],aa=[2,284],ba=[1,118],ca=[1,116],da=[6,192],ea=[2,301],fa=[2,289],ga=[37,123],ha=[6,40,67,70,78,80,82],ia=[2,231],ja=[1,132],ka=[1,134],la=[1,144],ma=[1,150],na=[1,153],oa=[1,149],pa=[1,151],qa=[1,147],ra=[1,148],sa=[1,154],ta=[1,155],ua=[1,158],va=[1,159],wa=[1,160],xa=[1,161],ya=[1,162],za=[1,163],Aa=[1,164],Ba=[1,165],Ca=[1,166],Da=[1,167],Ea=[1,168],Fa=[1,169],Ga=[6,60,67,70,78,80,82],Ha=[27,28,37,38,50],Ia=[12,15,27,28,79,203,237,239,240,241,243,245,246,248,249,252,254,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,301,309,310,311,312,313,314],Ja=[2,374],Ka=[12,15,40,79,89,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],La=[6,104,192],Ma=[40,107],Na=[6,40,70,78,80,82],Oa=[2,313],Pa=[2,305],Qa=[12,15,27,181,277],Ra=[2,341],Sa=[2,337],Ta=[12,15,27,28,31,38,40,79,82,107,155,156,158,161,162,163,181,192,203,208,210,211,213,214,242,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294],Ua=[12,15,27,28,30,31,38,40,79,82,89,107,155,156,158,161,162,163,181,192,203,208,210,211,213,214,222,237,242,259,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,298,301,302,303,304,305,306,307,308,309],Va=[12,15,27,28,30,31,38,40,79,82,89,107,155,156,158,161,162,163,181,192,203,208,210,211,213,214,222,237,242,259,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,298,301,302,303,304,305,306,307,308,309],Wa=[1,227],Xa=[1,238],Ya=[6,40,78,80,82],Za=[1,249],$a=[1,251],_a=[1,252],ab=[1,253],bb=[1,254],cb=[1,256],db=[1,257],eb=[2,405],fb=[1,260],gb=[1,261],hb=[1,262],ib=[1,268],jb=[1,263],kb=[1,264],lb=[1,265],mb=[1,266],nb=[1,267],ob=[1,274],pb=[1,273],qb=[38,40,82,107,155,156,158,161,162],rb=[1,282],sb=[1,283],tb=[40,107,294],ub=[12,15,27,28,31,79,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],vb=[12,15,27,28,31,38,40,79,82,107,155,156,158,161,162,163,192,210,211,213,214,242,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294],wb=[12,15,27,28,79,239,240,241,243,245,246,248,249,252,254,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,309,310,311,312,313,314],xb=[2,398],yb=[1,301],zb=[1,302],Ab=[1,303],Bb=[12,15,31,40,79,89,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],Cb=[28,40],Db=[2,304],Eb=[6,40,82],Fb=[6,12,15,28,40,70,78,80,82,239,240,241,243,245,246,248,249,252,254,277,309,310,311,312,313,314],Gb=[6,12,15,27,28,38,40,70,73,75,78,79,80,82,107,155,156,158,161,162,163,210,213,214,239,240,241,243,245,246,248,249,252,254,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294,309,310,311,312,313,314],Hb=[6,12,15,27,28,30,31,38,40,67,70,73,75,78,79,80,82,107,155,156,158,161,162,163,192,210,213,214,222,237,239,240,241,242,243,245,246,248,249,252,254,259,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,298,301,302,303,304,305,306,307,308,309,310,311,312,313,314],Ib=[1,326],Jb=[1,325],Kb=[1,332],Lb=[1,331],Mb=[28,163],Nb=[6,12,15,27,28,40,67,70,78,80,82,239,240,241,243,245,246,248,249,252,254,277,309,310,311,312,313,314],Ob=[6,12,15,27,28,30,31,38,40,60,67,70,73,75,78,79,80,82,107,155,156,158,161,162,163,192,210,213,214,222,237,239,240,241,242,243,245,246,248,249,252,254,259,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,295,298,301,302,303,304,305,306,307,308,309,310,311,312,313,314],Pb=[12,15,28,181,203,208,277],Qb=[2,355],Rb=[1,354],Sb=[38,40,82,107,155,156,158,161,162,294],Tb=[2,343],Ub=[12,15,27,28,31,38,40,79,82,107,155,156,158,161,162,163,181,192,210,211,213,214,242,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294],Vb=[30,31,192,242,302,303],Wb=[30,31,192,222,237,242,259,271,272,273,274,275,276,301,302,303,304,305,306,307,308,309],Xb=[30,31,192,222,237,242,259,271,272,273,274,275,276,283,298,301,302,303,304,305,306,307,308,309],Yb=[1,387],Zb=[1,402],$b=[1,399],_b=[1,400],ac=[12,15,27,28,79,203,237,239,240,241,243,245,246,248,249,252,254,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,301,309,310,311,312,313,314],bc=[12,15,27,28,38,40,79,82,107,155,156,158,161,162,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],cc=[12,15,27,277],dc=[12,15,27,28,38,40,79,82,107,155,156,158,161,162,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,294],ec=[2,316],fc=[12,15,27,181,192,277],gc=[1,453],hc=[1,454],ic=[12,15,31,79,89,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],jc=[6,12,15,27,28,40,73,75,78,80,82,239,240,241,243,245,246,248,249,252,254,277,309,310,311,312,313,314],kc=[2,311],lc=[12,15,28,181,203,277],mc=[38,40,82,107,155,156,158,161,162,192,211,294],nc=[12,15,27,28,40,79,107,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277],oc=[12,15,27,28,31,79,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,297,298],pc=[12,15,27,28,31,79,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,297,298,300,301],qc=[1,545],rc=[1,546],sc=[2,299],tc=[12,15,31,181,208,277],uc={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdateUnit:3,QueryOrUpdateUnit_repetition0:4,QueryOrUpdateUnit_group0:5,EOF:6,Query:7,Query_group0:8,Query_option0:9,BaseDecl:10,BASE:11,IRIREF:12,PrefixDecl:13,PREFIX:14,PNAME_NS:15,SelectQuery:16,SelectClause:17,SelectQuery_repetition0:18,WhereClause:19,SolutionModifier:20,SubSelect:21,SubSelect_option0:22,SELECT:23,SelectClause_option0:24,SelectClause_group0:25,SelectClauseItem:26,VAR:27,"(":28,Expression:29,AS:30,")":31,ConstructQuery:32,CONSTRUCT:33,ConstructTemplate:34,ConstructQuery_repetition0:35,ConstructQuery_repetition1:36,WHERE:37,"{":38,ConstructQuery_option0:39,"}":40,DescribeQuery:41,DESCRIBE:42,DescribeQuery_group0:43,DescribeQuery_repetition0:44,DescribeQuery_option0:45,AskQuery:46,ASK:47,AskQuery_repetition0:48,DatasetClause:49,FROM:50,DatasetClause_option0:51,iri:52,WhereClause_option0:53,GroupGraphPattern:54,SolutionModifier_option0:55,SolutionModifier_option1:56,SolutionModifier_option2:57,SolutionModifier_option3:58,GroupClause:59,GROUP:60,BY:61,GroupClause_repetition_plus0:62,GroupCondition:63,BuiltInCall:64,FunctionCall:65,HavingClause:66,HAVING:67,HavingClause_repetition_plus0:68,OrderClause:69,ORDER:70,OrderClause_repetition_plus0:71,OrderCondition:72,ASC:73,BrackettedExpression:74,DESC:75,Constraint:76,LimitOffsetClauses:77,LIMIT:78,INTEGER:79,OFFSET:80,ValuesClause:81,VALUES:82,InlineData:83,InlineData_repetition0:84,InlineData_repetition1:85,InlineData_repetition2:86,DataBlockValue:87,Literal:88,UNDEF:89,DataBlockValueList:90,DataBlockValueList_repetition0:91,Update:92,Update_repetition0:93,Update1:94,LOAD:95,Update1_option0:96,Update1_option1:97,Update1_group0:98,Update1_option2:99,GraphRefAll:100,Update1_group1:101,Update1_option3:102,GraphOrDefault:103,TO:104,CREATE:105,Update1_option4:106,GRAPH:107,INSERTDATA:108,QuadPattern:109,DELETEDATA:110,DELETEWHERE:111,Update1_option5:112,InsertClause:113,Update1_option6:114,Update1_repetition0:115,Update1_option7:116,DeleteClause:117,Update1_option8:118,Update1_repetition1:119,DELETE:120,INSERT:121,UsingClause:122,USING:123,UsingClause_option0:124,WithClause:125,WITH:126,IntoGraphClause:127,INTO:128,DEFAULT:129,GraphOrDefault_option0:130,GraphRefAll_group0:131,QuadPattern_option0:132,QuadPattern_repetition0:133,QuadsNotTriples:134,QuadsNotTriples_group0:135,QuadsNotTriples_option0:136,QuadsNotTriples_option1:137,QuadsNotTriples_option2:138,TriplesTemplate:139,TriplesTemplate_repetition0:140,TriplesSameSubject:141,TriplesTemplate_option0:142,GroupGraphPatternSub:143,GroupGraphPatternSub_option0:144,GroupGraphPatternSub_repetition0:145,GroupGraphPatternSubTail:146,GraphPatternNotTriples:147,GroupGraphPatternSubTail_option0:148,GroupGraphPatternSubTail_option1:149,TriplesBlock:150,TriplesBlock_repetition0:151,TriplesSameSubjectPath:152,TriplesBlock_option0:153,GraphPatternNotTriples_repetition0:154,OPTIONAL:155,MINUS:156,GraphPatternNotTriples_group0:157,SERVICE:158,GraphPatternNotTriples_option0:159,GraphPatternNotTriples_group1:160,FILTER:161,BIND:162,NIL:163,FunctionCall_option0:164,FunctionCall_repetition0:165,ExpressionList:166,ExpressionList_repetition0:167,ConstructTemplate_option0:168,ConstructTriples:169,ConstructTriples_repetition0:170,ConstructTriples_option0:171,VarOrTerm:172,PropertyListNotEmpty:173,TriplesNode:174,PropertyList:175,PropertyList_option0:176,PropertyListNotEmpty_repetition0:177,VerbObjectList:178,Verb:179,ObjectList:180,a:181,ObjectList_repetition0:182,GraphNode:183,PropertyListPathNotEmpty:184,TriplesNodePath:185,TriplesSameSubjectPath_option0:186,PropertyListPathNotEmpty_group0:187,PropertyListPathNotEmpty_repetition0:188,GraphNodePath:189,PropertyListPathNotEmpty_repetition1:190,PropertyListPathNotEmptyTail:191,";":192,PropertyListPathNotEmptyTail_group0:193,Path:194,Path_repetition0:195,PathSequence:196,PathSequence_repetition0:197,PathEltOrInverse:198,PathElt:199,PathPrimary:200,PathElt_option0:201,PathEltOrInverse_option0:202,"!":203,PathNegatedPropertySet:204,PathOneInPropertySet:205,PathNegatedPropertySet_repetition0:206,PathNegatedPropertySet_option0:207,"^":208,TriplesNode_repetition_plus0:209,"[":210,"]":211,TriplesNodePath_repetition_plus0:212,BLANK_NODE_LABEL:213,ANON:214,Expression_repetition0:215,ConditionalAndExpression:216,ConditionalAndExpression_repetition0:217,RelationalExpression:218,AdditiveExpression:219,RelationalExpression_group0:220,RelationalExpression_option0:221,IN:222,MultiplicativeExpression:223,AdditiveExpression_repetition0:224,AdditiveExpressionTail:225,AdditiveExpressionTail_group0:226,NumericLiteralPositive:227,AdditiveExpressionTail_repetition0:228,NumericLiteralNegative:229,AdditiveExpressionTail_repetition1:230,UnaryExpression:231,MultiplicativeExpression_repetition0:232,MultiplicativeExpressionTail:233,MultiplicativeExpressionTail_group0:234,UnaryExpression_option0:235,PrimaryExpression:236,"-":237,Aggregate:238,FUNC_ARITY0:239,FUNC_ARITY1:240,FUNC_ARITY2:241,",":242,IF:243,BuiltInCall_group0:244,BOUND:245,BNODE:246,BuiltInCall_option0:247,EXISTS:248,COUNT:249,Aggregate_option0:250,Aggregate_group0:251,FUNC_AGGREGATE:252,Aggregate_option1:253,GROUP_CONCAT:254,Aggregate_option2:255,Aggregate_option3:256,GroupConcatSeparator:257,SEPARATOR:258,"=":259,String:260,LANGTAG:261,"^^":262,DECIMAL:263,DOUBLE:264,true:265,false:266,STRING_LITERAL1:267,STRING_LITERAL2:268,STRING_LITERAL_LONG1:269,STRING_LITERAL_LONG2:270,INTEGER_POSITIVE:271,DECIMAL_POSITIVE:272,DOUBLE_POSITIVE:273,INTEGER_NEGATIVE:274,DECIMAL_NEGATIVE:275,DOUBLE_NEGATIVE:276,PNAME_LN:277,QueryOrUpdateUnit_repetition0_group0:278,SelectClause_option0_group0:279,DISTINCT:280,REDUCED:281,SelectClause_group0_repetition_plus0:282,"*":283,DescribeQuery_group0_repetition_plus0_group0:284,DescribeQuery_group0_repetition_plus0:285,NAMED:286,SILENT:287,CLEAR:288,DROP:289,ADD:290,MOVE:291,COPY:292,ALL:293,".":294,UNION:295,PropertyListNotEmpty_repetition0_repetition_plus0:296,"|":297,"/":298,PathElt_option0_group0:299,"?":300,"+":301,"||":302,"&&":303,"!=":304,"<":305,">":306,"<=":307,">=":308,NOT:309,CONCAT:310,COALESCE:311,SUBSTR:312,REGEX:313,REPLACE:314,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",11:"BASE",12:"IRIREF",14:"PREFIX",15:"PNAME_NS",23:"SELECT",27:"VAR",28:"(",30:"AS",31:")",33:"CONSTRUCT",37:"WHERE",38:"{",40:"}",42:"DESCRIBE",47:"ASK",50:"FROM",60:"GROUP",61:"BY",67:"HAVING",70:"ORDER",73:"ASC",75:"DESC",78:"LIMIT",79:"INTEGER",80:"OFFSET",82:"VALUES",89:"UNDEF",95:"LOAD",104:"TO",105:"CREATE",107:"GRAPH",108:"INSERTDATA",110:"DELETEDATA",111:"DELETEWHERE",120:"DELETE",121:"INSERT",123:"USING",126:"WITH",128:"INTO",129:"DEFAULT",155:"OPTIONAL",156:"MINUS",158:"SERVICE",161:"FILTER",162:"BIND",163:"NIL",181:"a",192:";",203:"!",208:"^",210:"[",211:"]",213:"BLANK_NODE_LABEL",214:"ANON",222:"IN",237:"-",239:"FUNC_ARITY0",240:"FUNC_ARITY1",241:"FUNC_ARITY2",242:",",243:"IF",245:"BOUND",246:"BNODE",248:"EXISTS",249:"COUNT",252:"FUNC_AGGREGATE",254:"GROUP_CONCAT",258:"SEPARATOR",259:"=",261:"LANGTAG",262:"^^",263:"DECIMAL",264:"DOUBLE",265:"true",266:"false",267:"STRING_LITERAL1",268:"STRING_LITERAL2",269:"STRING_LITERAL_LONG1",270:"STRING_LITERAL_LONG2",271:"INTEGER_POSITIVE",272:"DECIMAL_POSITIVE",273:"DOUBLE_POSITIVE",274:"INTEGER_NEGATIVE",275:"DECIMAL_NEGATIVE",276:"DOUBLE_NEGATIVE",277:"PNAME_LN",280:"DISTINCT",281:"REDUCED",283:"*",286:"NAMED",287:"SILENT",288:"CLEAR",289:"DROP",290:"ADD",291:"MOVE",292:"COPY",293:"ALL",294:".",295:"UNION",297:"|",298:"/",300:"?",301:"+",302:"||",303:"&&",304:"!=",305:"<",306:">",307:"<=",308:">=",309:"NOT",310:"CONCAT",311:"COALESCE",312:"SUBSTR",313:"REGEX",314:"REPLACE"},productions_:[0,[3,3],[7,2],[10,2],[13,3],[16,4],[21,4],[17,3],[26,1],[26,5],[32,5],[32,7],[41,5],[46,4],[49,3],[19,2],[20,4],[59,3],[63,1],[63,1],[63,3],[63,5],[63,1],[66,2],[69,3],[72,2],[72,2],[72,1],[72,1],[77,2],[77,2],[77,4],[77,4],[81,2],[83,4],[83,6],[87,1],[87,1],[87,1],[90,3],[92,2],[94,4],[94,3],[94,5],[94,4],[94,2],[94,2],[94,2],[94,6],[94,6],[117,2],[113,2],[122,3],[125,2],[127,3],[103,1],[103,2],[100,2],[100,1],[109,4],[134,7],[139,3],[54,3],[54,3],[143,2],[146,3],[150,3],[147,2],[147,2],[147,2],[147,3],[147,4],[147,2],[147,6],[147,1],[76,1],[76,1],[76,1],[65,2],[65,6],[166,1],[166,4],[34,3],[169,3],[141,2],[141,2],[175,1],[173,2],[178,2],[179,1],[179,1],[179,1],[180,2],[152,2],[152,2],[184,4],[191,1],[191,3],[194,2],[196,2],[199,2],[198,2],[200,1],[200,1],[200,2],[200,3],[204,1],[204,1],[204,4],[205,1],[205,1],[205,2],[205,2],[174,3],[174,3],[185,3],[185,3],[183,1],[183,1],[189,1],[189,1],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[29,2],[216,2],[218,1],[218,3],[218,4],[219,2],[225,2],[225,2],[225,2],[223,2],[233,2],[231,2],[231,2],[231,2],[236,1],[236,1],[236,1],[236,1],[236,1],[236,1],[74,3],[64,1],[64,2],[64,4],[64,6],[64,8],[64,2],[64,4],[64,2],[64,4],[64,3],[238,5],[238,5],[238,6],[257,4],[88,1],[88,2],[88,3],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[260,1],[260,1],[260,1],[260,1],[227,1],[227,1],[227,1],[229,1],[229,1],[229,1],[52,1],[52,1],[52,1],[278,1],[278,1],[4,0],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[8,1],[9,0],[9,1],[18,0],[18,2],[22,0],[22,1],[279,1],[279,1],[24,0],[24,1],[282,1],[282,2],[25,1],[25,1],[35,0],[35,2],[36,0],[36,2],[39,0],[39,1],[284,1],[284,1],[285,1],[285,2],[43,1],[43,1],[44,0],[44,2],[45,0],[45,1],[48,0],[48,2],[51,0],[51,1],[53,0],[53,1],[55,0],[55,1],[56,0],[56,1],[57,0],[57,1],[58,0],[58,1],[62,1],[62,2],[68,1],[68,2],[71,1],[71,2],[84,0],[84,2],[85,0],[85,2],[86,0],[86,2],[91,0],[91,2],[93,0],[93,3],[96,0],[96,1],[97,0],[97,1],[98,1],[98,1],[99,0],[99,1],[101,1],[101,1],[101,1],[102,0],[102,1],[106,0],[106,1],[112,0],[112,1],[114,0],[114,1],[115,0],[115,2],[116,0],[116,1],[118,0],[118,1],[119,0],[119,2],[124,0],[124,1],[130,0],[130,1],[131,1],[131,1],[131,1],[132,0],[132,1],[133,0],[133,2],[135,1],[135,1],[136,0],[136,1],[137,0],[137,1],[138,0],[138,1],[140,0],[140,3],[142,0],[142,1],[144,0],[144,1],[145,0],[145,2],[148,0],[148,1],[149,0],[149,1],[151,0],[151,3],[153,0],[153,1],[154,0],[154,3],[157,1],[157,1],[159,0],[159,1],[160,1],[160,1],[164,0],[164,1],[165,0],[165,3],[167,0],[167,3],[168,0],[168,1],[170,0],[170,3],[171,0],[171,1],[176,0],[176,1],[296,1],[296,2],[177,0],[177,3],[182,0],[182,3],[186,0],[186,1],[187,1],[187,1],[188,0],[188,3],[190,0],[190,2],[193,1],[193,1],[195,0],[195,3],[197,0],[197,3],[299,1],[299,1],[299,1],[201,0],[201,1],[202,0],[202,1],[206,0],[206,3],[207,0],[207,1],[209,1],[209,2],[212,1],[212,2],[215,0],[215,3],[217,0],[217,3],[220,1],[220,1],[220,1],[220,1],[220,1],[220,1],[221,0],[221,1],[224,0],[224,2],[226,1],[226,1],[228,0],[228,2],[230,0],[230,2],[232,0],[232,2],[234,1],[234,1],[235,0],[235,1],[244,1],[244,1],[244,1],[244,1],[244,1],[247,0],[247,1],[250,0],[250,1],[251,1],[251,1],[253,0],[253,1],[255,0],[255,1],[256,0],[256,1]],performAction:function(w,x,y,z,A,B,C){var D=B.length-1;switch(A){case 1:return B[D-1].prefixes=v.prefixes,v.prefixes=null,Hc=Ic=Jc="",B[D-1];case 2:this.$=d({type:"query"},B[D-1],B[D]);break;case 3:Hc=f(B[D]),Ic=Hc.replace(/[^\/]*$/,""),Jc=Hc.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0];break;case 4:v.prefixes||(v.prefixes={}),B[D-1]=B[D-1].substr(0,B[D-1].length-1),B[D]=f(B[D]),v.prefixes[B[D-1]]=B[D];break;case 5:this.$=d(B[D-3],l(B[D-2]),B[D-1],B[D]);break;case 6:this.$=d({type:"query"},B[D-3],B[D-2],B[D-1],B[D]);break;case 7:this.$=d({queryType:"SELECT",variables:"*"===B[D]?["*"]:B[D]},B[D-1]&&(B[D-2]=a(B[D-1]),B[D-1]={},B[D-1][B[D-2]]=!0,B[D-1]));break;case 8:case 89:case 121:case 146:this.$=g(B[D]);break;case 9:case 21:this.$=i(B[D-3],{variable:g(B[D-1])});break;case 10:this.$=d({queryType:"CONSTRUCT",template:B[D-3]},l(B[D-2]),B[D-1],B[D]);break;case 11:this.$=d({queryType:"CONSTRUCT",template:B[D-2]=B[D-2]?B[D-2].triples:[]},l(B[D-5]),{where:[{type:"bgp",triples:c([],B[D-2])}]},B[D]);break;case 12:this.$=d({queryType:"DESCRIBE",variables:"*"===B[D-3]?["*"]:B[D-3].map(g)},l(B[D-2]),B[D-1],B[D]);break;case 13:this.$=d({queryType:"ASK"},l(B[D-2]),B[D-1],B[D]);break;case 14:case 52:this.$={iri:B[D],named:!!B[D-1]};break;case 15:this.$={where:B[D].patterns};break;case 16:this.$=d(B[D-3],B[D-2],B[D-1],B[D]);break;case 17:this.$={group:B[D]};break;case 18:case 19:case 25:case 27:this.$=i(B[D]);break;case 20:this.$=i(B[D-1]);break;case 22:case 28:this.$=i(g(B[D]));break;case 23:this.$={having:B[D]};break;case 24:this.$={order:B[D]};break;case 26:this.$=i(B[D],{descending:!0});break;case 29:this.$={limit:m(B[D])};break;case 30:this.$={offset:m(B[D])};break;case 31:this.$={limit:m(B[D-2]),offset:m(B[D])};break;case 32:this.$={limit:m(B[D]),offset:m(B[D-2])};break;case 33:this.$={type:"values",values:B[D]};break;case 34:B[D-3]=g(B[D-3]),this.$=B[D-1].map(function(a){var b={};return b[B[D-3]]=a,b});break;case 35:var E=B[D-4].length;B[D-4]=B[D-4].map(g),this.$=B[D-1].map(function(a){if(a.length!==E)throw Error("Inconsistent VALUES length");for(var b={},c=0;c<E;c++)b[B[D-4][c]]=a[c];return b});break;case 38:this.$=void 0;break;case 39:case 62:case 82:case 105:case 147:this.$=B[D-1];break;case 40:this.$={type:"update",updates:b(B[D-1],B[D])};break;case 41:this.$=d({type:"load",silent:!!B[D-2],source:B[D-1]},B[D]&&{destination:B[D]});break;case 42:this.$={type:a(B[D-2]),silent:!!B[D-1],graph:B[D]};break;case 43:this.$={type:a(B[D-4]),silent:!!B[D-3],source:B[D-2],destination:B[D]};break;case 44:this.$={type:"create",silent:!!B[D-2],graph:B[D-1]};break;case 45:this.$={updateType:"insert",insert:B[D]};break;case 46:this.$={updateType:"delete",delete:B[D]};break;case 47:this.$={updateType:"deletewhere",delete:B[D]};break;case 48:this.$=d({updateType:"insertdelete"},B[D-5],{insert:B[D-4]||[]},{delete:B[D-3]||[]},l(B[D-2]),{where:B[D].patterns});break;case 49:this.$=d({updateType:"insertdelete"},B[D-5],{delete:B[D-4]||[]},{insert:B[D-3]||[]},l(B[D-2]),{where:B[D].patterns});break;case 50:case 51:case 54:case 138:this.$=B[D];break;case 53:this.$={graph:B[D]};break;case 55:this.$={type:"graph",default:!0};break;case 56:case 57:this.$={type:"graph",name:B[D]};break;case 58:this.$={},this.$[a(B[D])]=!0;break;case 59:this.$=B[D-2]?e(B[D-1],[B[D-2]]):e(B[D-1]);break;case 60:var F=d(B[D-3]||{triples:[]},{type:"graph",name:g(B[D-5])});this.$=B[D]?[F,B[D]]:[F];break;case 61:case 66:this.$={type:"bgp",triples:e(B[D-2],[B[D-1]])};break;case 63:if(B[D-1].length>1){for(var G,H,I=[],J=[],K=0;H=B[D-1][K];K++)switch(H.type){case"bgp":H.triples.length&&(G?c(G.triples,H.triples):b(I,G=H));break;case"filter":b(J,H);break;default:(!H.patterns||H.patterns.length>0)&&(b(I,H),G=null)}B[D-1]=c(I,J)}this.$={type:"group",patterns:B[D-1]};break;case 64:this.$=B[D-1]?e([B[D-1]],B[D]):e(B[D]);break;case 65:this.$=B[D]?[B[D-2],B[D]]:B[D-2];break;case 67:this.$=B[D-1].length?{type:"union",patterns:e(B[D-1].map(n),[n(B[D])])}:n(B[D]);break;case 68:this.$=d(B[D],{type:"optional"});break;case 69:this.$=d(B[D],{type:"minus"});break;case 70:this.$=d(B[D],{type:"graph",name:g(B[D-1])});break;case 71:this.$=d(B[D],{type:"service",name:g(B[D-1]),silent:!!B[D-2]});break;case 72:this.$={type:"filter",expression:B[D]};break;case 73:this.$={type:"bind",variable:g(B[D-1]),expression:B[D-3]};break;case 78:this.$={type:"functionCall",function:B[D-1],args:[]};break;case 79:this.$={type:"functionCall",function:B[D-5],args:b(B[D-2],B[D-1]),distinct:!!B[D-3]};break;case 80:case 96:case 107:case 187:case 197:case 209:case 211:case 221:case 225:case 245:case 247:case 249:case 251:case 253:case 274:case 280:case 291:case 301:case 307:case 313:case 317:case 327:case 329:case 333:case 341:case 343:case 349:case 351:case 355:case 357:case 366:case 374:case 376:case 386:case 390:case 392:case 394:this.$=[];break;case 81:this.$=b(B[D-2],B[D-1]);break;case 83:this.$=e(B[D-2],[B[D-1]]);break;case 84:case 93:this.$=B[D].map(function(a){return d(p(B[D-1]),a)});break;case 85:this.$=c(B[D].map(function(a){return d(p(B[D-1].entity),a)}),B[D-1].triples);break;case 87:this.$=e(B[D-1],[B[D]]);break;case 88:this.$=u(B[D-1],B[D]);break;case 91:case 103:case 110:this.$=wc;break;case 92:this.$=b(B[D-1],B[D]);break;case 94:this.$=B[D]?c(B[D].map(function(a){return d(p(B[D-1].entity),a)}),B[D-1].triples):B[D-1].triples;break;case 95:this.$=u(g(B[D-3]),b(B[D-2],B[D-1]),B[D]);break;case 97:this.$=u(g(B[D-1]),B[D]);break;case 98:this.$=B[D-1].length?j("|",b(B[D-1],B[D])):B[D];break;case 99:this.$=B[D-1].length?j("/",b(B[D-1],B[D])):B[D];break;case 100:this.$=B[D]?j(B[D],[B[D-1]]):B[D-1];break;case 101:this.$=B[D-1]?j(B[D-1],[B[D]]):B[D];break;case 104:case 111:this.$=j(B[D-1],[B[D]]);break;case 108:this.$=j("|",b(B[D-2],B[D-1]));break;case 112:this.$=j(B[D-1],[wc]);break;case 113:case 115:this.$=s(B[D-1]);break;case 114:case 116:this.$=t(B[D-1]);break;case 117:case 119:this.$={entity:B[D],triples:[]};break;case 125:this.$=q();break;case 126:this.$=zc;break;case 127:this.$=B[D-1].length?h("||",b(B[D-1],B[D])):B[D];break;case 128:this.$=B[D-1].length?h("&&",b(B[D-1],B[D])):B[D];break;case 130:this.$=h(B[D-1],[B[D-2],B[D]]);break;case 131:this.$=h(B[D-2]?"notin":"in",[B[D-3],B[D]]);break;case 132:case 136:this.$=k(B[D-1],B[D]);break;case 133:case 137:this.$=[B[D-1],B[D]];break;case 134:this.$=["+",k(B[D-1],B[D])];break;case 135:this.$=["-",k(B[D-1].replace("-",""),B[D])];break;case 139:this.$=h(B[D-1],[B[D]]);break;case 140:this.$=h("UMINUS",[B[D]]);break;case 149:this.$=h(a(B[D-1]));break;case 150:this.$=h(a(B[D-3]),[B[D-1]]);break;case 151:this.$=h(a(B[D-5]),[B[D-3],B[D-1]]);break;case 152:this.$=h(a(B[D-7]),[B[D-5],B[D-3],B[D-1]]);break;case 153:this.$=h(a(B[D-1]),B[D]);break;case 154:this.$=h("bound",[g(B[D-1])]);break;case 155:this.$=h(B[D-1],[]);break;case 156:this.$=h(B[D-3],[B[D-1]]);break;case 157:this.$=h(B[D-2]?"notexists":"exists",[n(B[D])]);break;case 158:case 159:this.$=i(B[D-1],{type:"aggregate",aggregation:a(B[D-4]),distinct:!!B[D-2]});break;case 160:this.$=i(B[D-2],{type:"aggregate",aggregation:a(B[D-5]),distinct:!!B[D-3],separator:B[D-1]||" "});break;case 161:this.$=B[D].substr(1,B[D].length-2);break;case 163:this.$=B[D-1]+a(B[D]);break;case 164:this.$=B[D-2]+"^^"+B[D];break;case 165:case 179:this.$=o(B[D],Bc);break;case 166:
case 180:this.$=o(B[D],Cc);break;case 167:case 181:this.$=o(a(B[D]),Dc);break;case 170:this.$=Fc;break;case 171:this.$=Gc;break;case 172:case 173:this.$=r(B[D],1);break;case 174:case 175:this.$=r(B[D],3);break;case 176:this.$=o(B[D].substr(1),Bc);break;case 177:this.$=o(B[D].substr(1),Cc);break;case 178:this.$=o(B[D].substr(1).toLowerCase(),Dc);break;case 182:this.$=f(B[D]);break;case 183:var L=B[D].indexOf(":"),M=B[D].substr(0,L),N=v.prefixes[M];if(!N)throw new Error("Unknown prefix: "+M);this.$=f(N+B[D].substr(L+1));break;case 184:if(B[D]=B[D].substr(0,B[D].length-1),!(B[D]in v.prefixes))throw new Error("Unknown prefix: "+B[D]);this.$=f(v.prefixes[B[D]]);break;case 188:case 198:case 206:case 210:case 212:case 218:case 222:case 226:case 240:case 242:case 244:case 246:case 248:case 250:case 252:case 275:case 281:case 292:case 308:case 340:case 352:case 371:case 373:case 387:case 391:case 393:case 395:B[D-1].push(B[D]);break;case 205:case 217:case 239:case 241:case 243:case 339:case 370:case 372:this.$=[B[D]];break;case 254:case 302:case 314:case 318:case 328:case 330:case 334:case 342:case 344:case 350:case 356:case 358:case 367:case 375:case 377:B[D-2].push(B[D-1])}},table:[w(x,[2,187],{3:1,4:2}),{1:[3]},w(y,[2,253],{5:3,278:4,7:5,92:6,10:7,13:8,8:9,93:10,16:13,32:14,41:15,46:16,17:17,11:[1,11],14:[1,12],23:z,33:[1,18],42:[1,19],47:[1,20]}),{6:[1,22]},w(x,[2,188]),{6:[2,189]},{6:[2,190]},w(x,[2,185]),w(x,[2,186]),{6:[2,195],9:23,81:24,82:A},{94:26,95:[1,27],98:28,101:29,105:[1,30],108:[1,31],110:[1,32],111:[1,33],112:34,116:35,120:[2,276],121:[2,270],125:41,126:[1,42],288:[1,36],289:[1,37],290:[1,38],291:[1,39],292:[1,40]},{12:[1,43]},{15:[1,44]},w(B,[2,191]),w(B,[2,192]),w(B,[2,193]),w(B,[2,194]),w(C,[2,197],{18:45}),w(D,[2,211],{34:46,36:47,38:[1,48]}),{12:E,15:F,27:G,43:49,52:54,277:H,283:[1,51],284:52,285:50},w(C,[2,225],{48:58}),w(I,[2,203],{24:59,279:60,280:[1,61],281:[1,62]}),{1:[2,1]},{6:[2,2]},{6:[2,196]},{27:[1,64],28:[1,65],83:63},{6:[2,40],192:[1,66]},w(J,[2,255],{96:67,287:[1,68]}),w(K,[2,261],{99:69,287:[1,70]}),w(L,[2,266],{102:71,287:[1,72]}),{106:73,107:[2,268],287:[1,74]},{38:M,109:75},{38:M,109:77},{38:M,109:78},{113:79,121:N},{117:81,120:O},w(P,[2,259]),w(P,[2,260]),w(Q,[2,263]),w(Q,[2,264]),w(Q,[2,265]),{120:[2,277],121:[2,271]},{12:E,15:F,52:83,277:H},w(x,[2,3]),{12:[1,84]},{19:85,37:R,38:S,49:86,50:T,53:87},w(C,[2,209],{35:90}),{37:[1,91],49:92,50:T},w(U,[2,333],{168:93,169:94,170:95,40:[2,331]}),w(V,[2,221],{44:96}),w(V,[2,219],{52:54,284:97,12:E,15:F,27:G,277:H}),w(V,[2,220]),w(W,[2,217]),w(W,[2,215]),w(W,[2,216]),w(X,[2,182]),w(X,[2,183]),w(X,[2,184]),{19:98,37:R,38:S,49:99,50:T,53:87},{25:100,26:103,27:Y,28:Z,282:101,283:[1,102]},w(I,[2,204]),w(I,[2,201]),w(I,[2,202]),w($,[2,33]),{38:[1,106]},w(_,[2,247],{85:107}),w(y,[2,254]),{12:E,15:F,52:108,277:H},w(J,[2,256]),{100:109,107:[1,110],129:[1,112],131:111,286:[1,113],293:[1,114]},w(K,[2,262]),w(J,aa,{103:115,130:117,107:ba,129:ca}),w(L,[2,267]),{107:[1,119]},{107:[2,269]},w(da,[2,45]),w(U,ea,{132:120,139:121,140:122,40:fa,107:fa}),w(da,[2,46]),w(da,[2,47]),w(ga,[2,272],{114:123,117:124,120:O}),{38:M,109:125},w(ga,[2,278],{118:126,113:127,121:N}),{38:M,109:128},w([120,121],[2,53]),w(x,[2,4]),w(ha,ia,{20:129,55:130,59:131,60:ja}),w(C,[2,198]),{38:ka,54:133},w(J,[2,227],{51:135,286:[1,136]}),{38:[2,230]},{19:137,37:R,38:S,49:138,50:T,53:87},{38:[1,139]},w(D,[2,212]),{40:[1,140]},{40:[2,332]},{12:E,15:F,27:la,28:ma,52:145,79:na,88:146,141:141,163:oa,172:142,174:143,210:pa,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(Ga,[2,223],{53:87,45:170,49:171,19:172,37:R,38:S,50:T}),w(W,[2,218]),w(ha,ia,{55:130,59:131,20:173,60:ja}),w(C,[2,226]),w(C,[2,7]),w(C,[2,207],{26:174,27:Y,28:Z}),w(C,[2,208]),w(Ha,[2,205]),w(Ha,[2,8]),w(Ia,Ja,{29:175,215:176}),w(Ka,[2,245],{84:177}),{27:[1,179],31:[1,178]},w(da,[2,257],{97:180,127:181,128:[1,182]}),w(da,[2,42]),{12:E,15:F,52:183,277:H},w(da,[2,58]),w(da,[2,286]),w(da,[2,287]),w(da,[2,288]),{104:[1,184]},w(La,[2,55]),{12:E,15:F,52:185,277:H},w(J,[2,285]),{12:E,15:F,52:186,277:H},w(Ma,[2,291],{133:187}),w(Ma,[2,290]),{12:E,15:F,27:la,28:ma,52:145,79:na,88:146,141:188,163:oa,172:142,174:143,210:pa,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(ga,[2,274],{115:189}),w(ga,[2,273]),w([37,120,123],[2,51]),w(ga,[2,280],{119:190}),w(ga,[2,279]),w([37,121,123],[2,50]),w(B,[2,5]),w(Na,[2,233],{56:191,66:192,67:[1,193]}),w(ha,[2,232]),{61:[1,194]},w([6,40,60,67,70,78,80,82],[2,15]),w(U,Oa,{21:195,143:196,17:197,144:198,150:199,151:200,23:z,38:Pa,40:Pa,82:Pa,107:Pa,155:Pa,156:Pa,158:Pa,161:Pa,162:Pa}),{12:E,15:F,52:201,277:H},w(J,[2,228]),w(ha,ia,{55:130,59:131,20:202,60:ja}),w(C,[2,210]),w(U,ea,{140:122,39:203,139:204,40:[2,213]}),w(C,[2,82]),{40:[2,335],171:205,294:[1,206]},w(Qa,Ra,{173:207,177:208}),w(Qa,Ra,{177:208,175:209,176:210,173:211,40:Sa,107:Sa,294:Sa}),w(Ta,[2,121]),w(Ta,[2,122]),w(Ta,[2,123]),w(Ta,[2,124]),w(Ta,[2,125]),w(Ta,[2,126]),{12:E,15:F,27:la,28:ma,52:145,79:na,88:146,163:oa,172:214,174:215,183:213,209:212,210:pa,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(Qa,Ra,{177:208,173:216}),w(Ua,[2,162],{261:[1,217],262:[1,218]}),w(Ua,[2,165]),w(Ua,[2,166]),w(Ua,[2,167]),w(Ua,[2,168]),w(Ua,[2,169]),w(Ua,[2,170]),w(Ua,[2,171]),w(Va,[2,172]),w(Va,[2,173]),w(Va,[2,174]),w(Va,[2,175]),w(Ua,[2,176]),w(Ua,[2,177]),w(Ua,[2,178]),w(Ua,[2,179]),w(Ua,[2,180]),w(Ua,[2,181]),w(ha,ia,{55:130,59:131,20:219,60:ja}),w(V,[2,222]),w(Ga,[2,224]),w(B,[2,13]),w(Ha,[2,206]),{30:[1,220]},w(Ia,[2,376],{216:221,217:222}),{12:E,15:F,40:[1,223],52:225,79:na,87:224,88:226,89:Wa,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},{38:[1,228]},w(_,[2,248]),w(da,[2,41]),w(da,[2,258]),{107:[1,229]},w(da,[2,57]),w(J,aa,{130:117,103:230,107:ba,129:ca}),w(La,[2,56]),w(da,[2,44]),{40:[1,231],107:[1,233],134:232},w(Ma,[2,303],{142:234,294:[1,235]}),{37:[1,236],122:237,123:Xa},{37:[1,239],122:240,123:Xa},w(Ya,[2,235],{57:241,69:242,70:[1,243]}),w(Na,[2,234]),{12:E,15:F,28:Za,52:259,64:247,65:248,68:244,74:246,76:245,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},{12:E,15:F,27:ob,28:pb,52:259,62:269,63:270,64:271,65:272,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},{40:[1,275]},{40:[1,276]},{19:277,37:R,38:S,53:87},w(qb,[2,307],{145:278}),w(qb,[2,306]),{12:E,15:F,27:la,28:rb,52:145,79:na,88:146,152:279,163:oa,172:280,185:281,210:sb,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(V,[2,14]),w(B,[2,10]),{40:[1,284]},{40:[2,214]},{40:[2,83]},w(U,[2,334],{40:[2,336]}),w(tb,[2,84]),{12:E,15:F,27:[1,287],52:288,178:285,179:286,181:[1,289],277:H},w(tb,[2,85]),w(tb,[2,86]),w(tb,[2,338]),{12:E,15:F,27:la,28:ma,31:[1,290],52:145,79:na,88:146,163:oa,172:214,174:215,183:291,210:pa,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(ub,[2,370]),w(vb,[2,117]),w(vb,[2,118]),{211:[1,292]},w(Ua,[2,163]),{12:E,15:F,52:293,277:H},w(B,[2,12]),{27:[1,294]},w([30,31,192,242],[2,127],{302:[1,295]}),w(wb,xb,{218:296,219:297,223:298,231:299,235:300,203:yb,237:zb,301:Ab}),w($,[2,34]),w(Ka,[2,246]),w(Bb,[2,36]),w(Bb,[2,37]),w(Bb,[2,38]),w(Cb,[2,249],{86:304}),{12:E,15:F,52:305,277:H},w(da,[2,43]),w([6,37,120,121,123,192],[2,59]),w(Ma,[2,292]),{12:E,15:F,27:[1,307],52:308,135:306,277:H},w(Ma,[2,61]),w(U,[2,302],{40:Db,107:Db}),{38:ka,54:309},w(ga,[2,275]),w(J,[2,282],{124:310,286:[1,311]}),{38:ka,54:312},w(ga,[2,281]),w(Eb,[2,237],{58:313,77:314,78:[1,315],80:[1,316]}),w(Ya,[2,236]),{61:[1,317]},w(Na,[2,23],{74:246,64:247,65:248,238:250,244:255,247:258,52:259,76:318,12:E,15:F,28:Za,239:$a,240:_a,241:ab,243:bb,245:cb,246:db,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb}),w(Fb,[2,241]),w(Gb,[2,75]),w(Gb,[2,76]),w(Gb,[2,77]),w(Ia,Ja,{215:176,29:319}),w(Hb,[2,148]),{163:[1,320]},{28:[1,321]},{28:[1,322]},{28:[1,323]},{28:Ib,163:Jb,166:324},{28:[1,327]},{28:[1,329],163:[1,328]},{248:[1,330]},{28:Kb,163:Lb},{28:[1,333]},{28:[1,334]},{28:[1,335]},w(Mb,[2,400]),w(Mb,[2,401]),w(Mb,[2,402]),w(Mb,[2,403]),w(Mb,[2,404]),{248:[2,406]},w(ha,[2,17],{238:250,244:255,247:258,52:259,64:271,65:272,63:336,12:E,15:F,27:ob,28:pb,239:$a,240:_a,241:ab,243:bb,245:cb,246:db,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb}),w(Nb,[2,239]),w(Nb,[2,18]),w(Nb,[2,19]),w(Ia,Ja,{215:176,29:337}),w(Nb,[2,22]),w(Ob,[2,62]),w(Ob,[2,63]),w(ha,ia,{55:130,59:131,20:338,60:ja}),{38:[2,317],40:[2,64],81:348,82:A,107:[1,344],146:339,147:340,154:341,155:[1,342],156:[1,343],158:[1,345],161:[1,346],162:[1,347]},w(qb,[2,315],{153:349,294:[1,350]}),w(Pb,Qb,{184:351,187:352,194:353,195:355,27:Rb}),w(Sb,[2,345],{187:352,194:353,195:355,186:356,184:357,12:Qb,15:Qb,28:Qb,181:Qb,203:Qb,208:Qb,277:Qb,27:Rb}),{12:E,15:F,27:la,28:rb,52:145,79:na,88:146,163:oa,172:360,185:361,189:359,210:sb,212:358,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(Pb,Qb,{187:352,194:353,195:355,184:362,27:Rb}),w(ha,ia,{55:130,59:131,20:363,60:ja}),w([40,107,211,294],[2,87],{296:364,192:[1,365]}),w(U,Tb,{180:366,182:367}),w(U,[2,89]),w(U,[2,90]),w(U,[2,91]),w(Ub,[2,113]),w(ub,[2,371]),w(Ub,[2,114]),w(Ua,[2,164]),{31:[1,368]},w(Ia,[2,375]),w([30,31,192,242,302],[2,128],{303:[1,369]}),w(Vb,[2,129],{220:370,221:371,222:[2,384],259:[1,372],304:[1,373],305:[1,374],306:[1,375],307:[1,376],308:[1,377],309:[1,378]}),w(Wb,[2,386],{224:379}),w(Xb,[2,394],{232:380}),{12:E,15:F,27:Yb,28:Za,52:384,64:383,65:385,74:382,79:na,88:386,227:156,229:157,236:381,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},{12:E,15:F,27:Yb,28:Za,52:384,64:383,65:385,74:382,79:na,88:386,227:156,229:157,236:388,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},{12:E,15:F,27:Yb,28:Za,52:384,64:383,65:385,74:382,79:na,88:386,227:156,229:157,236:389,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},w(wb,[2,399]),{28:[1,392],40:[1,390],90:391},w(da,[2,54]),{38:[1,393]},{38:[2,293]},{38:[2,294]},w(da,[2,48]),{12:E,15:F,52:394,277:H},w(J,[2,283]),w(da,[2,49]),w(Eb,[2,16]),w(Eb,[2,238]),{79:[1,395]},{79:[1,396]},{12:E,15:F,27:Zb,28:Za,52:259,64:247,65:248,71:397,72:398,73:$b,74:246,75:_b,76:401,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},w(Fb,[2,242]),{31:[1,403]},w(Hb,[2,149]),w(Ia,Ja,{215:176,29:404}),w(Ia,Ja,{215:176,29:405}),w(Ia,Ja,{215:176,29:406}),w(Hb,[2,153]),w(Hb,[2,80]),w(Ia,[2,329],{167:407}),{27:[1,408]},w(Hb,[2,155]),w(Ia,Ja,{215:176,29:409}),{38:ka,54:410},w(Hb,[2,78]),w(Ia,[2,325],{164:411,280:[1,412]}),w(ac,[2,407],{250:413,280:[1,414]}),w(Ia,[2,411],{253:415,280:[1,416]}),w(Ia,[2,413],{255:417,280:[1,418]}),w(Nb,[2,240]),{30:[1,420],31:[1,419]},{22:421,40:[2,199],81:422,82:A},w(qb,[2,308]),w(bc,[2,309],{148:423,294:[1,424]}),{38:ka,54:425},{38:ka,54:426},{38:ka,54:427},{12:E,15:F,27:[1,429],52:430,157:428,277:H},w(cc,[2,321],{159:431,287:[1,432]}),{12:E,15:F,28:Za,52:259,64:247,65:248,74:246,76:433,238:250,239:$a,240:_a,241:ab,243:bb,244:255,245:cb,246:db,247:258,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb},{28:[1,434]},w(dc,[2,74]),w(qb,[2,66]),w(U,[2,314],{38:ec,40:ec,82:ec,107:ec,155:ec,156:ec,158:ec,161:ec,162:ec}),w(Sb,[2,93]),w(U,[2,349],{188:435}),w(U,[2,347]),w(U,[2,348]),w(Pb,[2,357],{196:436,197:437}),w(Sb,[2,94]),w(Sb,[2,346]),{12:E,15:F,27:la,28:rb,31:[1,438],52:145,79:na,88:146,163:oa,172:360,185:361,189:439,210:sb,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(ub,[2,372]),w(vb,[2,119]),w(vb,[2,120]),{211:[1,440]},w(B,[2,11]),w(Qa,[2,342],{192:[1,441]}),w(fc,[2,339]),w([40,107,192,211,294],[2,88]),{12:E,15:F,27:la,28:ma,52:145,79:na,88:146,163:oa,172:214,174:215,183:442,210:pa,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(Ha,[2,9]),w(Ia,[2,377]),w(wb,xb,{223:298,231:299,235:300,219:443,203:yb,237:zb,301:Ab}),{222:[1,444]},w(Ia,[2,378]),w(Ia,[2,379]),w(Ia,[2,380]),w(Ia,[2,381]),w(Ia,[2,382]),w(Ia,[2,383]),{222:[2,385]},w([30,31,192,222,242,259,302,303,304,305,306,307,308,309],[2,132],{225:445,226:446,227:447,229:448,237:[1,450],271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,301:[1,449]}),w(Wb,[2,136],{233:451,234:452,283:gc,298:hc}),w(Xb,[2,138]),w(Xb,[2,141]),w(Xb,[2,142]),w(Xb,[2,143],{28:Kb,163:Lb}),w(Xb,[2,144]),w(Xb,[2,145]),w(Xb,[2,146]),w(Xb,[2,139]),w(Xb,[2,140]),w($,[2,35]),w(Cb,[2,250]),w(ic,[2,251],{91:455}),w(U,ea,{140:122,136:456,139:457,40:[2,295]}),w(ga,[2,52]),w(Eb,[2,29],{80:[1,458]}),w(Eb,[2,30],{78:[1,459]}),w(Ya,[2,24],{74:246,64:247,65:248,238:250,244:255,247:258,52:259,76:401,72:460,12:E,15:F,27:Zb,28:Za,73:$b,75:_b,239:$a,240:_a,241:ab,243:bb,245:cb,246:db,248:eb,249:fb,252:gb,254:hb,277:H,309:ib,310:jb,311:kb,312:lb,313:mb,314:nb}),w(jc,[2,243]),{28:Za,74:461},{28:Za,74:462},w(jc,[2,27]),w(jc,[2,28]),w([6,12,15,27,28,30,31,38,40,70,73,75,78,79,80,82,107,155,156,158,161,162,163,192,210,213,214,222,237,239,240,241,242,243,245,246,248,249,252,254,259,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,283,294,298,301,302,303,304,305,306,307,308,309,310,311,312,313,314],[2,147]),{31:[1,463]},{242:[1,464]},{242:[1,465]},w(Ia,Ja,{215:176,29:466}),{31:[1,467]},{31:[1,468]},w(Hb,[2,157]),w(Ia,[2,327],{165:469}),w(Ia,[2,326]),w(Ia,Ja,{215:176,251:470,29:472,283:[1,471]}),w(ac,[2,408]),w(Ia,Ja,{215:176,29:473}),w(Ia,[2,412]),w(Ia,Ja,{215:176,29:474}),w(Ia,[2,414]),w(Nb,[2,20]),{27:[1,475]},{40:[2,6]},{40:[2,200]},w(U,Oa,{151:200,149:476,150:477,38:kc,40:kc,82:kc,107:kc,155:kc,156:kc,158:kc,161:kc,162:kc}),w(bc,[2,310]),w(dc,[2,67],{295:[1,478]}),w(dc,[2,68]),w(dc,[2,69]),{38:ka,54:479},{38:[2,319]},{38:[2,320]},{12:E,15:F,27:[1,481],52:482,160:480,277:H},w(cc,[2,322]),w(dc,[2,72]),w(Ia,Ja,{215:176,29:483}),{12:E,15:F,27:la,28:rb,52:145,79:na,88:146,163:oa,172:360,185:361,189:484,210:sb,213:qa,214:ra,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},w(ub,[2,98],{297:[1,485]}),w(lc,[2,364],{198:486,202:487,208:[1,488]}),w(Ta,[2,115]),w(ub,[2,373]),w(Ta,[2,116]),w(fc,[2,340]),w(mc,[2,92],{242:[1,489]}),w(Vb,[2,130]),{28:Ib,163:Jb,166:490},w(Wb,[2,387]),w(wb,xb,{231:299,235:300,223:491,203:yb,237:zb,301:Ab}),w(Xb,[2,390],{228:492}),w(Xb,[2,392],{230:493}),w(Ia,[2,388]),w(Ia,[2,389]),w(Xb,[2,395]),w(wb,xb,{235:300,231:494,203:yb,237:zb,301:Ab}),w(Ia,[2,396]),w(Ia,[2,397]),{12:E,15:F,31:[1,495],52:225,79:na,87:496,88:226,89:Wa,227:156,229:157,260:152,263:sa,264:ta,265:ua,266:va,267:wa,268:xa,269:ya,270:za,271:Aa,272:Ba,273:Ca,274:Da,275:Ea,276:Fa,277:H},{40:[1,497]},{40:[2,296]},{79:[1,498]},{79:[1,499]},w(jc,[2,244]),w(jc,[2,25]),w(jc,[2,26]),w(Hb,[2,150]),w(Ia,Ja,{215:176,29:500}),w(Ia,Ja,{215:176,29:501}),{31:[1,502],242:[1,503]},w(Hb,[2,154]),w(Hb,[2,156]),w(Ia,Ja,{215:176,29:504}),{31:[1,505]},{31:[2,409]},{31:[2,410]},{31:[1,506]},{31:[2,415],192:[1,509],256:507,257:508},{31:[1,510]},w(qb,[2,65]),w(qb,[2,312]),{38:[2,318]},w(dc,[2,70]),{38:ka,54:511},{38:[2,323]},{38:[2,324]},{30:[1,512]},w(mc,[2,351],{190:513,242:[1,514]}),w(Pb,[2,356]),w([12,15,27,28,31,79,163,210,213,214,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,297],[2,99],{298:[1,515]}),{12:E,15:F,28:[1,521],52:518,181:[1,519],199:516,200:517,203:[1,520],277:H},w(lc,[2,365]),w(U,[2,344]),w(Vb,[2,131]),w(Wb,[2,133]),w(Wb,[2,134],{234:452,233:522,283:gc,298:hc}),w(Wb,[2,135],{234:452,233:523,283:gc,298:hc}),w(Xb,[2,137]),w(Cb,[2,39]),w(ic,[2,252]),w(nc,[2,297],{137:524,294:[1,525]}),w(Eb,[2,31]),w(Eb,[2,32]),{31:[1,526]},{242:[1,527]},w(Hb,[2,81]),w(Ia,[2,330]),{31:[1,528],242:[1,529]},w(Hb,[2,158]),w(Hb,[2,159]),{31:[1,530]},{31:[2,416]},{258:[1,531]},w(Nb,[2,21]),w(dc,[2,71]),{27:[1,532]},w([38,40,82,107,155,156,158,161,162,211,294],[2,95],{191:533,192:[1,534]}),w(U,[2,350]),w(Pb,[2,358]),w(oc,[2,101]),w(oc,[2,362],{201:535,299:536,283:[1,538],300:[1,537],301:[1,539]}),w(pc,[2,102]),w(pc,[2,103]),{12:E,15:F,28:[1,543],52:544,163:[1,542],181:qc,204:540,205:541,208:rc,277:H},w(Pb,Qb,{195:355,194:547}),w(Xb,[2,391]),w(Xb,[2,393]),w(U,ea,{140:122,138:548,139:549,40:sc,107:sc}),w(nc,[2,298]),w(Hb,[2,151]),w(Ia,Ja,{215:176,29:550}),w(Hb,[2,79]),w(Ia,[2,328]),w(Hb,[2,160]),{259:[1,551]},{31:[1,552]},w(mc,[2,352]),w(mc,[2,96],{195:355,193:553,194:554,12:Qb,15:Qb,28:Qb,181:Qb,203:Qb,208:Qb,277:Qb,27:[1,555]}),w(oc,[2,100]),w(oc,[2,363]),w(oc,[2,359]),w(oc,[2,360]),w(oc,[2,361]),w(pc,[2,104]),w(pc,[2,106]),w(pc,[2,107]),w(tc,[2,366],{206:556}),w(pc,[2,109]),w(pc,[2,110]),{12:E,15:F,52:557,181:[1,558],277:H},{31:[1,559]},w(Ma,[2,60]),w(Ma,[2,300]),{31:[1,560]},{260:561,267:wa,268:xa,269:ya,270:za},w(dc,[2,73]),w(U,Tb,{182:367,180:562}),w(U,[2,353]),w(U,[2,354]),{12:E,15:F,31:[2,368],52:544,181:qc,205:564,207:563,208:rc,277:H},w(pc,[2,111]),w(pc,[2,112]),w(pc,[2,105]),w(Hb,[2,152]),{31:[2,161]},w(mc,[2,97]),{31:[1,565]},{31:[2,369],297:[1,566]},w(pc,[2,108]),w(tc,[2,367])],defaultActions:{5:[2,189],6:[2,190],22:[2,1],23:[2,2],24:[2,196],74:[2,269],89:[2,230],94:[2,332],204:[2,214],205:[2,83],268:[2,406],307:[2,293],308:[2,294],378:[2,385],421:[2,6],422:[2,200],429:[2,319],430:[2,320],457:[2,296],471:[2,409],472:[2,410],478:[2,318],481:[2,323],482:[2,324],508:[2,416],561:[2,161]},parseError:function(a,b){if(!b.recoverable)throw new Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=o.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1),o=Object.create(this.lexer),p={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(p.yy[q]=this.yy[q]);o.setInput(a,p.yy),p.yy.lexer=o,p.yy.parser=this,void 0===o.yylloc&&(o.yylloc={});var r=o.yylloc;f.push(r);var s=o.options&&o.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var t,u,v,w,x,y,z,A,B,C={};;){if(v=d[d.length-1],this.defaultActions[v]?w=this.defaultActions[v]:(null!==t&&void 0!==t||(t=b()),w=g[v]&&g[v][t]),void 0===w||!w.length||!w[0]){var D="";B=[];for(y in g[v])this.terminals_[y]&&y>l&&B.push("'"+this.terminals_[y]+"'");D=o.showPosition?"Parse error on line "+(i+1)+":\n"+o.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[t]||t)+"'":"Parse error on line "+(i+1)+": Unexpected "+(t==m?"end of input":"'"+(this.terminals_[t]||t)+"'"),this.parseError(D,{text:o.match,token:this.terminals_[t]||t,line:o.yylineno,loc:r,expected:B})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+t);switch(w[0]){case 1:d.push(t),e.push(o.yytext),f.push(o.yylloc),d.push(w[1]),t=null,u?(t=u,u=null):(j=o.yyleng,h=o.yytext,i=o.yylineno,r=o.yylloc,k>0&&k--);break;case 2:if(z=this.productions_[w[1]][1],C.$=e[e.length-z],C._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column},s&&(C._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]),void 0!==(x=this.performAction.apply(C,[h,j,i,p.yy,w[1],e,f].concat(n))))return x;z&&(d=d.slice(0,-1*z*2),e=e.slice(0,-1*z),f=f.slice(0,-1*z)),d.push(this.productions_[w[1]][0]),e.push(C.$),f.push(C._$),A=g[d[d.length-2]][d[d.length-1]],d.push(A);break;case 3:return!0}}return!0}},vc="http://www.w3.org/1999/02/22-rdf-syntax-ns#",wc=vc+"type",xc=vc+"first",yc=vc+"rest",zc=vc+"nil",Ac="http://www.w3.org/2001/XMLSchema#",Bc=Ac+"integer",Cc=Ac+"decimal",Dc=Ac+"double",Ec=Ac+"boolean",Fc='"true"^^'+Ec,Gc='"false"^^'+Ec,Hc="",Ic="",Jc="",Kc=0;v._resetBlanks=function(){Kc=0};var Lc=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Mc={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Nc=String.fromCharCode,Oc=function(){return{EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(!1!==(a=this.test_match(c,e[f])))return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?!1!==(a=this.test_match(b,e[d]))&&a:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,d){switch(c){case 0:break;case 1:return 11;case 2:return 14;case 3:return 23;case 4:return 280;case 5:return 281;case 6:return 28;case 7:return 30;case 8:return 31;case 9:return 283;case 10:return 33;case 11:return 37;case 12:return 38;case 13:return 40;case 14:return 42;case 15:return 47;case 16:return 50;case 17:return 286;case 18:return 60;case 19:return 61;case 20:return 67;case 21:return 70;case 22:return 73;case 23:return 75;case 24:return 78;case 25:return 80;case 26:return 82;case 27:return 192;case 28:return 95;case 29:return 287;case 30:return 128;case 31:return 288;case 32:return 289;case 33:return 105;case 34:return 290;case 35:return 104;case 36:return 291;case 37:return 292;case 38:return 108;case 39:return 110;case 40:return 111;case 41:return 126;case 42:return 120;case 43:return 121;case 44:return 123;case 45:return 129;case 46:return 107;case 47:return 293;case 48:return 294;case 49:return 155;case 50:return 158;case 51:return 162;case 52:return 89;case 53:return 156;case 54:return 295;case 55:return 161;case 56:return 242;case 57:return 181;case 58:return 297;case 59:return 298;case 60:return 208;case 61:return 300;case 62:return 301;case 63:return 203;case 64:return 210;case 65:return 211;case 66:return 302;case 67:return 303;case 68:return 259;case 69:return 304;case 70:return 305;case 71:return 306;case 72:return 307;case 73:return 308;case 74:return 222;case 75:return 309;case 76:return 237;case 77:return 245;case 78:return 246;case 79:return 239;case 80:return 240;case 81:return 241;case 82:return 310;case 83:return 311;case 84:return 243;case 85:return 313;case 86:return 312;case 87:return 314;case 88:return 248;case 89:return 249;case 90:return 252;case 91:return 254;case 92:return 258;case 93:return 262;case 94:return 265;case 95:return 266;case 96:return 12;case 97:return 15;case 98:return 277;case 99:return 213;case 100:return 27;case 101:return 261;case 102:return 79;case 103:return 263;case 104:return 264;case 105:return 271;case 106:return 272;case 107:return 273;case 108:return 274;case 109:return 275;case 110:return 276;case 111:return"EXPONENT";case 112:return 267;case 113:return 268;case 114:return 269;case 115:return 270;case 116:return 163;case 117:return 214;case 118:return 6;case 119:return"INVALID"}},
rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(<([^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?))/i,/^(?:([\?\$]((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(([^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*'))/i,/^(?:("(([^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*"))/i,/^(?:('''(('|'')?([^'\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*'''))/i,/^(?:("""(("|"")?([^\"\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}}}();return uc.lexer=Oc,v.prototype=uc,uc.Parser=v,new v}();void 0!==a&&void 0!==c&&(c.parser=e,c.Parser=e.Parser,c.parse=function(){return e.parse.apply(e,arguments)},c.main=function(b){b[1]||d.exit(1);var e=a("fs").readFileSync(a("path").normalize(b[1]),"utf8");return c.parser.parse(e)},void 0!==b&&a.main===b&&c.main(d.argv.slice(1)))}).call(this,a("_process"))},{_process:5,fs:3,path:4}],3:[function(a,b,c){},{}],4:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:5}],5:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],6:[function(a,b,c){var d=a("./lib/SparqlParser").Parser,e=a("./lib/SparqlGenerator");b.exports={Parser:function(a){var b={};for(var c in a||{})b[c]=a[c];var e=new d;return e.parse=function(){return d.prefixes=Object.create(b),d.prototype.parse.apply(e,arguments)},e._resetBlanks=d._resetBlanks,e},Generator:e}},{"./lib/SparqlGenerator":1,"./lib/SparqlParser":2}]},{},[6])(6)}),define("query/query.sniffer",["underscore","jquery","egad","sparqler"],function(a,b,c,d){"use strict";function e(b){this.parser=new d.Parser(a.invert(c.config.namespaces())),this.query=b,this.queryObject={};try{this.parse()}catch(a){throw a}}return e.prototype.parse=function(a){var b=a||this.query;try{this.queryObject=this.parser.parse(b)}catch(a){throw a}},e.prototype.getQueryObject=function(){return this.queryObject},e.prototype.isQuery=function(){return!!a.has(this.queryObject,"type")&&"query"===this.queryObject.type.toLowerCase()},e.prototype.isSelect=function(){return this.isQuery()&&"select"===this.queryObject.queryType.toLowerCase()},e.prototype.isAsk=function(){return this.isQuery()&&"ask"===this.queryObject.queryType.toLowerCase()},e.prototype.isDescribe=function(){return this.isQuery()&&"describe"===this.queryObject.queryType.toLowerCase()},e.prototype.isConstruct=function(){return this.isQuery()&&"construct"===this.queryObject.queryType.toLowerCase()},e.prototype.isUpdate=function(){return!!a.has(this.queryObject,"type")&&"update"===this.queryObject.type.toLowerCase()},e.prototype.hasWhere=function(){return a.has(this.queryObject,"where")},e.prototype.hasLimit=function(){return a.has(this.queryObject,"limit")},e.prototype.getLimit=function(){if(!this.hasLimit())throw new Error("Query has no limit.");return this.queryObject.limit},e.prototype.hasOffset=function(){return a.has(this.queryObject,"offset")},e.prototype.getOffset=function(){if(!this.hasOffset())throw new Error("Query has no offset.");return this.queryObject.offset},e}),define("query/query.datasource",["underscore","jquery","egad","query/query.sniffer"],function(a,b,c,d){"use strict";var e=function(a){this._query=a.query(),this._level=a.getReasoning(),this._querySniffer=null,this._setColumns([])};return e.prototype.getQuery=function(){return this._query},e.prototype.getQuerySniffer=function(){try{this._querySniffer||(this._querySniffer=new d(this._query))}catch(a){c.api.Mediator.publish("QueryDataSource:error",{message:a.message,fixed:!0})}return this._querySniffer},e.prototype.columns=function(){return this._columns},e.prototype.afterLoadData=function(c){this.options.search&&(c=a.filter(c,function(a){for(var b in a)if(a.hasOwnProperty(b)&&~a[b].toString().toLowerCase().indexOf(this.options.search.toLowerCase()))return!0;return!1}));var d,e=c,f=e.length,g=this.options.pageIndex*this.options.pageSize,h=g+this.options.pageSize,i=!1;h>f+g||f>this.options.pageSize?(d=f+g,i=!0):d=0!==f?h:0;var j=Math.ceil(f/this.options.pageSize),k=this.options.pageIndex+1,l=0!==f?g+1:0;this.datagridCallback({data:e,start:l,end:d,count:f,pages:j,page:k}),i?b(".fuelux .btn.grid-nextpage").attr("disabled","disabled"):b(".fuelux .btn.grid-nextpage").removeAttr("disabled"),b(".fuelux tfoot th").children().show().css("visibility","visible")},e.prototype.data=function(c,d){var e=this;if(e.options=c,e.datagridCallback=d,c.pageIndex&&c.pageIndex<0){var f=parseInt(b("input#page-number").val())-1;e.options.pageIndex=f>-1?f:null}this.loadData({startIndex:e.options.pageIndex,pageSize:e.options.pageSize,callback:a.bind(e.afterLoadData,e)})},e.prototype._setColumns=function(b){this._columns=a.map(b,function(a){return{property:a,label:a}})},e.prototype.loadData=function(a){var c=this,d=a.startIndex||null,e=a.pageSize||null,f="function"==typeof a.callback?a.callback:b.noop,g=c.preProcessQuery(c._query,d,e);c.getResults(g,function(a){if(null===a)c._data=[],c._setColumns([]);else{var b=c.convertResultsToTable(a);c._data=c.postProcessData(b)}f(c._data)})},e.prototype.getResults=function(d,e){function f(b){var e={query:d};return j||(e=a.extend(e,{url:c.config.sparqlEndpoint()})),a.extend(e,b)}function g(){return{reasoning:h._level}}var h=this,i=this.getQuerySniffer(),j=c.config.isStardogEmbedded(),k="";k=i.isAsk()||i.isUpdate()?"text/boolean":i.isConstruct()?"text/turtle":"application/sparql-results+json";var l={Accept:k},m=function(a,d){b("#query-execution-time").text("");var h=Date.now();b.ajax({type:"POST",url:c.ajax.sparqlEndpointUrl(),async:!0,headers:a,data:f(d),contentType:"application/x-www-form-urlencoded"}).done(function(a){var c=Date.now()-h;b("#query-execution-time").text("(returned in "+c+" ms)"),e(a)}).fail(function(a){if(406===a.status){m({Accept:"application/ld+json"},g())}else 400===a.status?c.api.Mediator.publish("QueryDataSource:error",{message:a.responseText}):500===a.status&&c.api.Mediator.publish("QueryDataSource:error",{message:a.statusText})})};m(l,g())},e.prototype.preProcessQuery=function(a,b,d){function e(a){return a.replace(/(limit\s+(\d+))/i,function(a,b,c){var d=parseInt(c);return"limit "+(h=d>h?h:d)})}function f(a){return a.replace(/(offset\s+(\d+))/i,function(a,c,d){var e=parseInt(d);return"offset "+(i=b>0?e+b*h:e)})}var g=a,h=d||50,i=b||0,j=this.getQuerySniffer();return j.isSelect()||j.isConstruct()?(j.hasLimit()?g=e(g):g+=" limit "+h,j.hasOffset()?g=f(g):g+=" offset "+Math.ceil(i*h)):(j.hasLimit()&&(g=e(g)),j.hasOffset()&&(g=f(g))),(j.hasOffset()||j.hasLimit())&&c.api.Mediator.publish("QueryDataSource:warn",{}),g},e.prototype.convertResultsToTable=function(b){var c={head:{vars:["s","p","o"]},results:{bindings:[]}},d=this;if(b[0]&&b[0]["@id"]&&(b=b[0]),b["@id"]){var e=b["@id"],f=function(a,b,c){var d=g(c);return{s:{type:"uri",value:a},p:{type:"uri",value:b},o:{type:d.type,value:d.val}}},g=function(a){var b="literal",c=a;return a instanceof Object&&(a["@id"]?(c=a["@id"],b="uri"):a["@value"]?c=a["@value"]:""===a["@value"]&&(c='<span class="label label-important">Empty</span>')),{type:b,val:c}};return a.each(b,function(a,b){if("@"!==b.charAt(0))if(a instanceof Array)for(var d=0;d<a.length;d++)c.results.bindings.push(f(e,b,a[d]));else c.results.bindings.push(f(e,b,a))}),c}if(b instanceof Array){for(var h=0;h<b.length;h++){var i=c.results.bindings.concat(d.convertResultsToTable(b[h],c).results.bindings);c.results.bindings=i}return c}return"boolean"==typeof b||a.isString(b)?{head:{vars:["result"]},results:{bindings:[{result:{type:"string",value:b.toString()}}]}}:b},e.prototype.postProcessData=function(b){var d=this,e=c.config.namespaces();return d._setColumns(b.head.vars),a.extend([],a.map(b.results.bindings,function(c){var d={};return a.each(b.head.vars,function(b){if(c[b]){var f=a.escape(c[b].value);"uri"===c[b].type?d[b]='<button class="btn btn-mini externalUri"><i class="icon-external-link"></i></button> <a href="'+f+'" class="uriDesc">'+a.compactURI(f,e)+"</a>":"bnode"===c[b].type?(f="_:"+f,d[b]='<button class="btn btn-mini externalUri"><i class="icon-external-link"></i></button> <a href="'+f+'" class="uriDesc">'+f+"</a>"):a.has(c[b],"xml:lang")?d[b]=f+' <span class="label label-default">'+a.escape(c[b]["xml:lang"])+"</span>":d[b]=f}else d[b]=""}),d}))},e}),define("query/query.save.modal",["underscore","egad","backbone","bootstrap","underscore.mixins","handlebars.helpers","backbone.cachingsync"],function(a,b,c){"use strict";return c.Layout.extend({template:"query/saveQueryModal",tagName:"div",events:{"click #btnCancel":"cancelHandler","click #btnSave":"saveHandler","keyup #inFilename":"enterHandler"},initialize:function(){a.bindAll(this),this.cancelCallback="function"==typeof this.options.cancel?this.options.cancel:$.noop,this.saveCallback="function"==typeof this.options.save?this.options.save:$.noop},serialize:function(){return this.model?this.model.toJSON():{}},afterRender:function(){var a=this;this.$el.find("#saveQueryModal").modal({keyboard:!0,show:!0}),this.$el.find("#saveQueryModal").on("shown.bs.modal",function(){a.$el.find("#inFilename").focus()}),this.$el.find("#inputForm").submit(function(){return!1})},show:function(){this.$el.find("#saveQueryModal").modal("show")},hide:function(){this.$el.find("#saveQueryModal").modal("hide")},toggle:function(){this.$el.find("#saveQueryModal").modal("toggle")},cancelHandler:function(a){a&&a.preventDefault(),this.cancelCallback()},saveHandler:function(a){a&&a.preventDefault();var b=this.$el.find("#inFilename").val();this.saveCallback(b)},enterHandler:function(a){13===a.which&&this.saveHandler(a)}})});var saveAs=saveAs||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var o,p=this,q=b.type,r=q===j,s=function(){m(p,"writestart progress write writeend".split(" "))},t=function(){if((h||r&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(b,"_blank")||(a.location.href=b),b=void 0,p.readyState=p.DONE,s()},d.readAsDataURL(b),void(p.readyState=p.INIT)}if(o||(o=c().createObjectURL(b)),r)a.location.href=o;else{a.open(o,"_blank")||(a.location.href=o)}p.readyState=p.DONE,s(),l(o)};if(p.readyState=p.INIT,e)return o=c().createObjectURL(b),void setTimeout(function(){d.href=o,d.download=i,f(d),s(),l(o),p.readyState=p.DONE});t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",[],function(){return saveAs}),define("filesaver",function(){}),function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(a){}var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(s),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;i<j;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return e<3&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;f<g;f++)Uint8Array&&a[f]instanceof Uint8Array?e.append(a[f].buffer):e.append(a[f]);var h=e.getBlob(d);return!h.slice&&h.webkitSlice&&(h.slice=h.webkitSlice),h};var c=Object.getPrototypeOf||function(a){return a.__proto__};a.Blob.prototype=c(new a.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),define("blob",function(a){return function(){var b;return b||a.Blob}}(this)),CodeMirror.defineMode("turtle",function(a){function b(a){return new RegExp("^(?:"+a.join("|")+")$","i")}function c(a,b){var c=a.next();if(g=null,"<"==c&&!a.match(/^[\s\u00a0=]/,!1))return a.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==c||"'"==c)return b.tokenize=d(c),b.tokenize(a,b);if(/[{}\(\),\.;\[\]]/.test(c))return g=c,null;if("#"==c)return a.skipToEnd(),"comment";if(j.test(c))return a.eatWhile(j),null;if(":"==c)return"operator";if(a.eatWhile(/[_\w\d]/),":"==a.peek())return"variable-3";var e=a.current();return i.test(e)?"meta":c>="A"&&c<="Z"?"comment":"keyword";var e}function d(a){return function(b,d){for(var e,f=!1;null!=(e=b.next());){if(e==a&&!f){d.tokenize=c;break}f=!f&&"\\"==e}return"string"}}function e(a,b,c){a.context={prev:a.context,indent:a.indent,col:c,type:b}}function f(a){a.indent=a.context.indent,a.context=a.context.prev}var g,h=a.indentUnit,i=(b([]),b(["@prefix","@base","a"])),j=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:c,context:null,indent:0,col:0}},token:function(a,b){if(a.sol()&&(b.context&&null==b.context.align&&(b.context.align=!1),b.indent=a.indentation()),a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"!=c&&b.context&&null==b.context.align&&"pattern"!=b.context.type&&(b.context.align=!0),"("==g)e(b,")",a.column());else if("["==g)e(b,"]",a.column());else if("{"==g)e(b,"}",a.column());else if(/[\]\}\)]/.test(g)){for(;b.context&&"pattern"==b.context.type;)f(b);b.context&&g==b.context.type&&f(b)}else"."==g&&b.context&&"pattern"==b.context.type?f(b):/atom|string|variable/.test(c)&&b.context&&(/[\}\]]/.test(b.context.type)?e(b,"pattern",a.column()):"pattern"!=b.context.type||b.context.align||(b.context.align=!0,b.context.col=a.column()));return c},indent:function(a,b){var c=b&&b.charAt(0),d=a.context;if(/[\]\}]/.test(c))for(;d&&"pattern"==d.type;)d=d.prev;var e=d&&c==d.type;return d?"pattern"==d.type?d.col:d.align?d.col+(e?0:1):d.indent+(e?0:h):0}}}),CodeMirror.defineMIME("text/turtle","turtle"),define("turtleMode",["codemirror"],function(){}),define("query/sparql.editor.helpers",["jquery","underscore","backbone","egad","query/query.results","query/query.datasource","query/query.save.modal","query/prefix","filesaver","blob","bootstrap","select2","handlebars.helpers","underscore.mixins","codemirror","turtleMode","select2"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=function(a){this.view=a,b.bindAll(this)};return j.prototype.loadQuery=function(c){if(c.match(/prefix\s/gi)){var d=h.getGlobalNSFromStr(c,this.generateNSMap()),e=a("#prefixSelect").val().split(","),f=b.union(b.compact(d),b.compact(e));a("#prefixSelect").select2("val",f);var g=h.nonGlobalPrefixes(c,this.generateNSMap()),i=h.stripPrefixes(c);c=g?g+"\n\n"+i:i}this.view.aSparqlEditor?(this.view.aSparqlEditor.setValue(c),this.view.queryState=this.view.aSparqlEditor.getValue()):this.view.currentQuery=c},j.prototype.saveQuery=function(a){function b(b){i(new Blob([a],{type:"text/plain;charset="+document.characterSet}),b)}var c=this.view.$el.find("#fileName").html(),d=this;if(c)b(c);else{var e=new g({save:function(a){b(a),d.view.$el.find("#fileName").html(a),d.view.$el.find("#lblLoadedFile").show(),this.hide()}});this.view.insertView(e).render()}},j.prototype.generateNSMap=function(){return d.config.namespaces()},j.prototype.saveSelectedNamespacesMap=function(){var a=h.fromQueryString(this.getFullQueryStr(!0));sessionStorage.setItem("nsMap",JSON.stringify(a))},j.prototype.setQueryNameLabelModified=function(b){b?a("#lblQueryName").hasClass("label-info")&&(a("#lblQueryName").removeClass("label-info"),a("#lblQueryName").addClass("label-important")):a("#lblQueryName").hasClass("label-important")&&(a("#lblQueryName").removeClass("label-important"),a("#lblQueryName").addClass("label-info"))},j.prototype.getSelectedPrefixesStr=function(){var a=this.view.$el.find("#prefixSelect").select2("val");return h.asString(a,this.generateNSMap())},j.prototype.executeQuery=function(a){var c=this.view;d.event.CommManager.sendMessage("alerts","removeAlerts",{});var g=b.isString(a)?a:this.getFullQueryStr();if(g&&g.length>0){var h=this.isReasoningEnabled();this.updateQueryUrl(g,h,!1),c.model.setReasoning(h),c.model.set("query",g);var i=new e.Model({dataSource:new f(c.model)}),j=new e.View({model:i});d.api.Mediator.publish("QueryPanel:updateResults",{resultsView:j})}},j.prototype.updateQueryUrl=function(a,b,d){var e="#!/query/"+encodeURIComponent(a);b&&(e+="/reasoning/"+b),c.history.navigate(e,{trigger:d})},j.prototype.getFullQueryStr=function(a){var b=this.view,c="";if(b.aSparqlEditor){var e=b.aSparqlEditor.getValue();if(!(e&&0!==e.length||a))return d.event.CommManager.sendMessage("alerts","showErrorAlert",{title:"Error!",message:"Query cannot be empty."}),"";var f=this.getSelectedPrefixesStr();c=f?f+"\n\n"+e:e}return c},j.prototype.isReasoningEnabled=function(){var a=this.view,b=!1;return d.config.get("modules").query.reasoning&&(b=a.$el.find("#reasoning").is(":checked")),b},j.prototype.downloadResults=function(c,e){function f(a){var c=a;return g&&(c=b.extend(c,{reasoning:g})),d.config.isStardogEmbedded()||b.extend(c,{url:d.config.sparqlEndpoint()}),b.extend(c,{query:e})}e||(e=this.getFullQueryStr()),e=e.replace(/\\"/g,"'");var g=this.isReasoningEnabled(),h={attachment:!0,format:c};!function(){var b=f(h),c=a('<form id="inputsForm" action=\''+d.ajax.queryUrl()+"' method='post' > </form>");a.each(b,function(b,d){var e=a('<input type="hidden" name="'+b+'" value=""></input>').val(d);c=c.append(e)})}();a.ajax({type:"POST",url:d.ajax.sparqlEndpointUrl(),data:{query:e},contentType:"application/x-www-form-urlencoded"}).done(function(){var b=f(h),c=a('<form id="inputsForm" action=\''+d.ajax.queryUrl()+"' method='post' > </form>");a.each(b,function(b,d){var e=a('<input type="hidden" name="'+b+'" value=""></input>').val(d);c.append(e)}),c.appendTo("body").submit().remove()}).fail(function(a){var c;a.status&&406===a.status?c=a.responseText?a.responseText:"The selected export format is invalid for this type of query. Please select another one.":(c=(a.responseText?a.responseText:"").replace(/at line (\d+)/g,function(a,b){try{return"at line "+(parseInt(b)-0)}catch(a){return"at line "+b}}),c=b.escape(c).replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")),d.event.CommManager.sendMessage("alerts","showErrorAlert",{message:c,title:"Error!",isBlock:!0})})},j.prototype.loadFile=function(){var a,c=this,e=this.view.$el.find("#queryFile").prop("files")[0];if(e){this.view.$el.find("#fileName").html(e.name),this.view.$el.find("#lblLoadedFile").show();var f=new FileReader;"application/sparql-query"===b.determineRdfFormat(e.name)?(f.onload=function(){(a=this.result)&&(c.loadQuery(a),c.executeQuery())},f.readAsText(e)):d.event.CommManager.sendMessage("alerts","showErrorAlert",{message:"The file format was not recognized, please load files with extension *.rq or *.sparql",title:"SPARQL Query file format not supported!",isBlock:!0})}},j}),define("query/query.datasetinfo",["jquery","underscore","backbone","metadata/datasetinfo","codemirror","sparqlMode","showHint","sparqlHint","matchbrackets","bootstrap","select2","fuelux-datagrid","handlebars.helpers"],function(a,b,c,d){"use strict"
;return c.Layout.extend({template:"query/datasetInfoModal",tagName:"div",initialize:function(){b.bindAll(this)},serialize:function(){return{}},beforeRender:function(){this.insertView(".modal-body",new d).render()},afterRender:function(){this.$el.find("#dataInfoModal").modal({keyboard:!0,show:!0})},show:function(){this.$el.find("#dataInfoModal").modal("show")},hide:function(){this.$el.find("#dataInfoModal").modal("hide")},toggle:function(){this.$el.find("#dataInfoModal").modal("toggle")}})}),function(){var a=[].slice;!function(b,c){"use strict";var d;d=function(){function a(a,c){null==c&&(c={}),this.$element=b(a),this.options=b.extend({},b.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class"),radioAllOff:this.$element.data("radio-all-off")},c),this.$wrapper=b("<div>",{class:function(a){return function(){var b;return b=[""+a.options.baseClass].concat(a._getClasses(a.options.wrapperClass)),b.push(a.options.state?a.options.baseClass+"-on":a.options.baseClass+"-off"),null!=a.options.size&&b.push(a.options.baseClass+"-"+a.options.size),a.options.animate&&b.push(a.options.baseClass+"-animate"),a.options.disabled&&b.push(a.options.baseClass+"-disabled"),a.options.readonly&&b.push(a.options.baseClass+"-readonly"),a.options.indeterminate&&b.push(a.options.baseClass+"-indeterminate"),a.$element.attr("id")&&b.push(a.options.baseClass+"-id-"+a.$element.attr("id")),b.join(" ")}}(this)()}),this.$container=b("<div>",{class:this.options.baseClass+"-container"}),this.$on=b("<span>",{html:this.options.onText,class:this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=b("<span>",{html:this.options.offText,class:this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=b("<label>",{html:this.options.labelText,class:this.options.baseClass+"-label"}),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this.$element.on("init.bootstrapSwitch",function(b){return function(){return b.options.onInit.apply(a,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(b){return function(){return b.options.onSwitchChange.apply(a,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init.bootstrapSwitch"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return a.prototype._constructor=a,a.prototype.state=function(a,b){return void 0===a?this.options.state:this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(a=!!a,this.$element.prop("checked",a).trigger("change.bootstrapSwitch",b),this.$element)},a.prototype.toggleState=function(a){return this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",a)},a.prototype.size=function(a){return void 0===a?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),a&&this.$wrapper.addClass(this.options.baseClass+"-"+a),this.options.size=a,this.$element)},a.prototype.animate=function(a){return void 0===a?this.options.animate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](this.options.baseClass+"-animate"),this.options.animate=a,this.$element)},a.prototype.disabled=function(a){return void 0===a?this.options.disabled:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](this.options.baseClass+"-disabled"),this.$element.prop("disabled",a),this.options.disabled=a,this.$element)},a.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},a.prototype.readonly=function(a){return void 0===a?this.options.readonly:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](this.options.baseClass+"-readonly"),this.$element.prop("readonly",a),this.options.readonly=a,this.$element)},a.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},a.prototype.indeterminate=function(a){return void 0===a?this.options.indeterminate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](this.options.baseClass+"-indeterminate"),this.$element.prop("indeterminate",a),this.options.indeterminate=a,this.$element)},a.prototype.toggleIndeterminate=function(){return this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this.options.indeterminate=!this.options.indeterminate,this.$element},a.prototype.onColor=function(a){var b;return b=this.options.onColor,void 0===a?b:(null!=b&&this.$on.removeClass(this.options.baseClass+"-"+b),this.$on.addClass(this.options.baseClass+"-"+a),this.options.onColor=a,this.$element)},a.prototype.offColor=function(a){var b;return b=this.options.offColor,void 0===a?b:(null!=b&&this.$off.removeClass(this.options.baseClass+"-"+b),this.$off.addClass(this.options.baseClass+"-"+a),this.options.offColor=a,this.$element)},a.prototype.onText=function(a){return void 0===a?this.options.onText:(this.$on.html(a),this.options.onText=a,this.$element)},a.prototype.offText=function(a){return void 0===a?this.options.offText:(this.$off.html(a),this.options.offText=a,this.$element)},a.prototype.labelText=function(a){return void 0===a?this.options.labelText:(this.$label.html(a),this.options.labelText=a,this.$element)},a.prototype.baseClass=function(a){return this.options.baseClass},a.prototype.wrapperClass=function(a){return void 0===a?this.options.wrapperClass:(a||(a=b.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(a).join(" ")),this.options.wrapperClass=a,this.$element)},a.prototype.radioAllOff=function(a){return void 0===a?this.options.radioAllOff:(this.options.radioAllOff=a,this.$element)},a.prototype.onInit=function(a){return void 0===a?this.options.onInit:(a||(a=b.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=a,this.$element)},a.prototype.onSwitchChange=function(a){return void 0===a?this.options.onSwitchChange:(a||(a=b.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=a,this.$element)},a.prototype.destroy=function(){var a;return a=this.$element.closest("form"),a.length&&a.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},a.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(a){return function(c,d){var e;if(c.preventDefault(),c.stopImmediatePropagation(),(e=a.$element.is(":checked"))!==a.options.state)return a.options.state=e,a.$wrapper.removeClass(e?a.options.baseClass+"-off":a.options.baseClass+"-on").addClass(e?a.options.baseClass+"-on":a.options.baseClass+"-off"),d?void 0:(a.$element.is(":radio")&&b("[name='"+a.$element.attr("name")+"']").not(a.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),a.$element.trigger("switchChange.bootstrapSwitch",[e]))}}(this),"focus.bootstrapSwitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.addClass(a.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.removeClass(a.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(a){return function(b){if(b.which&&!a.options.disabled&&!a.options.readonly&&!a.options.indeterminate)switch(b.which){case 37:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!1);case 39:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!0)}}}(this)})},a.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(a){return function(b){return a.state(!1),a.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(a){return function(b){return a.state(!0),a.$element.trigger("focus.bootstrapSwitch")}}(this))},a.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(a){return function(b){var c,d,e,f;if(a.isLabelDragging)return b.preventDefault(),a.isLabelDragged=!0,d=b.pageX||b.originalEvent.touches[0].pageX,e=(d-a.$wrapper.offset().left)/a.$wrapper.width()*100,c=25,f=75,a.options.animate&&a.$wrapper.removeClass(a.options.baseClass+"-animate"),e<c?e=c:e>f&&(e=f),a.$container.css("margin-left",e-f+"%"),a.$element.trigger("focus.bootstrapSwitch")}}(this),"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(a){return function(b){if(!(a.isLabelDragging||a.options.disabled||a.options.readonly||a.options.indeterminate))return b.preventDefault(),a.isLabelDragging=!0,a.$element.trigger("focus.bootstrapSwitch")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(a){return function(b){if(a.isLabelDragging)return b.preventDefault(),a.isLabelDragged?(a.isLabelDragged=!1,a.state(parseInt(a.$container.css("margin-left"),10)>-a.$container.width()/6),a.options.animate&&a.$wrapper.addClass(a.options.baseClass+"-animate"),a.$container.css("margin-left","")):a.state(!a.options.state),a.isLabelDragging=!1}}(this),"mouseleave.bootstrapSwitch":function(a){return function(b){return a.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},a.prototype._formHandler=function(){var a;if(a=this.$element.closest("form"),!a.data("bootstrap-switch"))return a.on("reset.bootstrapSwitch",function(){return c.setTimeout(function(){return a.find("input").filter(function(){return b(this).data("bootstrap-switch")}).each(function(){return b(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},a.prototype._getClasses=function(a){var c,d,e,f;if(!b.isArray(a))return[this.options.baseClass+"-"+a];for(d=[],e=0,f=a.length;e<f;e++)c=a[e],d.push(this.options.baseClass+"-"+c);return d},a}(),b.fn.bootstrapSwitch=function(){var c,e,f;return e=arguments[0],c=2<=arguments.length?a.call(arguments,1):[],f=this,this.each(function(){var a,g;if(a=b(this),g=a.data("bootstrap-switch"),g||a.data("bootstrap-switch",g=new d(this,e)),"string"==typeof e)return f=g[e].apply(g,c)}),f},b.fn.bootstrapSwitch.Constructor=d,b.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",radioAllOff:!1,onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),define("bootstrapswitch",function(){}),define("query/sparql.editor",["jquery","underscore","backbone","string","egad","query/sparql.editor.helpers","query/prefix","query/query.datasetinfo","bootstrap","select2","handlebars.helpers","underscore.mixins","codemirror","bootstrapswitch","turtleMode"],function(a,b,c,d,e,f,g,h){"use strict";return c.Layout.extend({template:"query/sparqlEditor",tagName:"div",id:"sparqlEditor",helpers:null,events:{"click #btn_execute":"executeQueryHandler","click #btn_clear":"clearQuery","click #exploreTypes":"loadTypesQuery","click #exploreObjProps":"loadObjectPropsQuery","click #exploreDataProps":"loadDataPropsQuery","click #exploreAssertedProps":"loadAssertedPropsQuery","click #exploreEntities":"loadEntitiesQuery","click #exploreHierarchy":"loadHierarchyQuery","click #exploreNamedGraphs":"loadNamedGraphs","click #btnDatasetInfo":"showDatasetInfo","click #newQuery":"newQueryHandler","click #loadQuery":"loadQueryHandler","click #saveQuery":"saveQueryHandler","change #queryFile":"fileChangeHandler"},shortcuts:{"shift+enter":{handler:a.noop,description:"Execute the query"},"shift+backspace":{handler:"clearQuery",description:"Clear the query editor"}},initialize:function(){b.bindAll(this),this.helpers=new f(this)},beforeRender:function(){var a=15e3;sessionStorage.getItem(e.config.stores.EGAD_SCHEMA_CLASSES)||e.ajax.getClassSchemaInfo(!0,a).done(function(a){sessionStorage.setItem(e.config.stores.EGAD_SCHEMA_CLASSES,JSON.stringify(a))}).fail(function(a,b){}),sessionStorage.getItem(e.config.stores.EGAD_SCHEMA_PROPERTIES)||e.ajax.getPropertySchemaInfo(!0,a).done(function(a){sessionStorage.setItem(e.config.stores.EGAD_SCHEMA_PROPERTIES,JSON.stringify(a))}).fail(function(a,b){})},serialize:function(){return{prefixes:"http://www.w3.org/1999/02/22-rdf-syntax-ns#,http://www.w3.org/2002/07/owl#,http://www.w3.org/2001/XMLSchema#,http://www.w3.org/2000/01/rdf-schema#",fileSupport:function(){return void 0!==a("<input type='file'>").get(0).files}(),reasoning:e.config.get("modules").query.reasoning,embeddedInStardog:e.config.isStardogEmbedded()}},afterRender:function(){var b=this,c=b.$el.find(".switch");if(c.prop("checked",b.model.getReasoning()),c.bootstrapSwitch(),a("#prefixSelect").select2({multiple:!0,data:g.asArrayFullText(b.helpers.generateNSMap()),initSelection:function(c,d){var e=[],f=b.helpers.generateNSMap();a(c.val().split(",")).each(function(){var a=g.clean(this,f[this])+": &lt;"+this+"&gt;";e.push({id:this,text:a})}),d(e)},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]}),a("#prefixSelect").on("change",function(){b.helpers.saveSelectedNamespacesMap()}),this.aSparqlEditor)this.aSparqlEditor.refresh();else{CodeMirror.commands.autocomplete=function(a){b.helpers.saveSelectedNamespacesMap(),CodeMirror.showHint(a,CodeMirror.hint.sparql)},this.aSparqlEditor=CodeMirror.fromTextArea(document.getElementById("sparql_query"),{mode:"application/x-sparql-query",tabMode:"indent",matchBrackets:!0,lineNumbers:!0,lineWrapping:!0,autoClearEmptyLines:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}),this.aSparqlEditor.addKeyMap({"Shift-Enter":b.helpers.executeQuery,"Shift-Backspace":b.clearQuery,"Ctrl-/":e.event.ShortcutsManager.showHelp});var f=550;this.aSparqlEditor.on("focus",function(){b.aSparqlEditor.lineCount()>24&&(a("#collapseTwo > .accordion-inner").css("height",540+f),b.$el.find("#sparqlEditorForm").css("height",525+f),b.aSparqlEditor.setSize(null,360+f))}),this.aSparqlEditor.on("blur",function(){b.aSparqlEditor.setSize(null,360),b.$el.find("#sparqlEditorForm").css("height",525),a("#collapseTwo > .accordion-inner").css("height",540)})}if(this.aSparqlEditor.on("change",function(a){b.model.get("queryModel")&&b.queryState&&(d(b.queryState).trim().s!=d(a.getValue()).trim().s?b.helpers.setQueryNameLabelModified(!0):b.helpers.setQueryNameLabelModified(!1))}),this.model&&this.model.query()){var h=this.model.query();this.helpers.loadQuery(h)}this.helpers.saveSelectedNamespacesMap()},doDownload:function(a){this.helpers.downloadResults(a)},executeQueryHandler:function(a){a.preventDefault&&a.preventDefault(),this.helpers.executeQuery()},clearQuery:function(b){b&&b.preventDefault&&b.preventDefault(),this.aSparqlEditor.setValue(""),a("#results_table").empty(),a("#btnExport").empty()},loadTypesQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?type ?label \nwhere { \n\t?s a ?type . \n\tOPTIONAL { ?type rdfs:label ?label } \n}"),this.helpers.executeQuery()},loadObjectPropsQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?objprop ?label \nwhere { \n\t?objprop a owl:ObjectProperty . \n\tOPTIONAL { ?objprop rdfs:label ?label } \n}"),this.helpers.executeQuery()},loadDataPropsQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?dataprop ?label \nwhere { \n\t?dataprop a owl:DatatypeProperty . \n\tOPTIONAL { ?dataprop rdfs:label ?label } \n}"),this.helpers.executeQuery()},loadAssertedPropsQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?p ?label \nwhere { \n\t?s ?p ?o . \n\tOPTIONAL { ?p rdfs:label ?label } \n}"),this.helpers.executeQuery()},loadEntitiesQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?entity ?elabel ?type ?tlabel \nwhere { \n\t?entity a ?type . \n\tOPTIONAL { ?entity rdfs:label ?elabel } . \n\tOPTIONAL { ?type rdfs:label ?tlabel } \n}"),this.helpers.executeQuery()},loadHierarchyQuery:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?type ?label ?supertype \nwhere { \n\t{ ?type a owl:Class . } UNION { ?ind a ?type . } . \n\tOPTIONAL { ?type rdfs:subClassOf ?supertype } . \n\tOPTIONAL { ?type rdfs:label ?label } \n} ORDER BY ?type"),this.helpers.executeQuery()},loadNamedGraphs:function(a){a.preventDefault(),this.aSparqlEditor.setValue(""),this.aSparqlEditor.setValue("select distinct ?g where { \n\tgraph ?g { \n\t\t?s ?p ?o \n\t} \n}"),this.helpers.executeQuery()},newQueryHandler:function(a){a.preventDefault(),this.clearQuery(),c.history.navigate("#!/query",{trigger:!0})},loadQueryHandler:function(a){a.preventDefault(),this.$el.find("#queryFile").click()},saveQueryHandler:function(a){a.preventDefault();var b=this.helpers.getFullQueryStr();this.aSparqlEditor.getValue()&&this.helpers.saveQuery(b)},fileChangeHandler:function(a){a.preventDefault(),this.helpers.loadFile()},showDatasetInfo:function(a){a&&a.preventDefault();var b=new h;this.insertView(b).render()}})}),define("query/query.panel",["jquery","underscore","backbone","egad","metadata/datasetinfo","query/prefix","query/sparql.editor","codemirror","sparqlMode","showHint","sparqlHint","matchbrackets","bootstrap","select2","fuelux-datagrid"],function(a,b,c,d,e,f,g){"use strict";var h={};return h.Model=c.Model.extend({initialize:function(){b.bindAll(this)},query:function(a){return a&&this.set("query",a),this.get("query")},setReasoning:function(a){this.set("reasoning",a)},getReasoning:function(){return this.get("reasoning")},showQueryError:function(c){var e;if(this.get("query")){var f=decodeURIComponent(this.get("query")).match(/prefix.+\n/gi);e=f?f.length+1:0}else e=0;var g=c.message.replace(/at line (\d+)/g,function(a,b){try{return"at line "+(parseInt(b)-e)}catch(a){return"at line "+b}});g=b.escape(g).replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>"),d.event.CommManager.sendMessage("alerts","showErrorAlert",{message:g,title:"Error!",isBlock:!0}),a("#results_table").html("")},showQueryWarn:function(){d.event.CommManager.sendMessage("alerts","showWarningAlert",{message:"As a feature, in the SPARQL editor the LIMIT and OFFSET modifiers are handled behind the scenes to provide better user experience. Please avoid including them in your queries.",title:"Warning!",isBlock:!0})}}),h.ExportFormats=c.Layout.extend({template:"query/exportFormats",tagName:"div",className:"btn-group dropup",events:{"click .export-option":"clickOptionHandler"},initialize:function(){b.bindAll(this)},serialize:function(){var a={};return this.model&&(a=this.model.toJSON()),a},clickOptionHandler:function(b){b.preventDefault();var c=a(b.target).attr("format");this.trigger("export",c)}}),h.View=d.view.ShortcutsView.extend({template:"query/queryPanel",tagName:"div",id:"queryPanelDiv",className:"row-fluid",reasoning:"",initialize:function(){b.bindAll(this)},events:{"click #accordionTools":"toolsIconToogle","shown .accordion-body":"accordionShown","hidden .accordion-body":"accordionHidden"},beforeRender:function(){d.api.Mediator.subscribe("QueryDataSource:error",this._showQueryError),d.api.Mediator.subscribe("QueryDataSource:warn",this._showQueryWarn),d.api.Mediator.subscribe("QueryPanel:updateResults",this.updateResults)},afterRender:function(){var a=sessionStorage.getItem("queryUIStatus")?JSON.parse(sessionStorage.getItem("queryUIStatus")):null;a&&a.reasoning&&(this.reasoning=a.reasoning),this.showQuerEditor()},serialize:function(){var a=sessionStorage.getItem("queryUIStatus");return a=a&&null!==a&&0!==a.length?JSON.parse(a):{collapseOne:!0,collapseTwo:!0,collapseThree:!0,prefixes:"http://www.w3.org/1999/02/22-rdf-syntax-ns#,http://www.w3.org/2002/07/owl#,http://www.w3.org/2001/XMLSchema#,http://www.w3.org/2000/01/rdf-schema#"},d.config.get("modules").query&&d.config.get("modules").query.reasoning&&(a.reasoning=d.config.get("modules").query.reasoning,a.embeddedInStardog=d.config.isStardogEmbedded()),a},getUIStatus:function(){return{collapseOne:a("#collapseOne").hasClass("in"),collapseTwo:a("#collapseTwo").hasClass("in"),collapseThree:a("#collapseThree").hasClass("in"),prefixes:a("#prefixSelect").val(),reasoning:a(".btn-reasoning.active").html()}},showQuerEditor:function(){if(!this.getView("#query")){var a=this,b=new g({model:a.model});this.insertView("#query",b),b.render()}},_showQueryWarn:function(){d.event.CommManager.sendMessage("alerts","showWarningAlert",{message:"As a feature, in the query panel the LIMIT and OFFSET modifiers are handled behind the scenes to provide better user experience. Please avoid including them in your queries.",title:"Warning!",isBlock:!0})},_showQueryError:function(c){var e,f=this;if(f.model.get("query")){var g=decodeURIComponent(f.model.get("query")).match(/prefix.+\n/gi);e=g?g.length+1:0}else e=0;var h=c.message.replace(/at line (\d+)/g,function(a,b){try{return"at line "+(parseInt(b)-e)}catch(a){return"at line "+b}});h=b.escape(h).replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>");var i={message:h,title:"Error!",isBlock:!0};c.fixed?d.event.CommManager.sendMessage("alerts","showFixedErrorAlert",i):d.event.CommManager.sendMessage("alerts","showErrorAlert",i),a("#results_table").html("")},updateResults:function(a){var d=a.resultsView.getQuerySniffer();if(d&&a&&a.resultsView){if(d.isSelect()||d.isConstruct()||d.isDescribe()){var e=new h.ExportFormats({model:new c.Model({tupleResults:d.isSelect(),graphResults:d.isConstruct()||d.isDescribe()})});e.on("export",b.bind(this.exportResults,this)),this.setView("#btnExport",e).render()}else this.getView("#btnExport")&&this.removeView("#btnExport");this.setView("#results_table",a.resultsView).render()}},exportResults:function(a){var b=this.getView("#query");b&&b.doDownload(a)},toolsIconToogle:function(){this.$el.find("#accordionTools").find("i").hasClass("icon-expand")?(this.$el.find("#accordionTools").find("i").removeClass("icon-expand"),this.$el.find("#accordionTools").find("i").addClass("icon-collapse"),this.$el.find("#accordionTools").find("strong").html("Hide SPARQL Editor")):(this.$el.find("#accordionTools").find("i").removeClass("icon-collapse"),this.$el.find("#accordionTools").find("i").addClass("icon-expand"),this.$el.find("#accordionTools").find("strong").html("Show SPARQL Editor"))},accordionShown:function(){var a=this.getUIStatus();sessionStorage.setItem("queryUIStatus",JSON.stringify(a))},accordionHidden:function(){var a=this.getUIStatus();sessionStorage.setItem("queryUIStatus",JSON.stringify(a))}}),h}),define("query/main",["jquery","underscore","egad","query/query.panel","query/query.datasource","query/query.results"],function(a,b,c,d,e,f){"use strict";return c.api.Module.extend({name:"query",routes:{"!/query":"goToQueryPanel","!/query/:query(/reasoning/:level)":"goToQueryPanel"},initialize:function(){b.bindAll(this)},goToQueryPanel:function(b,c){var g,h,i;if(b){h=new d.Model({query:b}),h.setReasoning("true"===c);var j=new e(h),k=new f.Model({dataSource:j});i=new f.View({model:k})}else h=new d.Model({query:""}),h.setReasoning(!1);g=new d.View({model:h}),a(".pageContainer").html(g.$el),this.queryPanel=g,g.render().promise().done(function(){i&&g.updateResults({resultsView:i})})}})}),define("query",["query/main"],function(a){return a}),function(a,b){"$:nomunge";function c(a){return"string"==typeof a}function d(a){var b=r.call(arguments,1);return function(){return a.apply(this,b.concat(r.call(arguments)))}}function e(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function f(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function g(d,e,f,g,h){var i,k,m,n,o;return g!==j?(m=f.match(d?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),o=m[3]||"",2===h&&c(g)?k=g.replace(d?E:D,""):(n=l(m[2]),g=c(g)?l[d?y:x](g):g,k=2===h?g:1===h?a.extend({},g,n):a.extend({},n,g),k=t(k),d&&(k=k.replace(q,s))),i=m[1]+(d?"#":k||!m[1]?"?":"")+k+o):i=e(f!==j?f:b[A][B]),i}function h(a,b,d){return b===j||"boolean"==typeof b?(d=b,b=t[a?y:x]()):b=c(b)?b.replace(a?E:D,""):b,l(b,d)}function i(b,d,e,f){return c(e)||"object"==typeof e||(f=e,e=d,d=j),this.each(function(){var c=a(this),g=d||p()[(this.nodeName||"").toLowerCase()]||"",h=g&&c.attr(g)||"";c.attr(g,t[b](h,e,f))})}var j,k,l,m,n,o,p,q,r=Array.prototype.slice,s=decodeURIComponent,t=a.param,u=a.bbq=a.bbq||{},v=a.event.special,w="hashchange",x="querystring",y="fragment",z="elemUrlAttr",A="location",B="href",C="src",D=/^.*\?|#.*$/g,E=/^.*\#/,F={};t[x]=d(g,0,f),t[y]=k=d(g,1,e),k.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);q=new RegExp(c.join("|"),"g")},k.noEscape(",/"),a.deparam=l=function(b,c){var d={},e={true:!0,false:!1,null:null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),i=s(h[0]),k=d,l=0,m=i.split("]["),n=m.length-1;if(/\[/.test(m[0])&&/\]$/.test(m[n])?(m[n]=m[n].replace(/\]$/,""),m=m.shift().split("[").concat(m),n=m.length-1):n=0,2===h.length)if(g=s(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?j:e[g]!==j?e[g]:g),n)for(;l<=n;l++)i=""===m[l]?k.length:m[l],k=k[i]=l<n?k[i]||(m[l+1]&&isNaN(m[l+1])?{}:[]):g;else a.isArray(d[i])?d[i].push(g):d[i]!==j?d[i]=[d[i],g]:d[i]=g;else i&&(d[i]=c?j:"")}),d},l[x]=d(h,0),l[y]=m=d(h,1),a[z]||(a[z]=function(b){return a.extend(F,b)})({a:B,base:B,iframe:C,img:C,input:C,form:"action",link:B,script:C}),p=a[z],a.fn[x]=d(i,x),a.fn[y]=d(i,y),u.pushState=n=function(a,d){c(a)&&/^#/.test(a)&&d===j&&(d=2);var e=a!==j,f=k(b[A][B],e?a:{},e?d:2);b[A][B]=f+(/#/.test(f)?"":"#")},u.getState=o=function(a,b){return a===j||"boolean"==typeof a?m(a):m(b)[a]},u.removeState=function(b){var c={};b!==j&&(c=o(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]})),n(c,2)},v[w]=a.extend(v[w],{add:function(b){function c(a){var b=a[y]=k();a.getState=function(a,c){return a===j||"boolean"==typeof a?l(b,a):l(b,c)[a]},d.apply(this,arguments)}var d;if(a.isFunction(b))return d=b,c;d=b.handler,b.handler=c}})}(jQuery,this),function(a,b,c){"$:nomunge";function d(a){return a=a||b[g][i],a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f=a.event.special,g="location",h="hashchange",i="href",j=a.browser,k=document.documentMode,l=j.msie&&(k===c||k<8),m="on"+h in b&&!l;a[h+"Delay"]=100,f[h]=a.extend(f[h],{setup:function(){if(m)return!1;a(e.start)},teardown:function(){if(m)return!1;a(e.stop)}}),e=function(){function c(){j=k=function(a){return a},l&&(f=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,k=function(){return d(f.document[g][i])},(j=function(a,b){if(a!==b){var c=f.document;c.open().close(),c[g].hash="#"+a}})(d()))}var e,f,j,k,m={};return m.start=function(){if(!e){var f=d();j||c(),function c(){var l=d(),m=k(f);l!==f?(j(f=l,m),a(b).trigger(h)):m!==f&&(b[g][i]=b[g][i].replace(/#.*/,"")+"#"+m),e=setTimeout(c,a[h+"Delay"])}()}},m.stop=function(){f||(e&&clearTimeout(e),e=0)},m}()}(jQuery,this),define("jquery.bbq",["jquery"],function(){}),define("pathtracker",["jquery","underscore","jquery.bbq"],function(a,b){var c=function(a){a?(this.state=a,this.state.excluded||(this.state.excluded=[])):this.state={path:[],excluded:[]}};return c.prototype.trackPath=function(a,c,d,e){this.state.path[a]||(this.state.path[a]=[]);var f="["+c+"]["+d+"]";if(e&&!b.contains(this.state.path[a],f))this.state.path[a].push(f);else if(!e&&b.contains(this.state.path[a],f)){var g=b.without(this.state.path[a],f);this.state.path[a]=g}},c.prototype.isPathExtended=function(a,c,d){this.state.path[a]||(this.state.path[a]=[]);var e="["+c+"]["+d+"]";return b.contains(this.state.path[a],e)},c.prototype.addExcluded=function(a){this.state.excluded.push(a)},c.prototype.removeExcluded=function(a){var c=b.without(this.state.excluded,a);this.state.excluded=c},c.prototype.getExcluded=function(){return this.state.excluded},c.prototype.getInLevel=function(a){var b=[];return this.state.path[a]&&(b=this.state.path[a]),b},c.prototype.getState=function(){return this.state},c.prototype.toString=function(){return JSON.stringify(this.state)},c.prototype.toParams=function(){return this.state.path=b.map(this.state.path,function(a){return b.map(a,function(a){return encodeURIComponent(a)})}),a.param(this.state)},c}),define("schema/schemabrowser",["jquery","underscore","egad","pathtracker","burry","backbone","underscore.mixins","bootstrap"],function(a,b,c,d,e,f){"use strict";var g="schema_path_state",h=new e.Store(c.config.stores.EGAD_WIDGETS,120),i=null,j="icon-stop",k="icon-plus",l="icon-minus";c.config.get("modules").home&&c.config.get("modules").home.leafIcon&&(j=c.config.get("modules").home.leafIcon);var m=function(a){var c=["http://www.w3.org/2002/07/owl#","http://www.w3.org/1999/02/22-rdf-syntax-ns#","http://www.w3.org/2000/01/rdf-schema#","http://www.w3.org/2003/11/swrl#","http://www.w3.org/2001/XMLSchema#"];return"http://www.w3.org/2002/07/owl#Thing"==a||"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property"==a||!b.find(c,function(b){return a.indexOf(b)>=0})},n=c.view.ShortcutsView.extend({template:"schema/schemaBrowser",tagName:"div",id:"schemabrowser",loadedClassTree:!1,loadedPropTree:!1,events:{"click #tabClass":"loadClassTree","click #tabProp":"loadPropertyTree"},shortcuts:{c:{handler:"loadClassTree",description:"Load the class tree"},p:{handler:"loadPropertyTree",description:"Load the property tree"}},initialize:function(){b.bindAll(this);var a=h.get(g);i=new d(a)},serialize:function(){return{}},afterRender:function(){c.event.CommManager.sendMessage("alerts","showInfoAlert",{title:"Instructions",message:'<p>Click on the <i class="'+k+'"></i> / <i class="'+l+'"></i> icons to expand or collapse node elements in the Schema Tree.</p>'}),this.loadClassTree()},loadClassTree:function(b){b&&b.preventDefault&&b.preventDefault();var d=this,e=15e3;if(!d.loadedClassTree){var f=function(a){var b=new p(a.classTree);b.set("@parent","");var c=new o({model:b});d.setView("#classTree",c).render(),d.loadedClassTree=!0},g=function(b){a("#classTree").html("<strong><p>Couldn't load Schema in "+e/1e3+" seconds, it may be too large.</p></strong>")},h=sessionStorage.getItem(c.config.stores.EGAD_SCHEMA_CLASSES);h?f(JSON.parse(h)):c.ajax.getClassSchemaInfo(!0,e).done(function(a){sessionStorage.setItem(c.config.stores.EGAD_SCHEMA_CLASSES,JSON.stringify(a)),f(a)}).fail(function(a,b,c){"timeout"===b&&g()})}a("#tabClass").tab("show")},loadPropertyTree:function(b){b&&b.preventDefault&&b.preventDefault();var d=this,e=15e3;if(!d.loadedPropTree){var f=function(a){var b=new p(a.propertyTree);b.set("@parent","");var c=new o({model:b,isProperty:!0});d.setView("#propertyTree",c).render(),d.loadedPropTree=!0},g=function(b){a("#propertyTree").html("<strong><p>Couldn't load Schema in "+e/1e3+" seconds, it may be too large.</p></strong>")},h=sessionStorage.getItem(c.config.stores.EGAD_SCHEMA_PROPERTIES);h?f(JSON.parse(h)):c.ajax.getPropertySchemaInfo(!0,e).done(function(a){
sessionStorage.setItem(c.config.stores.EGAD_SCHEMA_PROPERTIES,JSON.stringify(a)),f(a)}).fail(function(a,b,c){"timeout"===b&&g()})}a("#tabProp").tab("show")}}),o=f.Layout.extend({tagName:"ul",className:"list-no-bullets",isProperty:!1,initialize:function(a){b.bindAll(this),this.isProperty=a.isProperty||!1},beforeRender:function(){var a=new r({model:this.model,isProperty:this.isProperty});this.$el.append(a.render().el)},serialize:function(){return{}}}),p=f.Model.extend({}),q=f.Collection.extend({model:p}),r=f.Layout.extend({template:"schema/schemaBrowserTreeNode",tagName:"li",className:"collapsedNode",isExpanded:!1,isLoaded:!1,isProperty:!1,level:0,events:{"click .icon-plus":"toggleSubtypes","click .icon-minus":"toggleSubtypes"},initialize:function(a){b.bindAll(this),a.parentLevel>=0&&(this.level=a.parentLevel+1),this.isProperty=a.isProperty||!1},serialize:function(){if(this.model){this.model.set("label",b.stringLiteral(this.model.get("label"))),this.model.set("@isProperty",this.isProperty);var a=this.model.get("type");return a.match(/bnode_.*/)&&a.match(/bnode_.*/).length>0&&(a="_:"+a),this.model.set("type",b.compactURI(a,c.config.namespaces())),this.model.toJSON()}return{}},afterRender:function(){this.followPath(),a("html").is(".lt-ie9")||this.$el.find(".schemaTooltip:first").tooltip(),0===(this.model.get("subtypes")?b.compact(this.model.get("subtypes")):[]).length&&(this.$el.find("i:first").removeClass(l),this.$el.find("i:first").removeClass(k),this.$el.find("i:first").addClass(j))},followPath:function(){if(i.isPathExtended(this.level,this.model.get("@parent"),this.model.get("type"))&&!this.isLoaded){var a=this,b=new q(this.model.get("subtypes")),c=new s({collection:b,parentLevel:a.level,parent:a.model.get("type"),isProperty:a.isProperty});this.$el.append(c.render().el),this.isExpanded=this.isLoaded=!0;var d=this.$el.find("i:first");this.toggleNode(d)}},toggleSubtypes:function(b){b.stopPropagation();var c=a(b.target);if(!this.isLoaded){var d=this,e=new q(this.model.get("subtypes")),f=new s({collection:e,parentLevel:d.level,parent:d.model.get("type"),isProperty:d.isProperty});this.$el.append(f.render().el),this.isLoaded=!0}this.toggleNode(c),this.isExpanded=!this.isExpanded,i.trackPath(this.level,this.model.get("@parent"),this.model.get("type"),this.isExpanded),h.set(g,i.getState())},toggleNode:function(a){this.$el.hasClass("expandedNode")?(this.$el.removeClass("expandedNode"),this.$el.addClass("collapsedNode"),a.removeClass(l),a.addClass(k)):this.$el.hasClass("collapsedNode")&&(this.$el.removeClass("collapsedNode"),this.$el.addClass("expandedNode"),a.removeClass(k),a.addClass(l))}}),s=f.Layout.extend({tagName:"ul",className:"list-no-bullets",isProperty:!1,initialize:function(a){this.isProperty=a.isProperty||!1},beforeRender:function(){var a=this,b=this.options.parentType||"",c=this.options.parentLevel||0;this.collection.each(function(d){if(d.set("@parent",b),m(d.get("type"))){var e=new r({model:d,parentLevel:c,isProperty:a.isProperty});a.$el.append(e.render().el)}})},serialize:function(){return{}}});return n}),define("schema/main",["jquery","underscore","egad","schema/schemabrowser"],function(a,b,c,d){"use strict";return c.api.Module.extend({name:"schema",routes:{"!/schema":"routeHandler"},initialize:function(){},routeHandler:function(){var b=new d;a(".pageContainer").html(b.$el),b.render()}})}),define("schema",["schema/main"],function(a){return a}),define("search/search",["underscore","backbone","egad","codemirror","bootstrap","sparqlMode","select2","handlebars.helpers"],function(a,b,c){"use strict";var d={Views:{}};return d.SearchResultsModel=b.Model.extend({page:0,limit:15,initialize:function(a,b){this.url=function(){this.limit=c.ajax.listingLimit||15;var a=0;return b.page&&(this.page=b.page,a=this.limit*this.page),c.ajax.searchUrl(this.id+"?limit="+this.limit+"&offset="+a)}},getResults:function(){return this.get("results")},isFull:function(){return this.getResults().length==this.limit}}),d.Views.SearchForm=b.Layout.extend({template:"search/searchForm",tagName:"div",id:"advancedSearch",className:"panelContent",DEFAULT_SEARCH_MSG:"Use the form below to automatically create your advanced search",searchValue:"",initialize:function(){a.bindAll(this)},events:{"click #btnSearch":"doSearch","keyup .searchInput":"handleKeyPress"},afterRender:function(){$("#searchProxy").attr("disabled",!0),$("#search").hide(),$("#asMatchWords").focus(),this.options.term&&($("#searchProxy").val(this.options.term),$("#search").val(this.options.term),this.searchValue=$("#searchProxy").val()),this.checkSearchChanged()},serialize:function(){},checkSearchChanged:function(){var a=this.buildAdvancedSearchQuery();a&&a!==this.searchValue&&""!==a&&($("#searchProxy").val(a),$("#search").val(a))},buildAdvancedSearchQuery:function(){var a="";if($("#asMatchWords").val()&&(a=$("#asMatchWords").val()),$("#asMatchPhrase").val()&&(a=this.joinStrings(a," ",'"'+$("#asMatchPhrase").val()+'"')),$("#asOrMatch1").val()||$("#asOrMatch2").val()||$("#asOrMatch3").val()){var b=$("#asOrMatch1").val();$("#asOrMatch2").val()&&(b=this.joinStrings(b," OR ",$("#asOrMatch2").val())),$("#asOrMatch3").val()&&(b=this.joinStrings(b," OR ",$("#asOrMatch3").val())),a=this.joinStrings(a," ","("+b+")")}return $("#asNoMatch").val()&&(a=this.joinStrings(a," ","-"+$("#asNoMatch").val())),a||this.DEFAULT_SEARCH_MSG},joinStrings:function(a,b,c){return""!==a?a+b+c:c},handleKeyPress:function(a){13==a.keyCode?(a.preventDefault(),this.doSearch()):this.checkSearchChanged(a)},doSearch:function(a){a&&a.preventDefault();var c=$("#search").val();""!==c&&c!==this.DEFAULT_SEARCH_MSG&&b.history.navigate("#!/search/"+encodeURIComponent(c),{trigger:!0})}}),d.Views.SearchResults=b.Layout.extend({template:"search/searchResults",tagName:"div",id:"advancedResultsDiv",className:"panelContent",initialize:function(){this._setPrefixesToURIs(),this._selectEGADLabel()},_setPrefixesToURIs:function(){var b=this;if(this.model){var d=this.model.get("results");a.each(d,function(d){d.uri=a.compactURI(d.uri,c.config.namespaces());var e=d.types;a.each(e,function(b){b.uri=a.compactURI(b.uri,c.config.namespaces())});var f=d.matches;a.each(f,function(d){d.propertyUri=a.compactURI(d.propertyUri,c.config.namespaces()),d.string=b._adjustSizeMatchingStr(d.string)})})}},_selectEGADLabel:function(){if(this.model){var b=this.model.get("results");a.each(b,function(b){if(!b.label||!a.has(b,"label")){var d=new c.model.Resource({"@id":encodeURIComponent(b.uri)});d.fetch({async:!1}),b.label=d.getLabel()}})}},_adjustSizeMatchingStr:function(a){var b=a;return a.length>25&&(b=a.substring(0,23)+"..."),b},serialize:function(){return this.model?(this.model.page>=0&&this.model.isFull()&&this.model.set("nextPage","#!/search/"+this.model.id+"/p/"+(parseInt(this.model.page)+1)),this.model.page>1?this.model.set("prevPage","#!/search/"+this.model.id+"/p/"+(parseInt(this.model.page)-1)):1==this.model.page&&this.model.set("prevPage","#!/search/"+this.model.id),this.model.toJSON()):{}}}),d}),define("search/main",["jquery","underscore","egad","search/search"],function(a,b,c,d){"use strict";return c.api.Module.extend({name:"search",routes:{"!/search":"goToSearch","!/search/:query":"goToSearch","!/search/:query/p/:page":"goToSearch"},goToSearch:function(b,e){if(c.api.Mediator.publish("module:search:match",{route:"!/search",args:[b,e]}),b){b=encodeURIComponent(b);var f=new d.SearchResultsModel({id:b},{page:e});f.fetch({async:!1}).done(function(){var b=new d.Views.SearchResults({model:f});a(".pageContainer").html(b.$el),b.render().promise().done(function(){c.api.Mediator.publish("module:search:results:render",f)})}).fail(function(){c.api.Mediator.publish("module:search:results:render")})}else{var g=new d.Views.SearchForm;a(".pageContainer").html(g.$el),g.render().promise().done(function(){c.api.Mediator.publish("module:search:form:render")})}}})}),define("search",["search/main"],function(a){return a}),define("metadata/main",["egad","metadata/metadata"],function(a,b){"use strict";return a.api.Module.extend({name:"metadata",get:function(){return b}})}),define("metadata",["metadata/main"],function(a){return a}),define("treebrowser/treebrowser",["jquery","underscore","backbone","egad","pathtracker","browse/properties","bootstrap","select2","handlebars.helpers","jquery.bbq"],function(a,b,c,d,e){"use strict";var f={Views:{}},g=new e,h=null,i="icon-leaf";return d.config.get("modules").treebrowser&&d.config.get("modules").treebrowser.leafIcon&&(i=d.config.get("modules").treebrowser.leafIcon),f.Views.TreeFilter=c.Layout.extend({template:"treebrowser/treeFilter",tagName:"div",id:"treeFilter",className:"filter",excluded:[],initialize:function(a){this.excluded=a.excluded||[]},afterRender:function(){var b=this.$el.find("#filterFields");b.select2({data:[],placeholder:"tree node filters...",multiple:!0,readonly:!0,initSelection:function(b,c){var e=[];a(b.val().split(",")).each(function(){var a=new d.model.ResourceLabel({"@id":this}),b=a.getLabel();e.push({id:this,text:b})}),c(e)},formatResult:function(a){return a.text&&a.text.length>0?a.text:a.id},formatSelection:function(a){return sessionStorage[a.id+"-label"]=a.text,a.text&&a.text.length>0?a.text:a.id},tokenSeparators:[","]}),b.on("select2-removed",function(a){var b=a.choice;g.removeExcluded(b.id.valueOf()),c.history.navigate("#!/treebrowser/"+encodeURIComponent(h)+"?"+g.toParams(),{trigger:!0})})},serialize:function(){return{listVal:this.excluded.join(",")}}}),f.Views.TreeContainer=c.Layout.extend({template:"treebrowser/treeContainer",tagName:"div",id:"treeBrowserDiv",className:"treeContent",initialize:function(){g=this.options.state?new e(a.deparam(this.options.state)):new e},beforeRender:function(){var a=this;h=a.model.id,this.insertView("#treeContainer",new f.Views.TreeFilter({excluded:g.getExcluded()})),a.model.set("@parent",""),this.insertView("#treeContainer",new f.Views.TreeNode({model:a.model}))},serialize:function(){}}),f.Views.TreeNode=c.Layout.extend({template:"treebrowser/treeNode",tagName:"ul",className:"treeNode nav nav-list",loaded:!1,expanded:!1,isleaf:!1,level:0,events:{"click .icon":"clickOnElement"},initialize:function(){b.bindAll(this),this.options.parentLevel>=0&&(this.level=this.options.parentLevel+1)},afterRender:function(){this.$el.find("a").tooltip(),this._followPath();var a=g.getExcluded(),c=0;b.each(this.model.attributes,function(d,e){"@"===e.charAt(0)||b.contains(a,e)||(c+=1)}),0===c&&(this.isleaf=!0,this.$el.find("i").removeClass("icon-chevron-right"),this.$el.find("i").removeClass("icon-chevron-down"),this.$el.find("i").addClass(i),this.$el.find("i").removeClass("icon-expandable"))},serialize:function(){return this.model?(this.model.has("@id")?this.model.set("@egadLabel",this.model.getLabel()):this.model.set("@egadLabel",this.model.getLabel("@value")),this.model.toJSON()):{}},_useIcon:function(a){this.isleaf||(this.expanded?(a.removeClass("icon-chevron-right"),a.addClass("icon-chevron-down")):(a.removeClass("icon-chevron-down"),a.addClass("icon-chevron-right")))},clickOnElement:function(a){a.preventDefault(),a.stopPropagation(),this.expanded=!this.expanded,g.trackPath(this.level,decodeURIComponent(this.model.get("@parent")),decodeURIComponent(this.model.id),this.expanded),c.history.navigate("#!/treebrowser/"+encodeURIComponent(h)+"?"+g.toParams(),{trigger:!0})},_followPath:function(){var a=this;if(g.isPathExtended(a.level,decodeURIComponent(this.model.get("@parent")),decodeURIComponent(this.model.id))){if(this.loaded)this.expanded=!this.expanded,this.$el.toggleClass("collapsedNode");else{this.loaded=this.expanded=!0;var c=b.clone(this.model.attributes);b.each(c,function(c,e){var h=g.getExcluded();if("@"!==e.charAt(0)&&!b.contains(h,e)){var i=new d.model.Resource({"@id":encodeURIComponent(e)});i.fetch({async:!1}).done(function(){i.set("@value",c),i.set("@parent",a.model.id),a.$el.find(".propertyList:first").append(new f.Views.TreeNodeProperty({model:i,parentLevel:a.level}).render().$el)}).fail(function(){i.set("@value",c),i.set("@parent",a.model.id),a.$el.find(".propertyList:first").append(new f.Views.TreeNodeProperty({model:i,parentLevel:a.level}).render().$el)})}})}var e=a.$el.find("i:first");this._useIcon(e)}}}),f.Views.TreeNodeProperty=c.Layout.extend({template:"treebrowser/treeNodeProperty",tagName:"ul",className:"treeNodeProperty nav nav-list",loaded:!1,expanded:!1,level:0,events:{"click .icon-expandable":"clickOnProperty","click .icon-remove":"clickOnRemoveProperty","mouseenter li.nodeProperty":"showRemove","mouseleave li.nodeProperty":"hideRemove"},initialize:function(){b.bindAll(this),this.options.parentLevel>=0&&(this.level=this.options.parentLevel+1)},beforeRender:function(){var a=this.model.get("@value"),b=1;a instanceof Array&&(b=a.length),this.model.set("@valCardinality",b)},serialize:function(){return this.model.set("@egadLabel",this.model.getLabel()),this.model.toJSON()},afterRender:function(){this._followPath()},_useIcon:function(a){this.expanded?(a.removeClass("icon-chevron-right"),a.addClass("icon-chevron-down")):(a.removeClass("icon-chevron-down"),a.addClass("icon-chevron-right"))},showRemove:function(b){b.preventDefault(),b.stopPropagation(),a(b.delegateTarget).find(".icon-remove").show()},hideRemove:function(b){b.preventDefault(),b.stopPropagation(),a(b.delegateTarget).find(".icon-remove").hide()},clickOnRemoveProperty:function(b){b.preventDefault(),b.stopPropagation();var d=a(b.target);g.addExcluded(d.attr("nodeId")),c.history.navigate("#!/treebrowser/"+encodeURIComponent(h)+"?"+g.toParams(),{trigger:!0})},clickOnProperty:function(a){a.preventDefault(),a.stopPropagation(),this.expanded=!this.expanded,g.trackPath(this.level,decodeURIComponent(this.model.get("@parent")),decodeURIComponent(this.model.id),this.expanded),c.history.navigate("#!/treebrowser/"+encodeURIComponent(h)+"?"+g.toParams(),{trigger:!0})},_followPath:function(){var a,c=this;if(g.isPathExtended(c.level,decodeURIComponent(this.model.get("@parent")),decodeURIComponent(this.model.id))){if(this.loaded)this.expanded=!this.expanded,this.$el.toggleClass("collapsedNode");else{this.loaded=this.expanded=!0;var e=this.model.get("@value"),h=[];h.push(e),h=b.flatten(h),b.each(h,function(e){if(!b.isObject(e)||b.isObject(e)&&b.has(e,"@value"))a=new d.model.Resource({"@value":e}),a.set("@parent",c.model.id),a.set("@found",!1),c.$el.find(".individualList:first").append(new f.Views.TreeNode({model:a,parentLevel:c.level}).render().$el);else{var g=encodeURIComponent(e["@id"]);a=new d.model.Resource({"@id":g}),a.url=function(){return d.config.get("modules").treebrowser&&d.config.get("modules").treebrowser.reasoning?this.id?d.ajax.graphReasoningUrl("resource",this.id):d.ajax.graphReasoningUrl("resource"):this.id?d.ajax.graphUrl("resource",this.id):d.ajax.graphUrl("resource")},a.fetch({async:!1}).done(function(){a.set("@parent",c.model.id),a.set("@found",!0),c.$el.find(".individualList:first").append(new f.Views.TreeNode({model:a,parentLevel:c.level}).render().$el)}).fail(function(){a.set("@parent",c.model.id),a.set("@found",!1),c.$el.find(".individualList:first").append(new f.Views.TreeNode({model:a,parentLevel:c.level}).render().$el)})}})}var i=c.$el.find("i:first");this._useIcon(i)}}}),f}),define("treebrowser/main",["jquery","underscore","backbone","egad","treebrowser/treebrowser"],function(a,b,c,d,e){"use strict";return d.api.Module.extend({name:"treebrowser",routes:{"!/treebrowser/:ind?*path":"goToTreeBrowser","!/treebrowser/:ind":"goToTreeBrowser"},goToTreeBrowser:function(b,f){var g=encodeURIComponent(b),h=new d.model.Resource({"@id":g});h.url=function(){return d.config.get("modules").treebrowser&&d.config.get("modules").treebrowser.reasoning?this.id?d.ajax.graphReasoningUrl("resource",this.id):d.ajax.graphReasoningUrl("resource"):this.id?d.ajax.graphUrl("resource",this.id):d.ajax.graphUrl("resource")},h.fetch({async:!1}).done(function(){h.set("@found",!0);var b=new e.Views.TreeContainer({model:h,state:f});a(".pageContainer").html(b.$el),b.render()}).fail(function(){c.history.navigate("#!/error/404",{trigger:!0})})}})}),define("treebrowser",["treebrowser/main"],function(a){return a}),define("data/data",["jquery","underscore","egad","backbone","stardog","bootstrap","stardog","select2"],function(a,b,c,d,e){"use strict";var f={Views:{}},g=d.Layout.extend({template:"data/modalView",tagName:"div",className:"modal fade",attributes:{tabindex:"-1",role:"dialog","aria-labelledby":"Data Operation","aria-hidden":"true"},initialize:function(){b.bindAll(this)},events:{"change #uploadForm .fileChoose":"_fileChoose","click #uploadForm .cancel":"cancelFile","click #uploadForm .browse":"browse"},serialize:function(){return this.model.toJSON()},afterRender:function(){this.$el.modal({keyboard:!0,show:!0}).on("hidden.bs.modal",this._onHidden)},_onHidden:function(){a(this.model.get("menuItem")).removeClass("active"),this.remove()},_hide:function(){this.$el.modal("hide")},_fileChoose:function(a){var b=this,c=a.target,d=c.files[0],e=b.$el.find("#uploadForm");e.find("input.filename").val(d.name),e.find("button").show(),e.find("label").show()},browse:function(){this.$el.find("#uploadForm .fileChoose").click()},cancelFile:function(a){a.preventDefault();var b=this.$el.find("#uploadForm"),c=b.find(".fileChoose");c.replaceWith(c=c.clone(!0)),b.find("input.filename").val(""),b.find("button").hide(),b.find("label").hide()}});f.Views.AddModal=g.extend({id:"addModal",initialize:function(){b.bindAll(this)},events:function(){return b.extend({},g.prototype.events,{"click #uploadForm .upload":"doAdd"})},doAdd:function(b){b.preventDefault();var c=this,d=c.$el.find("#uploadForm .fileChoose").prop("files")[0],f=new FileReader,g=h.determineFormat(d.name),i=h.determineCompression(d.name),j=c.$el.find("#graphUri").val()||null;if(a("#uploadSpin").show(),j&&!h.isValidUri(j))return h.createError({message:"Parameter <code>graph-uri</code> is not valid: <code>"+j+"</code>"}),void c._hide();f.onload=function(){var a=this.result,b=new e.Connection,d=window.location.pathname.substring(1),f=function(a){return 200!==a&&(400===a?h.createError({message:"Invalid file type. Please ensure that the contents of the file are valid for the chosen format."}):h.createError({message:"The file is invalid. Please ensure that the file is correctly formed."}),!0)};b.setEndpoint("/"),b.begin({database:d},function(e,k){if(200===k.statusCode){var l={database:d,txId:e,body:a,params:{},contentType:g,contentEncoding:i};j&&(l.graphUri=j),b.addInTransaction(l,function(a,g){if(f(g.statusCode))return void b.rollback({database:d,txId:e},function(){c._hide()});b.commit({database:d,txId:e},function(a,b){if(f(b.statusCode))return void c._hide();h.createSuccess({message:"Data added successfully."}),c._hide()})})}else h.createError({message:"You don't have permissions to modify data."}),c._hide()})},f.readAsArrayBuffer(d)}}),f.Views.RemoveModal=g.extend({id:"removeModal",initialize:function(){b.bindAll(this)},events:function(){return b.extend({},g.prototype.events,{"click #uploadForm .upload":"doRemove"})},doRemove:function(b){b.preventDefault();var c=this,d=c.$el.find("#uploadForm .fileChoose").prop("files")[0],f=new FileReader,g=h.determineFormat(d.name),i=h.determineCompression(d.name),j=c.$el.find("#graphUri").val()||null;if(a("#uploadSpin").show(),j&&!h.isValidUri(j))return h.createError({message:"Parameter <code>graph-uri</code> is not valid: <code>"+j+"</code>"}),void c._hide();var k=function(a){return 200!==a&&(400===a?h.createError({message:"Invalid file type. Please ensure that the contents of the file are valid for the chosen format.\nValid file types are: .rdf, .ttl, .nq, .trig, .nt, .trix."}):h.createError({message:"The file is invalid. Please ensure that the file is correctly formed."}),!0)};f.onload=function(){var a=this.result,b=new e.Connection,d=window.location.pathname.substring(1);b.setEndpoint("/"),b.begin({database:d},function(e,f){if(200==f.statusCode){var l={database:d,txId:e,body:a,params:{},contentType:g,contentEncoding:i};j&&(l.graphUri=j),b.removeInTransaction(l,function(a,f){if(k(f.statusCode))return void b.rollback({database:d,txId:e},function(){c._hide()});b.commit({database:d,txId:e},function(a,b){if(k(b.statusCode))return void c._hide();h.createSuccess({message:"Data removed successfully."}),c._hide()})})}else h.createError({message:"You don't have permissions to modify data."}),c._hide()})},f.readAsArrayBuffer(d)}}),f.Views.ExportModal=d.Layout.extend({template:"data/modalExport",tagName:"div",className:"modal fade",attributes:{tabindex:"-1",role:"dialog","aria-labelledby":"Data Operation","aria-hidden":"true"},initialize:function(){b.bindAll(this),this.dbname=window.location.pathname.substring(1),this.conn=new e.Connection,this.conn.setEndpoint("/"),this.namedGraphs=[]},events:{"click #btnExport":"doExport","click #btnAddNG":"addCustomNamedGraph","click .removeGraph":"removeSelectedGraph","change input[type=radio]":"changeRadio"},serialize:function(){return this.model.toJSON()},afterRender:function(){this.$el.modal({keyboard:!0,show:!0}).on("hidden.bs.modal",this._onHidden),this.$el.find("#selectedGraph").select2({width:"resolve",placeholder:"Search for a named-graph",containerCss:{width:"105%"}})},_onHidden:function(){a(this.model.get("menuItem")).removeClass("active"),this.remove()},_hide:function(){this.$el.modal("hide")},addCustomNamedGraph:function(a){a.preventDefault();var c=this.$el.find("#selectedGraph").val();b.contains(this.namedGraphs,c)||this._addGraph(c)},_addGraph:function(a){var b='<div class="input-group graphEntry"><input type="text" class="form-control custom-control namedGraph" value="'+a+'"><span class="input-group-btn"><button class="btn btn-danger removeGraph" type="button"><i class="icon-remove"></i></button></span></div>';this.$el.find("#addedGraphs").append(b),this.namedGraphs.push(a)},removeSelectedGraph:function(c){c.preventDefault();var d=a(c.target),e=d.parents(".graphEntry").find("input").val();this.namedGraphs=b.without(this.namedGraphs,e),d.parents(".graphEntry").remove()},changeRadio:function(){var b=a("input[name=optionsRadios]:checked","#exportForm").val();this.$el.find("#ngErrorContainer").html(""),this.$el.find("#addedGraphs").empty(),this.namedGraphs=[],"custom"===b?this.$el.find("#customGraphs").show():(this.namedGraphs.push(b),this.$el.find("#customGraphs").hide())},doExport:function(a){a.preventDefault();var c=b.map(this.namedGraphs,function(a){return"graph-uri="+encodeURIComponent(a)}).join("&"),d=this.$el.find("#selectFormat").val(),e=function(a){a.html('<div id="formatErrorMsg" class="alert alert-danger" role="alert" style="margin-top:10px;"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong>Format selected doesn\'t support named-graph, please select other format.</strong></div>')},f=function(a){a.html('<div id="ngErrorMsg" class="alert alert-warning" role="alert" style="margin-top:10px;"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong>You must select a named-graph and click \'Add\' to include in the list of named-graphs to export.</strong></div>')};if(!this.isValidFormat(d))return void e(this.$el.find("#formatErrorContainer"));if(!this.isValidNamedGraphs())return void f(this.$el.find("#ngErrorContainer"));var g="format="+d,h="/"+this.dbname+"/export";this.namedGraphs.length>0?h+="?"+c+"&"+g:h+="?"+g,window.open(h,"_blank")},isValidFormat:function(a){return!(this.namedGraphs.length>1||b.contains(this.namedGraphs,"tag:stardog:api:context:all"))||h.supportsNamedGraphs(a)},isValidNamedGraphs:function(){return"custom"!==a("input[name=optionsRadios]:checked","#exportForm").val()||0!==this.namedGraphs.length}});var h={uriRegex:/^([a-z0-9+.-]+):(?:\/\/(?:((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?((?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)(?::(\d*))?(\/(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?|(\/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?)(?:\?((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?(?:#((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?$/i,createError:function(a){c.event.CommManager.sendMessage("alerts","showErrorAlert",{message:a.message,title:"Error!",isBlock:!0})},createWarning:function(a){c.event.CommManager.sendMessage("alerts","showWarningAlert",{message:a.message,title:"Warning!",isBlock:!0})},createSuccess:function(a){c.event.CommManager.sendMessage("alerts","showSuccessAlert",{message:a.message,title:"Success!",isBlock:!0})},determineFormat:function(a){return a.match(/.*\.xml|.*\.rdf/i)?"application/rdf+xml":a.match(/.*\.ttl/i)?"text/turtle":a.match(/.*\.nq/i)?"text/x-nquads":a.match(/.*\.trig/i)?"application/x-trig":a.match(/.*\.nt/i)?"text/plain":a.match(/.*\.trix/i)?"application/trix":"application/rdf+xml"},determineCompression:function(a){return a.endsWith("gz")?"gz":a.endsWith("bz2")?"bzip2":null},supportsNamedGraphs:function(a){switch(a){case"trig":case"trix":case"json-ld":case"nquads":return!0;default:return!1}},isValidUri:function(a){return h.uriRegex.test(a)}};return f}),define("data/main",["jquery","underscore","backbone","stardog","egad","data/data"],function(a,b,c,d,e,f){"use strict";return e.api.Module.extend({name:"data",initialize:function(){b.bindAll(this),document.getElementById("navli")?this.initViews():e.api.Mediator.subscribe("module:navbar:afterRender",this.initViews)},initViews:function(){var e=window.location.pathname.substring(1),g=new d.Connection;g.setEndpoint("/"),a("#dataItemAdd").on("click",function(b){b.preventDefault(),b.stopPropagation();var d=new f.Views.AddModal({model:new c.Model({label:"Add data",menuItem:"#dataItemAdd"})});a(".pageContainer").prepend(d.$el),d.render()}),a("#dataItemRemove").on("click",function(b){b.preventDefault(),b.stopPropagation();var d=new f.Views.RemoveModal({model:new c.Model({label:"Remove data",menuItem:"#dataItemRemove"})});a(".pageContainer").prepend(d.$el),d.render()}),a("#dataItemExport").on("click",function(d){d.preventDefault(),d.stopPropagation(),g.query({database:e,mimetype:"application/sparql-results+json",query:"select distinct ?g where { graph ?g { ?s ?p ?o } }"},function(d){var g,h,i=[],j=d.results;j.bindings.length>0&&b.each(j.bindings,function(a){b.has(a,"g")&&i.push(a.g.value)}),g=new c.Model({label:"Export data from "+e,namedGraphs:i,menuItem:"#dataItemExport"}),h=new f.Views.ExportModal({model:g}),a(".pageContainer").prepend(h.$el),h.render()})})}})}),define("data",["data/main"],function(a){return a}),define("webconsole/home.view",["jquery","underscore","egad","backbone","bootstrap","handlebars.helpers","handlebars.partials"],function(a,b,c,d){"use strict";return d.Layout.extend({template:"webconsole/home"})}),define("webconsole/main",["jquery","underscore","egad","webconsole/home.view","metadata/datasetinfo","salvattore"],function(a,b,c,d,e,f){"use strict";return c.api.Module.extend({name:"webconsole",routes:{"!/webconsole":"webConsoleHome"},webConsoleHome:function(){var b,c=new d;b=new e({template:"webconsole/metadata",afterRender:function(){f.setup()}}),c.insertView("#webconsole-front",b),a(".pageContainer").html(c.$el),c.render()}})}),define("webconsole",["webconsole/main"],function(a){return a}),define("help/help",["jquery","underscore","egad","backbone","bootstrap"],function(a,b,c,d){"use strict";var e={isSetup:!1,Views:{},Models:{}};return e.Models.ShortcutsDescriptionModel=d.Model.extend({}),e.Views.ShortcutsModal=d.Layout.extend({template:"help/shortcutsModal",tagName:"div",id:"shortcutsModal",className:"modal fade",attributes:{tabindex:"-1",role:"dialog","aria-labelledby":"Shortcuts","aria-hidden":"true"},initialize:function(){b.bindAll(this)},serialize:function(){return{descriptions:b.map(this.model.get("descriptions"),function(a,b){return{name:b,value:a}})}},afterRender:function(){var a=this,b=a.$el;b.modal({keyboard:!0,show:!1}),b.on("hidden.bs.modal",function(){a.remove(),c.api.Mediator.publish("module:help:removed")}),this.show(),c.api.Mediator.publish("module:help:render")},show:function(){this.$el.modal("show")},hide:function(){this.$el.modal("hide")},toggle:function(){this.$el.modal("toggle")}}),c.api.Mediator.subscribe("module:navbar:afterRender",function(){e.isSetup||(a("#help-link").click(function(a){a.preventDefault();var d=c.event.ShortcutsManager.showHelp;b.isFunction(d)&&d()}),e.isSetup=!0)}),e}),define("help/main",["jquery","underscore","egad","help/help"],function(a,b,c,d){"use strict";return c.api.Module.extend({name:"help",initialize:function(){b.bindAll(this),c.event.CommManager.addListener("help","showHelp","Renders help panel",function(b){if(!(a("#shortcutsModal").length>0)){var c=new d.Models.ShortcutsDescriptionModel({descriptions:b.moduleEvents}),e=new d.Views.ShortcutsModal({model:c});a("#wrapper").append(e.$el),e.render()}})}})}),define("help",["help/main"],function(a){return a}),require(["jquery","app","backbone","nprogress","alerts","home","footer","navbar","browse","query","schema","search","metadata","treebrowser","data","webconsole","help"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";a(document).ready(function(){new e,new f,new g,new h,new i,new j,new k,new l,new m,new n,new o,new p,new q,c.history.start({pushState:!1,root:b.root}),a(document).ajaxStart(function(){d.start()}),a(document).ajaxComplete(function(){d.done()}),a(document).on("click","a:not([data-bypass])",function(b){var d=a(this).attr("href");d&&0===d.indexOf("#")&&(b.preventDefault(),c.history.navigate(d,!0))})})}),define("main",["app","nprogress","jquery","backbone"],function(){}),require.config({deps:["main"],paths:{libs:"libs",plugins:"plugins",components:"../components",egad:"core/egad","egad.config.model":"core/egad.config.model","egad.config":"core/egad.config","egad.ajax":"core/egad.ajax","egad.model":"core/egad.model","egad.vocabulary":"core/egad.vocabulary","egad.event":"core/egad.event","egad.view":"core/egad.view",lodash:"../components/lodash/dist/lodash.compat",underscore:"../components/lodash/dist/lodash.underscore","mediator-js":"../components/mediator-js/lib/mediator",handlebars:"../components/handlebars/handlebars",string:"../components/stringjs/lib/string",nprogress:"../components/nprogress/nprogress",backbone:"../components/backbone/backbone","backbone.layoutmanager":"../components/layoutmanager/backbone.layoutmanager",d3:"../components/d3/d3.min",moment:"../components/moment/min/moment.min",datetimepicker:"../components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min",blob:"../components/blob/Blob",filesaver:"../components/FileSaver/FileSaver",bootstrapswitch:"../components/bootstrap-switch/dist/js/bootstrap-switch",stardog:"../components/stardog/js/stardog",jquery:"libs/jquery","jquery-ui":"libs/jquery-ui",bootstrap:"../components/bootstrap/dist/js/bootstrap",visualsearch:"libs/visualsearch",codemirror:"libs/codemirror/codemirror",matchbrackets:"libs/codemirror/matchbrackets",sparqlMode:"libs/codemirror/sparql",turtleMode:"libs/codemirror/turtle",showHint:"libs/codemirror/show-hint",sparqlHint:"libs/codemirror/sparql-hint",select2:"../components/select2/select2",salvattore:"libs/salvattore",keymaster:"libs/keymaster",uri:"libs/uri","fuelux-datagrid":"libs/datagrid",pathtracker:"libs/pathtracker",sparqler:"libs/sparqljs-browser",layoutconfig:"plugins/layoutconfig","underscore.mixins":"plugins/underscore.mixins","handlebars.helpers":"plugins/handlebars.helpers","handlebars.partials":"plugins/handlebars.partials","jquery.bbq":"plugins/jquery.bbq",burry:"plugins/backbone.cachingsync/burry","backbone.cachingsync":"plugins/backbone.cachingsync/backbone.cachingsync",templates:"templates"},packages:[{name:"home",location:"../modules/home"},{name:"footer",location:"../modules/footer"},{name:"navbar",location:"../modules/navbar"},{name:"browse",location:"../modules/browse"},{name:"query",location:"../modules/query"},{name:"schema",location:"../modules/schema"},{name:"search",location:"../modules/search"},{
name:"metadata",location:"../modules/metadata"},{name:"treebrowser",location:"../modules/treebrowser"},{name:"data",location:"../modules/data"},{name:"webconsole",location:"../modules/webconsole"},{name:"help",location:"../modules/help"},{name:"skos",location:"../modules/skos"},{name:"pelorus",location:"../modules/pelorus"},{name:"alerts",location:"../modules/alerts"}],shim:{backbone:{deps:["underscore","jquery"],exports:"Backbone"},select2:{deps:["jquery","bootstrap"]},sparqlMode:{deps:["codemirror"]},turtleMode:{deps:["codemirror"]},codemirror:{exports:"CodeMirror"},showHint:{deps:["codemirror"]},sparqlHint:{deps:["codemirror","sparqlMode","showHint"]},matchbrackets:{deps:["codemirror"]},underscore:{exports:"_"},"underscore.mixins":{deps:["underscore"]},jquery:{exports:"$"},nprogress:{deps:["jquery"]},"jquery-ui":{deps:["jquery"]},handlebars:{deps:["jquery"],exports:"Handlebars"},"fuelux-datagrid":["jquery"],visualsearch:{deps:["jquery","jquery-ui","backbone","underscore"],exports:"VS"},blob:{exports:"Blob"},stardog:{deps:["jquery","underscore"]},datetimepicker:["jquery","bootstrap","moment"],keymaster:{exports:"key"},layoutconfig:["backbone.layoutmanager","handlebars","handlebars.helpers","handlebars.partials","templates"],templates:{deps:["handlebars"],exports:"EGAD_TEMPLATES"},"handlebars.helpers":["jquery","handlebars","string"],"handlebars.partials":["jquery","handlebars"],"backbone.layoutmanager":["jquery","underscore","backbone"],"backbone.cachingsync":["jquery","backbone","underscore","burry"],bootstrap:["jquery"],"jquery.bbq":["jquery"],"egad.event":["keymaster"],"egad.model":["egad.ajax"],"egad.view":["layoutconfig"],"egad.config":["egad.config.model"],egad:["egad.ajax","egad.config","egad.model","egad.vocabulary","egad.event","egad.view"],app:["egad","backbone.cachingsync"],main:["app","nprogress","jquery","backbone"]}}),define("config",function(){});